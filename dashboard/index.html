<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9RZDKB3J4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-Y9RZDKB3J4');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Opportunity Index</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">

    <!-- Primary Meta Tags -->
    <meta name="title" content="AI Opportunity Index">
    <meta name="description" content="An interactive report on how 12 frontier models (including Gemini 3.0, Claude 4.5 Opus with Agents, ChatGPT 5.1 Codex, and You.com ARI) assess the work that can be automated by AI agents.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kevinselhi.github.io/artifact-index/dashboard/">
    <meta property="og:title" content="AI Opportunity Index">
    <meta property="og:description" content="An interactive report on how 12 frontier models (including Gemini 3.0, Claude 4.5 Opus with Agents, ChatGPT 5.1 Codex, and You.com ARI) assess the work that can be automated by AI agents.">
    <meta property="og:image" content="https://kevinselhi.github.io/artifact-index/dashboard/favicon.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://kevinselhi.github.io/artifact-index/dashboard/">
    <meta property="twitter:title" content="AI Opportunity Index">
    <meta property="twitter:description" content="An interactive report on how 12 frontier models (including Gemini 3.0, Claude 4.5 Opus with Agents, ChatGPT 5.1 Codex, and You.com ARI) assess the work that can be automated by AI agents.">
    <meta property="twitter:image" content="https://kevinselhi.github.io/artifact-index/dashboard/favicon.png">

    <!-- WhatsApp / iMessage -->
    <meta property="og:site_name" content="AI Opportunity Index">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="AI Opportunity Index - Interactive Report on AI Agent Automation">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.2.0"></script>
    <style>
        :root {
            --claude-sonnet45: #E07A5F;
            --gemini: #4285F4;
            --opus45: #81B29A;
            --chatgpt51: #10A37F;
            --chatgpt51-codex: #0EA5E9;
            --chatgpt5: #FF6B6B;
            --o3pro: #9B5DE5;
            --perplexity: #F9844A;
            --gemini30: #00BFA5;
            --claude-opus45-agents: #8B5CF6;
            --claude-opus45-cli: #34d399;
            --you-ari: #f59e0b;
            --bg-dark: #1a1a2e;
            --bg-card: #16213e;
            --text-primary: #eaeaea;
            --text-secondary: #a0a0a0;
            --border: #0f3460;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            overflow-x: hidden;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--claude-sonnet45), var(--gemini), var(--opus45));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
            background: var(--bg-card);
            padding: 8px;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .tab {
            padding: 12px 24px;
            background: transparent;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 0.95rem;
            position: relative;
        }

        .tab:hover {
            background: rgba(224, 122, 95, 0.1);
            color: var(--text-primary);
        }

        .tab.active {
            background: linear-gradient(135deg, rgba(224, 122, 95, 0.2), rgba(224, 122, 95, 0.1));
            border-color: var(--claude-sonnet45);
            color: var(--text-primary);
            box-shadow: 0 2px 8px rgba(224, 122, 95, 0.2);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border);
        }

        .card-title {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: var(--text-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .model-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--claude-sonnet45);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .artifact-select {
            width: 100%;
            padding: 12px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            margin-bottom: 20px;
        }

        .artifact-select option {
            background: var(--bg-dark);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            color: var(--text-secondary);
            font-weight: 500;
        }

        tr:hover {
            background: rgba(255,255,255,0.05);
        }

        .variance-high {
            color: #FF6B6B;
        }

        .variance-medium {
            color: #F9844A;
        }

        .variance-low {
            color: #81B29A;
        }

        .variance-toggle {
            padding: 8px 16px;
            border: 1px solid #3d3d5c;
            background: transparent;
            color: #a0a0a0;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.2s;
        }
        .variance-toggle:hover {
            border-color: #E07A5F;
            color: #E07A5F;
        }
        .variance-toggle.active {
            background: #E07A5F;
            border-color: #E07A5F;
            color: white;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                max-width: 100%;
            }

            header {
                padding: 15px;
                margin-bottom: 15px;
            }

            h1 {
                font-size: 1.3rem;
            }

            .subtitle {
                font-size: 0.85rem;
            }

            /* Model Legend - 2 columns on mobile with better visibility */
            .model-legend {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 10px 8px;
                margin-bottom: 12px;
                padding: 10px;
                background: rgba(255,255,255,0.03);
                border-radius: 8px;
            }

            .legend-item {
                font-size: 0.8rem;
                gap: 6px;
            }

            .legend-color {
                width: 14px;
                height: 14px;
                min-width: 14px;
                border-radius: 3px;
            }

            /* Tabs - horizontal scroll */
            .tabs {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 8px;
                margin-bottom: 15px;
                padding: 10px;
            }

            .tab {
                padding: 14px 12px;
                font-size: 0.9rem;
                white-space: nowrap;
                text-align: center;
                border: 2px solid var(--border);
                background: rgba(255, 255, 255, 0.03);
            }

            .tab.active {
                border-color: var(--claude-sonnet45);
                background: linear-gradient(135deg, rgba(224, 122, 95, 0.25), rgba(224, 122, 95, 0.1));
            }

            /* Dashboard grid - single column */
            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            /* Cards */
            .card {
                padding: 15px;
                border-radius: 8px;
            }

            .card-title {
                font-size: 1rem;
            }

            /* Stats grid - 2x2 on mobile */
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .stat-card {
                padding: 12px;
            }

            .stat-value {
                font-size: 1.2rem;
            }

            .stat-label {
                font-size: 0.75rem;
            }

            /* Chart container */
            .chart-container {
                height: 250px;
            }

            /* Tables - horizontal scroll wrapper */
            table {
                font-size: 0.8rem;
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            th, td {
                padding: 8px 10px;
                white-space: nowrap;
            }

            /* Artifact select */
            .artifact-select {
                padding: 10px;
                font-size: 0.9rem;
            }

            /* Mobile sort/filter controls */
            .mobile-controls-wrapper {
                flex-direction: column !important;
                align-items: stretch !important;
                gap: 10px !important;
            }

            /* Readiness filter buttons */
            .readiness-filter-btn {
                padding: 6px 10px !important;
                font-size: 0.75em !important;
            }

            /* Sort buttons */
            .artifact-sort-btn {
                padding: 6px 8px !important;
                font-size: 0.7em !important;
            }

            /* Artifact controls mobile layout */
            .artifact-controls {
                flex-direction: column !important;
                align-items: stretch !important;
                gap: 10px !important;
            }

            .artifact-controls .sort-group {
                width: 100%;
            }

            .artifact-controls .filter-group {
                width: 100%;
                justify-content: flex-start;
            }

            .artifact-controls .control-actions {
                width: 100%;
                justify-content: space-between;
                margin-left: 0 !important;
            }

            .artifact-controls select {
                flex: 1;
                min-width: 0 !important;
            }

            /* Artifact selector mobile */
            .artifact-selector {
                flex-direction: column !important;
            }

            .artifact-selector .artifact-select {
                width: 100% !important;
                min-width: 0 !important;
            }

            .artifact-selector #clearArtifactBtn {
                width: 100%;
                text-align: center;
            }

            /* Industry filter label text on table */
            #industryConsensusTable td:first-child {
                max-width: 100px;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            /* Disruption readiness cards */
            #disruptionReadinessContainer > div:first-child {
                grid-template-columns: 1fr !important;
            }

            /* Summary stats row mobile */
            #disruptionReadinessContainer > div:last-child {
                flex-direction: column !important;
                text-align: center;
            }

            #disruptionReadinessContainer > div:last-child > div {
                border-left: none !important;
                padding-left: 0 !important;
                border-top: 1px solid rgba(255,255,255,0.1);
                padding-top: 12px;
            }

            #disruptionReadinessContainer > div:last-child > div:first-child {
                border-top: none;
                padding-top: 0;
            }

            /* Variance toggle buttons mobile */
            .variance-toggle {
                padding: 6px 10px !important;
                font-size: 0.75em !important;
            }

            /* Top count buttons mobile */
            .top-count-btn {
                padding: 5px 10px !important;
                font-size: 0.75em !important;
            }

            /* Comparison view header mobile */
            #comparison .card-title {
                font-size: 0.9rem;
            }

            /* Variance chart smaller height on mobile */
            #variance .chart-container {
                height: 350px !important;
            }

            /* Model Comparison pagination */
            #comparison .dashboard-grid > .card.full-width > div:first-child {
                flex-direction: column;
                gap: 10px;
            }

            /* Variance toggle buttons at 768px */
            .variance-toggle {
                padding: 6px 10px;
                font-size: 0.8em;
            }
        }

        /* Landscape orientation on mobile devices */
        @media (max-height: 500px) and (orientation: landscape) {
            /* Variance chart - shorter in landscape */
            #variance .chart-container {
                height: 280px !important;
            }

            /* Keep buttons in a row in landscape */
            #variance .card-title {
                flex-direction: row !important;
                flex-wrap: wrap;
                align-items: center !important;
            }

            #variance .card-title > span {
                font-size: 0.85em;
                flex: 1;
                min-width: 200px;
            }

            .variance-btn-group {
                flex-shrink: 0;
            }

            .variance-toggle {
                padding: 6px 10px !important;
                font-size: 0.75em !important;
                min-height: 36px;
            }
        }

        /* Extra small devices */
        @media (max-width: 480px) {
            body {
                padding: 8px;
            }

            h1 {
                font-size: 1.1rem;
            }

            .subtitle {
                font-size: 0.75rem;
            }

            .model-legend {
                grid-template-columns: 1fr 1fr;
                gap: 6px;
            }

            .legend-item {
                font-size: 0.7rem;
            }

            .tabs {
                grid-template-columns: 1fr 1fr;
                gap: 6px;
                padding: 8px;
            }

            .tab {
                padding: 12px 8px;
                font-size: 0.75rem;
                font-weight: 600;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }

            .stat-value {
                font-size: 1rem;
            }

            .chart-container {
                height: 200px;
            }

            th, td {
                padding: 6px 8px;
                font-size: 0.75rem;
            }

            /* Card padding reduced on small screens */
            .card {
                padding: 12px;
            }

            /* Smaller sort buttons on extra small */
            .artifact-sort-btn {
                padding: 5px 6px !important;
                font-size: 0.65em !important;
            }

            /* Filter dropdowns */
            .filter-group {
                flex-direction: column !important;
                align-items: stretch !important;
            }

            .filter-group > div {
                width: 100%;
            }

            .filter-group select {
                width: 100%;
            }

            /* Variance chart - taller on mobile for readability */
            #variance .chart-container {
                height: 400px !important;
            }

            /* Variance card title - stack vertically on mobile */
            #variance .card-title {
                flex-direction: column !important;
                align-items: flex-start !important;
                gap: 10px !important;
            }

            #variance .card-title > span {
                font-size: 0.9em;
            }

            /* Variance toggle buttons - full width row on mobile */
            #variance .card-title > div {
                width: 100%;
                display: flex;
                justify-content: stretch;
            }

            /* Top count buttons */
            .top-count-btn {
                padding: 4px 8px !important;
                font-size: 0.7em !important;
            }

            /* Variance toggles - equal width on mobile */
            .variance-toggle {
                padding: 8px 6px !important;
                font-size: 0.75em !important;
                flex: 1;
                text-align: center;
                min-height: 40px;
            }

            /* Make methodology table scrollable on mobile */
            .card.full-width table {
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .card.full-width thead,
            .card.full-width tbody,
            .card.full-width tr {
                display: table;
                width: 100%;
                table-layout: fixed;
            }

            .card.full-width th,
            .card.full-width td {
                white-space: nowrap;
                min-width: 80px;
            }

            /* Prevent cards from overflowing viewport */
            .card {
                max-width: 100%;
                overflow-x: auto;
                box-sizing: border-box;
            }

            /* Ensure charts don't overflow */
            .chart-container {
                max-width: 100%;
                overflow: hidden;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Opportunity Index</h1>
            <p class="subtitle">12-Model Comparison Dashboard | November 2025</p>
            <p class="subtitle" style="margin-top: 8px; font-size: 0.85rem;">
                from <a href="https://kevinselhi.com" target="_blank" style="color: var(--claude-sonnet45); text-decoration: none;">Agent to Agents</a>
            </p>
        </header>

        <div class="model-legend">
            <div class="legend-item">
                <div class="legend-color" style="background: var(--chatgpt5)"></div>
                <span>ChatGPT 5</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--chatgpt51)"></div>
                <span>ChatGPT 5-1</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--chatgpt51-codex)"></div>
                <span>ChatGPT 5-1 Codex</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--o3pro)"></div>
                <span>o3pro</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--perplexity)"></div>
                <span>Perplexity</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--you-ari)"></div>
                <span>You.com ARI</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--claude-sonnet45)"></div>
                <span>Claude Sonnet 4.5</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--opus45)"></div>
                <span>Claude Opus 4.5</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--claude-opus45-cli)"></div>
                <span>Claude 4.5 Opus CLI</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--claude-opus45-agents)"></div>
                <span>Claude 4.5 Opus Agents</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--gemini)"></div>
                <span>Gemini 2.5 Pro</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--gemini30)"></div>
                <span>Gemini 3.0 Pro</span>
            </div>
        </div>
        <p style="font-size: 0.75em; color: #888; font-style: italic; text-align: center; margin-top: -10px; margin-bottom: 15px;">All models had Deep Research or Extended Thinking enabled</p>

        <div class="tabs">
            <div class="tab active" data-view="overview">Overview</div>
            <div class="tab" data-view="comparison">Model Comparison</div>
            <div class="tab" data-view="artifact">Artifact Deep Dive</div>
            <div class="tab" data-view="variance">Variance Analysis</div>
        </div>

        <!-- Overview View -->
        <div id="overview" class="view">
            <div class="stats-grid" style="margin-bottom: 20px;">
                <div class="stat-card">
                    <div class="stat-value" id="modelCount">--</div>
                    <div class="stat-label">Models Compared</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="artifactCount">--</div>
                    <div class="stat-label">Artifacts Analyzed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">533x</div>
                    <div class="stat-label">Max Variance Ratio</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">$400M</div>
                    <div class="stat-label">Highest Valuation</div>
                </div>
            </div>

            <!-- Automation Opportunity Analysis -->
            <div class="card full-width" style="margin-bottom: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
                    <div class="card-title" style="margin-bottom: 0;">Automation Opportunity by Industry</div>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 0.9em;">
                    Bubble size = Market Size. Industries in the <strong style="color: #81B29A;">upper-right</strong> have many artifacts with high automation feasibility. <strong style="color: #4285F4;">Larger bubbles</strong> = bigger market opportunity.
                    <span id="chartInstructions" style="display: block; margin-top: 5px; font-size: 0.85em; color: #888;"></span>
                </p>
                <div class="dashboard-grid" style="margin: 0;">
                    <div>
                        <div style="position: relative;">
                            <div class="chart-container" style="height: 320px;">
                                <canvas id="automationMatrixChart" style="touch-action: none;"></canvas>
                            </div>
                            <div id="chartZoomControls" style="position: absolute; top: 8px; right: 8px; display: flex; gap: 6px;">
                                <button id="zoomInBtn" onclick="if(window.bubbleChart){ window.bubbleChart.zoom(1.2); document.getElementById('resetZoomBtn').style.display='inline-block'; }" style="min-width: 44px; min-height: 44px; padding: 10px; font-size: 1.1em; font-weight: 600; background: rgba(30, 30, 50, 0.95); border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 6px; cursor: pointer; transition: all 0.2s; box-shadow: 0 2px 8px rgba(0,0,0,0.3);" onmouseover="this.style.borderColor='#81B29A'; this.style.color='#81B29A';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">+</button>
                                <button id="zoomOutBtn" onclick="if(window.bubbleChart){ window.bubbleChart.zoom(0.8); document.getElementById('resetZoomBtn').style.display='inline-block'; }" style="min-width: 44px; min-height: 44px; padding: 10px; font-size: 1.1em; font-weight: 600; background: rgba(30, 30, 50, 0.95); border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 6px; cursor: pointer; transition: all 0.2s; box-shadow: 0 2px 8px rgba(0,0,0,0.3);" onmouseover="this.style.borderColor='#81B29A'; this.style.color='#81B29A';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">‚àí</button>
                                <button id="resetZoomBtn" onclick="if(window.bubbleChart){ window.bubbleChart.resetZoom(); this.style.display='none'; }" style="min-width: 44px; min-height: 44px; padding: 10px 14px; font-size: 0.8em; font-weight: 500; background: rgba(30, 30, 50, 0.95); border: 1px solid #E07A5F; color: #E07A5F; border-radius: 6px; cursor: pointer; transition: all 0.2s; display: none; box-shadow: 0 2px 8px rgba(0,0,0,0.3);" onmouseover="this.style.background='#E07A5F'; this.style.color='#1a1a2e';" onmouseout="this.style.background='rgba(30, 30, 50, 0.95)'; this.style.color='#E07A5F';">‚Ü∫</button>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 0.75em; color: var(--text-secondary); margin-top: 5px; padding: 0 10px;">
                            <span>‚Üê Lower Feasibility (High Variance)</span>
                            <span>Higher Feasibility (Low Variance) ‚Üí</span>
                        </div>
                    </div>
                    <div>
                        <!-- Readiness Filter Buttons -->
                        <div style="display: flex; gap: 6px; margin-bottom: 12px;">
                            <button class="readiness-filter-btn" data-filter="all" onclick="filterIndustryByReadiness('all')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #3d3d5c; background: transparent; color: #a0a0a0; font-size: 0.8em; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                All
                            </button>
                            <button class="readiness-filter-btn active" data-filter="High" onclick="filterIndustryByReadiness('High')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #81B29A; background: #81B29A; color: #1a1a2e; font-size: 0.8em; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                High
                            </button>
                            <button class="readiness-filter-btn" data-filter="Medium" onclick="filterIndustryByReadiness('Medium')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #F4A261; background: transparent; color: #F4A261; font-size: 0.8em; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                Medium
                            </button>
                            <button class="readiness-filter-btn" data-filter="Low" onclick="filterIndustryByReadiness('Low')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #E07A5F; background: transparent; color: #E07A5F; font-size: 0.8em; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                Low
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Industry</th>
                                    <th>Current Feasibility</th>
                                    <th>Market Size</th>
                                    <th>Quick Win</th>
                                </tr>
                            </thead>
                            <tbody id="industryConsensusTable"></tbody>
                        </table>
                        <div style="margin-top: 15px; padding: 12px; background: rgba(129,178,154,0.1); border-radius: 6px; border-left: 3px solid #81B29A;">
                            <div style="font-size: 0.85em; color: var(--text-secondary);">
                                <strong style="color: var(--text-primary);">Reading the Matrix:</strong><br>
                                ‚Ä¢ <strong>Bubble size</strong> = Market size (larger = bigger opportunity)<br>
                                ‚Ä¢ <strong>X-axis</strong> = Automation feasibility (standardization)<br>
                                ‚Ä¢ <strong>Y-axis</strong> = Number of artifacts<br>
                                ‚Ä¢ <strong>Current Feasibility</strong> = Strict assessment requiring <em>both</em> low variance AND good model coverage (stricter than disruption readiness below)
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Methodology Note Between Panels -->
            <div style="margin: 0 0 20px 0; padding: 12px 16px; background: rgba(100, 100, 150, 0.08); border-left: 3px solid #4285F4; border-radius: 4px;">
                <div style="font-size: 0.85em; color: var(--text-secondary); line-height: 1.5;">
                    <strong style="color: #4285F4;">üìä Two Different Lenses:</strong>
                    The panel above uses <strong>strict AND logic</strong> (requires both low variance + good coverage) to assess <em>immediate automation feasibility</em>.
                    The panel below uses <strong>weighted scoring</strong> (70% variance + 30% coverage) to assess <em>overall disruption potential</em>.
                    Different readiness classifications are intentional‚Äîthey answer different strategic questions.
                </div>
            </div>

            <!-- AI Disruption Readiness by Industry -->
            <div class="card full-width" style="margin-bottom: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <div class="card-title" style="margin-bottom: 0;">AI Disruption Readiness by Industry</div>
                    <span id="disruptionIndustryCount" style="color: var(--text-secondary); font-size: 0.85em;">Showing 6 of 18 industries</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 0.9em;">
                    Detailed breakdown of automation potential per industry with specific artifact targets and projected savings.
                </p>
                <div id="disruptionReadinessContainer"></div>
                <div id="disruptionPaginationContainer" style="text-align: center; margin-top: 20px;">
                    <button id="disruptionSeeMoreBtn" onclick="showMoreDisruptionIndustries()" style="padding: 10px 24px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.9em; transition: all 0.2s;" onmouseover="this.style.borderColor='#81B29A'; this.style.color='#81B29A'; this.style.background='rgba(129,178,154,0.1)';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0'; this.style.background='transparent';">
                        See More Industries ‚ñº
                    </button>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-title">Top Artifact Value by Model</div>
                    <div class="chart-container">
                        <canvas id="topValueChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">Valuation Approach Distribution</div>
                    <div class="chart-container">
                        <canvas id="approachChart"></canvas>
                    </div>
                </div>
                <div class="card full-width">
                    <div class="card-title">Model Methodology Comparison</div>
                    <table>
                        <thead>
                            <tr>
                                <th>Model</th>
                                <th>Valuation Approach</th>
                                <th>Top Artifact</th>
                                <th>Top Value</th>
                            </tr>
                        </thead>
                        <tbody id="methodologyTable"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Comparison View -->
        <div id="comparison" class="view hidden">
            <div class="dashboard-grid">
                <div class="card full-width">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <div class="card-title" style="margin-bottom: 0;">Artifact Valuations Across Models (Log Scale)</div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span id="comparisonPageInfo" style="color: var(--text-secondary); font-size: 0.85em;">Page 1 of 8</span>
                            <div style="display: flex; gap: 5px;">
                                <button id="comparisonPrevBtn" onclick="prevComparisonPage()" style="padding: 6px 12px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.85em; transition: all 0.2s;" onmouseover="this.style.borderColor='#E07A5F'; this.style.color='#E07A5F';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">
                                    ‚Üê Prev
                                </button>
                                <button id="comparisonNextBtn" onclick="nextComparisonPage()" style="padding: 6px 12px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.85em; transition: all 0.2s;" onmouseover="this.style.borderColor='#E07A5F'; this.style.color='#E07A5F';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">
                                    Next ‚Üí
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- Sort Controls -->
                    <div style="margin-bottom: 15px; padding-bottom: 12px; border-bottom: 1px solid #2d2d4a;">
                        <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
                            <span style="color: var(--text-secondary); font-size: 0.85em; font-weight: 500;">Sort by:</span>
                            <div style="display: flex; gap: 6px; flex-wrap: wrap;">
                                <button class="comparison-sort-btn" data-sort="controversy" onclick="changeComparisonSort('controversy')" style="padding: 5px 12px; background: #3d3d5c; border: 1px solid #E07A5F; color: #fff; border-radius: 4px; cursor: pointer; font-size: 0.8em; font-weight: 500; transition: all 0.2s;">
                                    Controversy
                                </button>
                                <button class="comparison-sort-btn" data-sort="variance" onclick="changeComparisonSort('variance')" style="padding: 5px 12px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.8em; font-weight: 500; transition: all 0.2s;">
                                    Disagreement
                                </button>
                                <button class="comparison-sort-btn" data-sort="value" onclick="changeComparisonSort('value')" style="padding: 5px 12px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.8em; font-weight: 500; transition: all 0.2s;">
                                    Value
                                </button>
                                <button class="comparison-sort-btn" data-sort="consensus" onclick="changeComparisonSort('consensus')" style="padding: 5px 12px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.8em; font-weight: 500; transition: all 0.2s;">
                                    Consensus
                                </button>
                                <button class="comparison-sort-btn" data-sort="alpha" onclick="changeComparisonSort('alpha')" style="padding: 5px 12px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.8em; font-weight: 500; transition: all 0.2s;">
                                    A-Z
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="chart-container" style="height: 400px;">
                        <canvas id="comparisonChart"></canvas>
                    </div>
                    <!-- Page indicator dots -->
                    <div id="comparisonPageDots" style="display: flex; justify-content: center; gap: 8px; margin-top: 15px;"></div>
                </div>
                <div class="card">
                    <div class="card-title">Highest-Value Sectors (Avg. Across Models)</div>
                    <p style="color: var(--text-secondary); font-size: 0.85em; margin-bottom: 10px;">Top 10 sectors by average artifact valuation</p>
                    <div class="chart-container">
                        <canvas id="sectorChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">Model Agreement Zones</div>
                    <div style="padding: 20px;">
                        <p style="margin-bottom: 15px; color: var(--text-secondary);">Artifacts where models converge:</p>
                        <ul id="agreementZonesList" style="list-style: none;"></ul>
                        <button id="expandAgreementBtn" onclick="toggleAgreementZones()" style="margin-top: 10px; padding: 8px 16px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.85em; transition: all 0.2s; width: 100%;" onmouseover="this.style.borderColor='#81B29A'; this.style.color='#81B29A';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">
                            Show More ‚ñº
                        </button>
                    </div>
                </div>
            </div>

            <!-- Second row: Industry Agreement and Controversy Zones -->
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-title">Industry Agreement Zones</div>
                    <div style="padding: 20px;">
                        <p style="margin-bottom: 15px; color: var(--text-secondary);">Industries with strongest cross-model consensus:</p>
                        <ul id="industryAgreementList" style="list-style: none;"></ul>
                        <button id="expandIndustryBtn" onclick="toggleIndustryAgreement()" style="margin-top: 10px; padding: 8px 16px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.85em; transition: all 0.2s; width: 100%;" onmouseover="this.style.borderColor='#4285F4'; this.style.color='#4285F4';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">
                            Show More ‚ñº
                        </button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-title">High Controversy Zones</div>
                    <div style="padding: 20px;">
                        <p style="margin-bottom: 15px; color: var(--text-secondary);">Artifacts with largest model disagreement:</p>
                        <ul id="controversyZonesList" style="list-style: none;"></ul>
                        <button id="expandControversyBtn" onclick="toggleControversyZones()" style="margin-top: 10px; padding: 8px 16px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.85em; transition: all 0.2s; width: 100%;" onmouseover="this.style.borderColor='#FF6B6B'; this.style.color='#FF6B6B';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">
                            Show More ‚ñº
                        </button>
                    </div>
                </div>
            </div>

            <!-- Model Characteristics -->
            <div class="card full-width" style="margin-top: 20px;">
                <div class="card-title">Model Characteristics & Behavioral Analysis</div>
                <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 0.9em;">
                    Quantitative analysis of each model's artifact selection and valuation behavior compared to the ensemble.
                </p>

                <div id="modelCharacteristicsGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
                    <!-- Model cards will be populated here -->
                </div>

                <!-- Methodology Explanation -->
                <div style="margin-top: 25px; padding: 15px; background: rgba(255,255,255,0.02); border-radius: 8px; border-left: 3px solid var(--text-secondary);">
                    <h4 style="color: var(--text-primary); margin-bottom: 10px; font-size: 0.95em;">Scoring Methodology</h4>
                    <div style="color: var(--text-secondary); font-size: 0.85em; line-height: 1.6;">
                        <p style="margin-bottom: 8px;"><strong>Coverage Score:</strong> % of high-confidence artifacts (‚â•4 models) this model included. Measures comprehensiveness.</p>
                        <p style="margin-bottom: 8px;"><strong>Uniqueness Score:</strong> % of this model's artifacts not valued by others. Measures distinctive perspective (higher = more unique viewpoint).</p>
                        <p style="margin-bottom: 8px;"><strong>Valuation Alignment:</strong> Median % difference from ensemble mean on shared artifacts. Lower = closer alignment with consensus.</p>
                        <p><strong>Interpretation:</strong> High coverage + low uniqueness + low deviation = comprehensive consensus-seeker. Low coverage + high uniqueness = specialized/distinctive. High deviation = systematically different valuation methodology.</p>
                    </div>
                </div>
            </div>

            <!-- Top Artifacts by Model -->
            <div class="card full-width" style="margin-top: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; margin-bottom: 15px;">
                    <div class="card-title" style="margin-bottom: 0;">Top Artifacts by Model</div>
                    <!-- Count Selector -->
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="color: var(--text-secondary); font-size: 0.9em;">Show:</span>
                        <div style="display: flex; gap: 5px;">
                            <button class="top-count-btn active" data-count="25" onclick="switchTop25Count(25)" style="padding: 6px 14px; border-radius: 4px; border: 1px solid #3d3d5c; background: #3d3d5c; color: #fff; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                Top 25
                            </button>
                            <button class="top-count-btn" data-count="50" onclick="switchTop25Count(50)" style="padding: 6px 14px; border-radius: 4px; border: 1px solid #3d3d5c; background: transparent; color: #a0a0a0; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                Top 50
                            </button>
                            <button class="top-count-btn" data-count="100" onclick="switchTop25Count(100)" style="padding: 6px 14px; border-radius: 4px; border: 1px solid #3d3d5c; background: transparent; color: #a0a0a0; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                Top 100
                            </button>
                        </div>
                    </div>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Select a model to view its highest-valued artifacts with cross-model comparison bars.
                </p>

                <!-- Model Selector Buttons (dynamically generated) -->
                <div id="top25ModelSelector" style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px;"></div>

                <!-- Selected Model Info -->
                <div id="top25ModelInfo" style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding: 15px; background: rgba(255,107,107,0.1); border-radius: 8px; border-left: 4px solid #FF6B6B;">
                    <div>
                        <strong id="top25ModelName" style="font-size: 1.1em; color: #FF6B6B;">ChatGPT 5</strong>
                        <p id="top25ModelDesc" style="color: var(--text-secondary); margin: 5px 0 0 0; font-size: 0.9em;">Showing top 25 artifacts ranked by ChatGPT 5's valuations</p>
                    </div>
                </div>

                <!-- Top 25 Table -->
                <div style="overflow-x: auto;">
                    <table id="top25Table" style="width: 100%; min-width: 900px;">
                        <thead>
                            <tr>
                                <th style="width: 40px;">#</th>
                                <th style="width: 220px;">Artifact</th>
                                <th style="width: 120px;">Sector</th>
                                <th style="width: 100px;">Selected Model</th>
                                <th>Cross-Model Comparison</th>
                            </tr>
                        </thead>
                        <tbody id="top25TableBody"></tbody>
                    </table>
                </div>

                <!-- Legend (dynamically generated) -->
                <div id="top25ModelLegend" style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 8px;"></div>
            </div>
        </div>

        <!-- Artifact Deep Dive View -->
        <div id="artifact" class="view hidden">
            <div class="card" style="margin-bottom: 20px;">
                <!-- Sort and Filter Controls -->
                <div class="artifact-controls" style="display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 15px; align-items: center;">
                    <!-- Sort buttons row -->
                    <div class="sort-group" style="display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <span style="color: var(--text-secondary); font-size: 0.85em; font-weight: 500;">Sort:</span>
                        <div style="display: flex; gap: 4px; flex-wrap: wrap;">
                            <button class="artifact-sort-btn active" data-sort="alpha" onclick="sortArtifacts('alpha')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #3d3d5c; background: #3d3d5c; color: #fff; font-size: 0.8em; cursor: pointer; transition: all 0.2s;">A-Z</button>
                            <button class="artifact-sort-btn" data-sort="value" onclick="sortArtifacts('value')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #3d3d5c; background: transparent; color: #a0a0a0; font-size: 0.8em; cursor: pointer; transition: all 0.2s;">Value</button>
                            <button class="artifact-sort-btn" data-sort="market" onclick="sortArtifacts('market')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #3d3d5c; background: transparent; color: #a0a0a0; font-size: 0.8em; cursor: pointer; transition: all 0.2s;">Market</button>
                            <button class="artifact-sort-btn" data-sort="consensus" onclick="sortArtifacts('consensus')" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #3d3d5c; background: transparent; color: #a0a0a0; font-size: 0.8em; cursor: pointer; transition: all 0.2s;">Consensus</button>
                        </div>
                    </div>
                    <!-- Filter dropdowns row -->
                    <div class="filter-group" style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em; font-weight: 500;">Industry:</span>
                            <select id="industryFilter" onchange="filterByIndustry(this.value)" style="padding: 6px 10px; border-radius: 4px; border: 1px solid #3d3d5c; background: #1a1a2e; color: #a0a0a0; font-size: 0.8em; cursor: pointer; min-width: 120px;">
                                <option value="all">All Industries</option>
                            </select>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em; font-weight: 500;">Confidence:</span>
                            <select id="confidenceFilter" onchange="filterByConfidence(this.value)" style="padding: 6px 10px; border-radius: 4px; border: 1px solid #3d3d5c; background: #1a1a2e; color: #a0a0a0; font-size: 0.8em; cursor: pointer; min-width: 100px;">
                                <option value="all">All</option>
                                <option value="high">High (‚â•80%)</option>
                                <option value="medium">Medium (65-79%)</option>
                                <option value="lower">Lower (&lt;65%)</option>
                            </select>
                        </div>
                    </div>
                    <!-- Count and Reset -->
                    <div class="control-actions" style="display: flex; align-items: center; gap: 10px; margin-left: auto;">
                        <span id="artifactCountLabel" style="color: var(--text-secondary); font-size: 0.8em;">Showing all artifacts</span>
                        <button onclick="resetArtifactView()" style="padding: 5px 12px; border-radius: 4px; border: 1px solid #E07A5F; background: transparent; color: #E07A5F; font-size: 0.8em; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#E07A5F'; this.style.color='#fff';" onmouseout="this.style.background='transparent'; this.style.color='#E07A5F';">Reset</button>
                    </div>
                </div>
                <!-- Artifact Selector -->
                <div class="artifact-selector" style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                    <select id="artifactSelect" class="artifact-select" style="flex: 1; min-width: 200px;">
                        <option value="">Select an artifact to analyze...</option>
                    </select>
                    <button id="clearArtifactBtn" onclick="clearArtifactSelection()" style="padding: 10px 16px; background: transparent; border: 1px solid #3d3d5c; color: #a0a0a0; border-radius: 4px; cursor: pointer; font-size: 0.85em; transition: all 0.2s; display: none; white-space: nowrap;" onmouseover="this.style.borderColor='#E07A5F'; this.style.color='#E07A5F';" onmouseout="this.style.borderColor='#3d3d5c'; this.style.color='#a0a0a0';">
                        ‚Üê Back
                    </button>
                </div>
            </div>

            <!-- Artifact Detail View (shown after artifact selection) - positioned above Industry Overview -->
            <div id="artifactDetailView" style="display: none; margin-bottom: 20px;">
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-title">Valuation by Model</div>
                        <div class="chart-container">
                            <canvas id="artifactValueChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-title" id="artifactDetailTitle">Artifact Details</div>
                        <div id="artifactDetails" style="padding: 10px;">
                            <p style="color: var(--text-secondary);">Select an artifact to view details</p>
                        </div>
                    </div>
                </div>
                <!-- AI News & Research Panel (hidden by default, shown when artifact selected) -->
                <div id="newsPanel" class="card" style="margin-top: 15px; display: none;">
                    <div class="card-title" style="display: flex; justify-content: space-between; align-items: center;">
                        <span>AI Impact & Industry News</span>
                        <small id="newsCount" style="color: var(--text-secondary); font-size: 0.8em;"></small>
                    </div>
                    <div style="color: var(--text-secondary); font-size: 0.9em; margin-bottom: 15px;">
                        Recent articles and research about AI's impact on this artifact type (powered by You.com Search API)
                    </div>
                    <div id="newsResults" style="display: flex; flex-direction: column; gap: 12px;">
                        <!-- News results will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Industry Overview Panel (shown when industry is selected) -->
            <div id="industryOverviewPanel" style="display: none; margin-bottom: 20px;">
                <div class="card">
                    <div class="card-title" style="display: flex; justify-content: space-between; align-items: center;">
                        <span id="industryOverviewTitle">Industry Overview</span>
                        <button onclick="filterByIndustry('all'); document.getElementById('industryFilter').value='all';" style="padding: 4px 10px; border-radius: 4px; border: 1px solid #3d3d5c; background: transparent; color: #a0a0a0; font-size: 0.75em; cursor: pointer;">Clear Filter</button>
                    </div>
                    <div id="industryOverviewContent" style="padding: 10px;"></div>
                </div>
            </div>

            <!-- Industry Reports Panel (shown when industry is selected) -->
            <div id="industryReportsPanel" class="card" style="margin-bottom: 20px; display: none;">
                <div class="card-title">Industry Intelligence Report</div>
                <div style="color: var(--text-secondary); font-size: 0.9em; margin-bottom: 15px;">
                    Comprehensive industry analysis across AI Impact, Trends, and Market Insights (powered by You.com Search API)
                </div>
                <div id="industryReportsContent">
                    <!-- Industry reports will be populated here -->
                </div>
            </div>

            <!-- Default Consensus View (shown before artifact selection) -->
            <div id="consensusDefaultView">
                <div class="dashboard-grid">
                    <div class="card full-width">
                        <div class="card-title" id="consensusTitle">Strongest Model Consensus</div>
                        <p id="consensusDescription" style="color: var(--text-secondary); margin-bottom: 15px;">
                            These artifacts show the highest agreement across multiple AI models, indicating reliable valuation benchmarks.
                        </p>
                        <table>
                            <thead>
                                <tr>
                                    <th>Artifact</th>
                                    <th>Models</th>
                                    <th>Consensus Range</th>
                                    <th>Variance</th>
                                    <th>Consensus Cluster</th>
                                </tr>
                            </thead>
                            <tbody id="consensusTable"></tbody>
                        </table>
                    </div>
                </div>
                <div class="dashboard-grid" style="margin-top: 20px;">
                    <div class="card">
                        <div class="card-title">Consensus by Sector</div>
                        <div id="sectorConsensus" style="padding: 10px;"></div>
                    </div>
                    <div class="card">
                        <div class="card-title">What Consensus Means</div>
                        <div style="padding: 10px; color: var(--text-secondary); font-size: 0.9em;">
                            <p style="margin-bottom: 12px;"><strong style="color: var(--text-primary);">Low Variance (&lt;3x):</strong> Models agree on methodology and scope. These valuations are most reliable for benchmarking.</p>
                            <p style="margin-bottom: 12px;"><strong style="color: var(--text-primary);">Multi-Model Coverage:</strong> Artifacts valued by 4+ models have been cross-validated across different AI approaches.</p>
                            <p style="margin-bottom: 12px;"><strong style="color: var(--text-primary);">Consensus Cluster:</strong> The price range where most models converge, representing the market's "center of gravity."</p>
                            <p><strong style="color: var(--text-primary);">Tip:</strong> Select an artifact above to see detailed model-by-model comparisons.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Variance Analysis View -->
        <div id="variance" class="view hidden">
            <div class="dashboard-grid">
                <div class="card full-width">
                    <div class="card-title" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <span id="varianceChartTitle">Highest Variance: Value Range Comparison</span>
                        <div class="variance-btn-group" style="display: flex; gap: 8px; flex-shrink: 0;">
                            <button id="highVarianceBtn" class="variance-toggle active" onclick="showHighVariance()">Highest</button>
                            <button id="midVarianceBtn" class="variance-toggle" onclick="showMidVariance()">Mid-Range</button>
                            <button id="lowVarianceBtn" class="variance-toggle" onclick="showLowVariance()">Lowest</button>
                        </div>
                    </div>
                    <div class="chart-container" style="height: 550px;">
                        <canvas id="varianceChart"></canvas>
                    </div>
                </div>
                <div class="card full-width">
                    <div class="card-title">
                        <span id="varianceTableTitle">Highest Variance Artifacts</span>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Artifact</th>
                                <th>Variance Ratio</th>
                                <th>Lowest Value</th>
                                <th>Highest Value</th>
                                <th>Explanation</th>
                            </tr>
                        </thead>
                        <tbody id="varianceTable"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data
        const modelColors = {
            chatgpt5: '#FF6B6B',
            chatgpt51: '#10A37F',
            chatgpt51_codex: '#0EA5E9',
            o3pro: '#9B5DE5',
            perplexity: '#F9844A',
            you_ari: '#f59e0b',
            claude_sonnet45: '#E07A5F',
            opus45: '#81B29A',
            claude_opus45_cli: '#34d399',
            claude_opus45_agents: '#8B5CF6',
            gemini: '#4285F4',
            gemini30: '#00BFA5'
        };

        const modelNames = {
            chatgpt5: 'ChatGPT 5',
            chatgpt51: 'ChatGPT 5-1',
            chatgpt51_codex: 'ChatGPT 5-1 Codex',
            o3pro: 'o3pro',
            perplexity: 'Perplexity',
            you_ari: 'You.com ARI',
            claude_sonnet45: 'Claude Sonnet 4.5',
            opus45: 'Claude Opus 4.5',
            claude_opus45_cli: 'Claude 4.5 Opus CLI',
            claude_opus45_agents: 'Claude 4.5 Opus Agents',
            gemini: 'Gemini 2.5 Pro',
            gemini30: 'Gemini 3.0 Pro'
        };

        // Global constant for maximum model count (used for scaling calculations)
        const MAX_MODELS = Object.keys(modelColors).length; // Currently 12

        // Industry colors (global for use across functions)
        const industryColors = {
            'Medical/Pharma': '#E07A5F',
            'Financial Services': '#4285F4',
            'Technology': '#81B29A',
            'Legal/Financial': '#10A37F',
            'Management Consulting': '#9B5DE5',
            'Engineering': '#FF6B6B',
            'Real Estate': '#F9844A',
            'Environmental/Engineering': '#00BFA5',
            'Operations/Consulting': '#FFD93D',
            'Legal/Compliance': '#6BCB77',
            'Healthcare': '#E91E63',
            'Energy': '#FF9800',
            'Government': '#3F51B5',
            'Media/Entertainment': '#9C27B0',
            'Telecommunications': '#00BCD4',
            'Retail/Consumer': '#8BC34A',
            'Manufacturing': '#795548',
            'Agriculture': '#4CAF50',
            'Legal': '#26A69A'
        };
        // Artifacts loaded from JSON via init()
        let artifacts = [];
        let dataLoaded = false;
        let mcpEndpoint = 'http://localhost:3000/mcp';

        // Load model metadata and update modelColors/modelNames dynamically
        async function loadModelMetadata() {
            try {
                const response = await fetch('data/model_metadata.json');
                const metadata = await response.json();

                // Update modelColors and modelNames from metadata
                if (metadata.models) {
                    Object.keys(metadata.models).forEach(key => {
                        const model = metadata.models[key];
                        if (model.color && !modelColors[key]) {
                            modelColors[key] = model.color;
                        }
                        if (model.name && !modelNames[key]) {
                            modelNames[key] = model.name;
                        }
                    });
                }

                console.log(`Loaded metadata for ${Object.keys(modelColors).length} models`);
                return metadata;
            } catch (error) {
                console.warn('Could not load model metadata, using defaults:', error);
                return null;
            }
        }

        // Load data from JSON files
        async function loadData() {
            try {
                // Load model metadata first to get colors/names
                await loadModelMetadata();

                const response = await fetch('data/master_valuations.json');
                const valuationsData = await response.json();

                // Set artifacts from JSON
                artifacts = valuationsData.artifacts;

                // Apply default sort (Controversy Score)
                sortComparisonArtifacts();

                // Update artifact count display
                document.getElementById('artifactCount').textContent = artifacts.length;

                // Update model count display
                const modelCount = valuationsData.metadata?.total_models || Object.keys(modelColors).length;
                document.getElementById('modelCount').textContent = modelCount;

                console.log(`Loaded ${artifacts.length} artifacts from JSON`);
                console.log(`${modelCount} models compared`);
                dataLoaded = true;
                return valuationsData;
            } catch (error) {
                console.error('Error loading data:', error);
                document.getElementById('artifactCount').textContent = 'Error';
                document.getElementById('modelCount').textContent = 'Error';
                throw error;
            }
        }

        // Load You.com search results
        let youSearchData = null;

        async function loadYouSearchData() {
            if (youSearchData) return youSearchData;

            try {
                const response = await fetch('data/you-search-results.json');
                youSearchData = await response.json();
                return youSearchData;
            } catch (error) {
                console.error('Failed to load You.com search results:', error);
                return null;
            }
        }

        async function loadNewsResults(artifactId) {
            const newsPanel = document.getElementById('newsPanel');
            const newsResults = document.getElementById('newsResults');
            const newsCount = document.getElementById('newsCount');

            if (!newsPanel || !newsResults) return;

            // Show loading state
            newsPanel.style.display = 'block';
            newsResults.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: 20px;">Loading news...</p>';

            // Load the data
            const data = await loadYouSearchData();

            if (!data || !data.artifacts || !data.artifacts[artifactId]) {
                newsResults.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: 20px;">No news results available for this artifact.</p>';
                newsCount.textContent = '';
                return;
            }

            const artifact = data.artifacts[artifactId];
            const results = artifact.results || [];

            if (results.length === 0) {
                newsResults.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: 20px;">No news results found.</p>';
                newsCount.textContent = '';
                return;
            }

            // Display results
            newsCount.textContent = `${results.length} result${results.length !== 1 ? 's' : ''}`;
            newsResults.innerHTML = results.map(result => `
                <div style="padding: 12px; border-radius: 8px; background: rgba(255,255,255,0.03); border: 1px solid #3d3d5c;">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 6px;">
                        <a href="${result.url}" target="_blank" style="color: var(--text-primary); text-decoration: none; font-weight: 500; flex: 1; line-height: 1.4;">
                            ${result.title}
                        </a>
                        <span style="color: var(--text-secondary); font-size: 0.75em; margin-left: 10px; white-space: nowrap;">${result.source}</span>
                    </div>
                    <p style="color: var(--text-secondary); font-size: 0.85em; margin: 0; line-height: 1.5;">
                        ${result.snippet.substring(0, 200)}${result.snippet.length > 200 ? '...' : ''}
                    </p>
                </div>
            `).join('');
        }

        // Load Industry Reports
        let industryReportsData = null;

        async function loadIndustryReportsData() {
            if (industryReportsData) return industryReportsData;

            try {
                const response = await fetch('data/industry-reports.json');
                industryReportsData = await response.json();
                return industryReportsData;
            } catch (error) {
                console.error('Failed to load industry reports:', error);
                return null;
            }
        }

        async function loadIndustryReports(sector) {
            const reportsPanel = document.getElementById('industryReportsPanel');
            const reportsContent = document.getElementById('industryReportsContent');

            if (!reportsPanel || !reportsContent) return;

            // Show loading state
            reportsPanel.style.display = 'block';
            reportsContent.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: 20px;">Loading industry intelligence...</p>';

            // Load the data
            const data = await loadIndustryReportsData();

            if (!data || !data.sectors || !data.sectors[sector]) {
                reportsContent.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: 20px;">No industry reports available for this sector.</p>';
                return;
            }

            const report = data.sectors[sector];
            const categories = report.categories || {};

            // Build categorized report display
            let html = '';

            // AI Impact & Automation
            if (categories.ai_impact && categories.ai_impact.results && categories.ai_impact.results.length > 0) {
                html += `
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: var(--text-primary); margin-bottom: 12px; font-size: 1em; border-bottom: 1px solid #3d3d5c; padding-bottom: 8px;">
                            ü§ñ ${categories.ai_impact.description}
                        </h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            ${categories.ai_impact.results.map(item => `
                                <div style="padding: 10px; border-radius: 6px; background: rgba(100,150,255,0.05); border: 1px solid rgba(100,150,255,0.2);">
                                    <a href="${item.url}" target="_blank" style="color: var(--text-primary); text-decoration: none; font-weight: 500; display: block; margin-bottom: 4px;">
                                        ${item.title}
                                    </a>
                                    <p style="color: var(--text-secondary); font-size: 0.85em; margin: 0; line-height: 1.5;">
                                        ${item.snippet.substring(0, 150)}${item.snippet.length > 150 ? '...' : ''}
                                    </p>
                                    <span style="color: var(--text-secondary); font-size: 0.75em; margin-top: 4px; display: inline-block;">${item.source}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            // Industry Trends & Innovation
            if (categories.industry_trends && categories.industry_trends.results && categories.industry_trends.results.length > 0) {
                html += `
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: var(--text-primary); margin-bottom: 12px; font-size: 1em; border-bottom: 1px solid #3d3d5c; padding-bottom: 8px;">
                            üìà ${categories.industry_trends.description}
                        </h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            ${categories.industry_trends.results.map(item => `
                                <div style="padding: 10px; border-radius: 6px; background: rgba(100,255,150,0.05); border: 1px solid rgba(100,255,150,0.2);">
                                    <a href="${item.url}" target="_blank" style="color: var(--text-primary); text-decoration: none; font-weight: 500; display: block; margin-bottom: 4px;">
                                        ${item.title}
                                    </a>
                                    <p style="color: var(--text-secondary); font-size: 0.85em; margin: 0; line-height: 1.5;">
                                        ${item.snippet.substring(0, 150)}${item.snippet.length > 150 ? '...' : ''}
                                    </p>
                                    <span style="color: var(--text-secondary); font-size: 0.75em; margin-top: 4px; display: inline-block;">${item.source}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            // Market Analysis & Insights
            if (categories.market_analysis && categories.market_analysis.results && categories.market_analysis.results.length > 0) {
                html += `
                    <div style="margin-bottom: 10px;">
                        <h4 style="color: var(--text-primary); margin-bottom: 12px; font-size: 1em; border-bottom: 1px solid #3d3d5c; padding-bottom: 8px;">
                            üíº ${categories.market_analysis.description}
                        </h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            ${categories.market_analysis.results.map(item => `
                                <div style="padding: 10px; border-radius: 6px; background: rgba(255,200,100,0.05); border: 1px solid rgba(255,200,100,0.2);">
                                    <a href="${item.url}" target="_blank" style="color: var(--text-primary); text-decoration: none; font-weight: 500; display: block; margin-bottom: 4px;">
                                        ${item.title}
                                    </a>
                                    <p style="color: var(--text-secondary); font-size: 0.85em; margin: 0; line-height: 1.5;">
                                        ${item.snippet.substring(0, 150)}${item.snippet.length > 150 ? '...' : ''}
                                    </p>
                                    <span style="color: var(--text-secondary); font-size: 0.75em; margin-top: 4px; display: inline-block;">${item.source}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            if (html) {
                reportsContent.innerHTML = html;
            } else {
                reportsContent.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: 20px;">No reports found.</p>';
            }
        }

        // MCP helper to test connection (with debouncing to prevent rate limiting)
        let mcpTestInProgress = false;
        let lastMcpTestTime = 0;
        const MCP_TEST_COOLDOWN = 2000; // 2 seconds between tests

        async function testMcpConnection() {
            // Prevent rapid-fire requests
            const now = Date.now();
            if (mcpTestInProgress) {
                console.log('[mcp] Test already in progress, skipping...');
                return;
            }
            if (now - lastMcpTestTime < MCP_TEST_COOLDOWN) {
                console.log('[mcp] Cooldown active, please wait...');
                const statusEl = document.getElementById('mcpStatus');
                if (statusEl) statusEl.textContent = 'Please wait...';
                return;
            }

            mcpTestInProgress = true;
            lastMcpTestTime = now;

            const input = document.getElementById('mcpEndpointInput');
            if (input && input.value) {
                mcpEndpoint = input.value;
            }
            const statusEl = document.getElementById('mcpStatus');
            const chatBox = document.getElementById('mcpChatBox');
            const testBtn = document.getElementById('mcpTestButton');

            if (statusEl) statusEl.textContent = 'Testing...';
            if (testBtn) testBtn.disabled = true;

            try {
                // First, initialize the MCP session
                const initPayload = {
                    jsonrpc: '2.0',
                    id: 1,
                    method: 'initialize',
                    params: {
                        protocolVersion: '2024-11-05',
                        capabilities: {},
                        clientInfo: {
                            name: 'artifact-index-dashboard',
                            version: '1.0'
                        }
                    }
                };
                const initRes = await fetch(mcpEndpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json, text/event-stream'
                    },
                    body: JSON.stringify(initPayload)
                });
                if (!initRes.ok) throw new Error(`HTTP ${initRes.status}`);
                const initData = await initRes.json();
                const sessionId = initRes.headers.get('mcp-session-id');

                // Then test with resources/list (using session ID)
                const payload = {
                    jsonrpc: '2.0',
                    id: 2,
                    method: 'resources/list',
                    params: {}
                };
                const res = await fetch(mcpEndpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json, text/event-stream',
                        'mcp-session-id': sessionId
                    },
                    body: JSON.stringify(payload)
                });
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                const data = await res.json();

                if (statusEl) statusEl.textContent = 'Connected ‚úì';
                if (chatBox) {
                    const resourceCount = data.result?.resources?.length || 0;
                    chatBox.innerHTML =
                        '<p style="margin:0; color: #81B29A; font-size: 0.9em;">‚úì MCP server is reachable (' + resourceCount + ' resources available). Use your MCP-enabled client (Claude Code/VS Code/Cursor) with endpoint: <code style="color: #4285F4;">' +
                        mcpEndpoint +
                        '</code></p>';
                }
                console.log('[mcp] Connection successful', { init: initData, resources: data, sessionId });
            } catch (err) {
                console.error('[mcp] Test failed', err);
                if (statusEl) statusEl.textContent = 'Unavailable';
                if (chatBox) {
                    chatBox.innerHTML =
                        '<p style="margin:0; color:#E07A5F; font-size:0.9em;">‚úó MCP server not reachable. Ensure the server is running (<code>npm run dev:http</code>) and CORS allows this origin.</p>';
                }
            } finally {
                mcpTestInProgress = false;
                if (testBtn) {
                    // Re-enable button after cooldown
                    setTimeout(() => {
                        testBtn.disabled = false;
                    }, MCP_TEST_COOLDOWN);
                }
            }
        }

        // Artifact Summaries with descriptions, contributors, and confidence ratings
        const artifactSummaries = {
            // Medical/Pharma Artifacts
            clinical_trial_phase3: {
                summary: "A Phase III Clinical Trial Protocol & Execution represents the final stage of drug testing before regulatory approval. This pivotal study typically enrolls 300-3,000+ participants across multiple sites to confirm efficacy, monitor side effects, and compare the new treatment to existing standards of care. The protocol document includes detailed study design, endpoints, statistical analysis plans, safety monitoring procedures, and regulatory compliance frameworks. These trials generate the primary evidence for FDA New Drug Applications.",
                contributors: ["Principal Investigators (MDs/PhDs)", "Clinical Research Associates", "Biostatisticians", "Regulatory Affairs Specialists", "Clinical Operations Directors", "Medical Monitors", "Data Managers", "Pharmacovigilance Officers"],
                firms: ["Pharmaceutical companies (Pfizer, Merck, Novartis)", "Contract Research Organizations (IQVIA, Covance, PPD)", "Academic Medical Centers", "Site Management Organizations"],
                confidence: 95
            },
            clinical_trial_phase2: {
                summary: "A Phase II Clinical Trial Protocol establishes proof-of-concept for a drug candidate, typically enrolling 100-300 participants. This stage determines optimal dosing, refines the understanding of efficacy signals, and further characterizes the safety profile. The protocol specifies primary and secondary endpoints, randomization procedures, blinding methods, and interim analysis plans. Phase II results inform the go/no-go decision for the more costly Phase III investment.",
                contributors: ["Clinical Investigators", "Biostatisticians", "Clinical Pharmacologists", "Regulatory Scientists", "Clinical Trial Managers", "Medical Writers", "Quality Assurance Specialists"],
                firms: ["Pharmaceutical companies", "Biotechnology firms", "Contract Research Organizations", "Clinical site networks"],
                confidence: 94
            },
            clinical_trial_phase1: {
                summary: "A Phase I Clinical Trial Protocol marks the first-in-human testing of a new drug candidate, typically involving 20-100 healthy volunteers or patients. This safety-focused study establishes dose-limiting toxicities, pharmacokinetics, and initial pharmacodynamic effects. The protocol details dose escalation schemes, safety stopping rules, informed consent procedures, and intensive monitoring requirements. First-in-human studies require particularly rigorous safety oversight.",
                contributors: ["Phase I Unit Directors", "Clinical Pharmacologists", "Pharmacokineticists", "Safety Physicians", "Research Nurses", "Regulatory Specialists", "IRB Coordinators"],
                firms: ["Phase I clinical units", "Academic research centers", "Pharmaceutical companies", "Specialized CROs (Quintiles, Parexel)"],
                confidence: 93
            },
            nda_bla_application: {
                summary: "A New Drug Application (NDA) is the comprehensive submission to the FDA requesting approval to market a new pharmaceutical. This massive dossier, structured in eCTD format across five modules, contains all preclinical data, clinical trial results, chemistry/manufacturing/controls (CMC) information, proposed labeling, and risk-benefit analyses. The NDA represents years of R&D documentation and typically exceeds 100,000 pages. FDA review takes 10-12 months (standard) or 6 months (priority).",
                contributors: ["Regulatory Affairs Directors", "Medical Writers", "CMC Specialists", "Clinical Development Leads", "Toxicologists", "Statisticians", "Labeling Specialists", "Publishing Coordinators"],
                firms: ["Pharmaceutical companies", "Regulatory consulting firms (PAREXEL, Regulatory Professionals)", "Document publishing specialists", "Submission management companies"],
                confidence: 96
            },
            medical_device_510k: {
                summary: "A 510(k) Premarket Notification is an FDA submission demonstrating that a new medical device is substantially equivalent to a legally marketed predicate device. The submission includes device description, intended use, technological characteristics, performance testing data, biocompatibility studies (if applicable), and labeling. Unlike PMA, 510(k) does not require clinical trials in most cases. FDA review typically takes 3-6 months.",
                contributors: ["Regulatory Affairs Managers", "Quality Engineers", "Biomedical Engineers", "Technical Writers", "Biocompatibility Specialists", "Testing Lab Personnel"],
                firms: ["Medical device manufacturers (Medtronic, Boston Scientific, Abbott)", "Regulatory consulting firms", "Testing laboratories (Nelson Labs, WuXi)", "Contract manufacturers"],
                confidence: 94
            },
            pma_application: {
                summary: "A Premarket Approval (PMA) Application is the most stringent FDA device submission, required for Class III high-risk devices. This comprehensive dossier includes valid scientific evidence (typically clinical trials), manufacturing information, device description, and labeling. PMA review involves advisory committee meetings and facility inspections. The process typically takes 180 days (FDA review) plus significant preparation time and may cost $3-10M+ in preparation.",
                contributors: ["Regulatory Affairs Directors", "Clinical Affairs Managers", "Quality Systems Engineers", "Biostatisticians", "Medical Officers", "Manufacturing Engineers", "Clinical Investigators"],
                firms: ["Major medical device companies", "Regulatory consulting firms", "Clinical research organizations", "Testing and certification bodies"],
                confidence: 92
            },
            de_novo_classification: {
                summary: "A De Novo Classification Request is an FDA pathway for novel low-to-moderate risk devices without a predicate. This submission establishes a new device classification and creates a predicate for future 510(k)s. It includes risk analysis, performance data, proposed classification, and special controls. The De Novo process offers a faster route than PMA for innovative devices that don't fit existing classifications.",
                contributors: ["Regulatory Strategists", "Product Development Engineers", "Risk Management Specialists", "Technical Writers", "Quality Assurance Managers"],
                firms: ["Medical device startups", "Established device companies entering new markets", "Regulatory consulting firms"],
                confidence: 88
            },
            clinical_study_report: {
                summary: "A Clinical Study Report (CSR) is a comprehensive document describing the design, methods, results, and conclusions of a clinical trial. Following ICH E3 guidelines, it includes protocol synopsis, patient demographics, efficacy analyses, safety summaries, statistical appendices, and individual patient data listings. The CSR serves as the primary clinical evidence in regulatory submissions and typically runs 200-500+ pages.",
                contributors: ["Medical Writers", "Biostatisticians", "Clinical Research Scientists", "Regulatory Writers", "Data Managers", "Quality Reviewers", "Principal Investigators"],
                firms: ["Pharmaceutical companies", "Medical writing agencies (Synchrogenix, Trilogy Writing)", "CROs", "Biostatistics consultancies"],
                confidence: 95
            },
            drug_master_file: {
                summary: "A Drug Master File (DMF) is a confidential FDA submission containing detailed information about facilities, processes, or components used in drug manufacturing. Types include manufacturing site DMFs, drug substance DMFs, packaging DMFs, and excipient DMFs. DMFs allow manufacturers to share proprietary information with FDA without disclosing it to drug sponsors. They support ANDAs, NDAs, and INDs.",
                contributors: ["CMC Scientists", "Quality Assurance Directors", "Regulatory Affairs Specialists", "Process Engineers", "Analytical Chemists", "Documentation Specialists"],
                firms: ["API manufacturers", "Excipient suppliers", "Contract manufacturers (Lonza, Catalent)", "Packaging component suppliers"],
                confidence: 91
            },
            investigator_brochure: {
                summary: "An Investigator's Brochure (IB) compiles clinical and nonclinical data about an investigational product relevant to human study conduct. Required by ICH GCP guidelines, it includes physical/chemical properties, pharmacology, toxicology, pharmacokinetics, and prior human experience. The IB guides investigators in protocol design and patient management. It requires regular updates as new data emerge.",
                contributors: ["Medical Writers", "Regulatory Scientists", "Pharmacologists", "Toxicologists", "Clinical Scientists", "Quality Reviewers"],
                firms: ["Pharmaceutical sponsors", "Medical writing agencies", "Regulatory consulting firms"],
                confidence: 93
            },
            anda_submission: {
                summary: "An Abbreviated New Drug Application (ANDA) seeks FDA approval to market a generic drug product. Unlike NDAs, ANDAs rely on the safety/efficacy data of the reference listed drug, requiring only bioequivalence studies. Submissions include chemistry/manufacturing data, bioequivalence study results, labeling, and patent certifications. Paragraph IV certifications challenging patents add legal complexity.",
                contributors: ["Regulatory Affairs Specialists", "Bioequivalence Scientists", "CMC Experts", "Patent Attorneys", "Quality Assurance Managers", "Formulation Scientists"],
                firms: ["Generic pharmaceutical companies (Teva, Mylan, Sandoz)", "Regulatory consulting firms", "Bioequivalence CROs", "IP law firms"],
                confidence: 93
            },
            pharmacovigilance_system: {
                summary: "A Pharmacovigilance System Master File (PSMF) documents the system a marketing authorization holder uses to fulfill pharmacovigilance obligations. It includes organizational structure, qualified person details, data sources, computerized systems validation, and quality management processes. Required by EMA and increasingly adopted globally, the PSMF demonstrates capability to detect, assess, and prevent adverse reactions.",
                contributors: ["Pharmacovigilance Directors", "Drug Safety Scientists", "Quality Systems Managers", "Medical Information Officers", "Database Administrators", "Regulatory Affairs Specialists"],
                firms: ["Pharmaceutical companies", "Pharmacovigilance service providers (PrimeVigilance, Ennov)", "Consulting firms specializing in drug safety"],
                confidence: 89
            },
            qms_implementation: {
                summary: "A Quality Management System (QMS) Implementation for medical/pharma establishes the framework for consistent product quality and regulatory compliance. Aligned with ISO 13485 (devices) or ICH Q10 (pharma), it includes quality policy, document control, CAPA systems, management review, and continuous improvement processes. Implementation involves gap analysis, procedure development, training, and certification audits.",
                contributors: ["Quality Directors", "Quality Engineers", "Document Control Specialists", "Training Coordinators", "Internal Auditors", "Process Improvement Specialists"],
                firms: ["Medical device companies", "Pharmaceutical manufacturers", "Quality consulting firms", "Certification bodies (BSI, T√úV, SGS)"],
                confidence: 92
            },
            hospital_coo_certificate: {
                summary: "A Hospital Certificate of Need (CON) Application seeks state regulatory approval for major healthcare facility construction, expansion, or service additions. Applications demonstrate community need, financial feasibility, impact on existing providers, and quality assurance plans. Requirements vary significantly by state. Successful applications require extensive demographic analysis, healthcare utilization projections, and stakeholder engagement.",
                contributors: ["Healthcare Planners", "Health Economists", "Architects", "Financial Analysts", "Healthcare Attorneys", "Community Relations Specialists", "Regulatory Consultants"],
                firms: ["Healthcare consulting firms (Kaufman Hall, ECG Management)", "Healthcare law firms", "Architecture firms specializing in healthcare", "Hospital systems"],
                confidence: 85
            },
            cms_compliance_audit: {
                summary: "A CMS Compliance Audit examines healthcare providers' adherence to Medicare/Medicaid regulations, conditions of participation, and billing requirements. Audits cover documentation practices, coding accuracy, medical necessity, fraud/abuse controls, and quality reporting. Results can trigger repayment demands, civil monetary penalties, or exclusion from federal programs. Preparation involves retrospective claim reviews and policy assessments.",
                contributors: ["Compliance Officers", "Health Information Management Directors", "Coding Specialists (CPC, CCS)", "Internal Auditors", "Healthcare Attorneys", "Revenue Cycle Directors"],
                firms: ["Healthcare compliance consulting firms", "Healthcare law firms", "Audit firms with healthcare practices", "Revenue cycle management companies"],
                confidence: 90
            },
            hipaa_risk_assessment: {
                summary: "A HIPAA Risk Assessment systematically evaluates a covered entity's safeguards for protected health information (PHI). Required by the Security Rule, it identifies threats, vulnerabilities, and current controls across administrative, physical, and technical domains. The assessment produces a risk register, gap analysis, and remediation roadmap. Annual assessments are considered best practice.",
                contributors: ["Privacy Officers", "Information Security Officers", "Compliance Analysts", "IT Security Specialists", "Risk Management Consultants", "Healthcare Attorneys"],
                firms: ["Healthcare IT consulting firms", "Cybersecurity firms with healthcare expertise", "Healthcare compliance consultants", "Law firms with HIPAA practices"],
                confidence: 91
            },
            bla_application: {
                summary: "A Biologics License Application (BLA) seeks FDA approval to market a biological product. More complex than NDAs due to living organism manufacturing, BLAs include detailed characterization, manufacturing process validation, extensive CMC data, clinical trial results, and facility inspection readiness. Biologics include vaccines, blood products, gene therapies, and monoclonal antibodies. Review includes pre-approval facility inspection.",
                contributors: ["Regulatory Affairs Directors", "CMC Scientists specializing in biologics", "Process Development Scientists", "Quality Assurance Directors", "Clinical Development Leads", "Manufacturing Scientists"],
                firms: ["Biotechnology companies (Genentech, Amgen, Regeneron)", "Large pharma biologics divisions", "Contract biologics manufacturers", "Regulatory consulting firms"],
                confidence: 94
            },
            eua_dossier: {
                summary: "An Emergency Use Authorization (EUA) Dossier requests FDA authorization to use an unapproved medical product during a public health emergency. Accelerated compared to standard approvals, EUAs still require safety/efficacy data, manufacturing information, and benefit-risk analysis. The COVID-19 pandemic significantly expanded EUA usage for vaccines, diagnostics, and therapeutics.",
                contributors: ["Regulatory Affairs Specialists", "Clinical Scientists", "Medical Officers", "CMC Experts", "Medical Writers", "Emergency Response Teams"],
                firms: ["Pharmaceutical and device companies", "Diagnostic manufacturers", "Government agencies (BARDA)", "Regulatory consulting firms"],
                confidence: 87
            },

            // Financial Services Artifacts
            ma_advisory_large: {
                summary: "A Large-Cap M&A Advisory Package encompasses comprehensive investment banking services for transactions typically exceeding $500M. Deliverables include company valuations (DCF, comparable companies, precedent transactions), Confidential Information Memorandum (CIM), management presentations, buyer/target identification, due diligence coordination, negotiation support, and fairness opinions. The package guides the entire transaction from engagement through closing.",
                contributors: ["Managing Directors", "Vice Presidents", "Associates", "Analysts", "M&A Attorneys", "Tax Advisors", "Industry Specialists"],
                firms: ["Bulge bracket banks (Goldman Sachs, Morgan Stanley, JPMorgan)", "Elite boutiques (Evercore, Lazard, Centerview)", "Big Four transaction advisory", "Regional investment banks"],
                confidence: 95
            },
            ma_advisory_midmarket: {
                summary: "Upper Mid-Market M&A Advisory covers transactions typically ranging $50M-$500M, requiring similar deliverables to large-cap but often with more specialized industry focus. Services include business valuation, marketing materials, buyer outreach, management presentations, due diligence facilitation, and deal structuring. Mid-market transactions often involve private equity buyers and strategic acquirers.",
                contributors: ["Managing Directors", "Directors", "Vice Presidents", "Associates", "Analysts", "Deal Attorneys", "Accountants"],
                firms: ["Middle-market investment banks (Harris Williams, William Blair, Baird)", "Big Four M&A practices", "Industry-specialized boutiques", "Regional M&A advisors"],
                confidence: 93
            },
            due_diligence_financial: {
                summary: "A Financial Due Diligence Report provides independent analysis of a target company's financial condition for M&A transactions. Key components include quality of earnings analysis, working capital normalization, debt/debt-like items identification, pro forma adjustments, and management discussion validation. The report identifies risks, deal-breakers, and purchase price adjustment items for the buyer.",
                contributors: ["Transaction Advisory Partners", "Senior Managers", "Associates", "Financial Analysts", "Industry Specialists", "Tax Due Diligence Teams"],
                firms: ["Big Four accounting firms (Deloitte, PwC, EY, KPMG)", "National accounting firms (BDO, RSM, Grant Thornton)", "Specialized transaction advisory firms"],
                confidence: 96
            },
            ipo_s1_registration: {
                summary: "An IPO S-1 Registration Statement is the SEC filing required to offer securities to the public. This comprehensive document, structured per SEC Regulation S-K and S-X, includes business description, risk factors, management discussion & analysis (MD&A), executive compensation, audited financial statements, and use of proceeds. The prospectus portion provides investors essential information for investment decisions.",
                contributors: ["Securities Lawyers", "CFOs/Controllers", "External Auditors", "Underwriters", "Financial Printers", "Investor Relations", "Compensation Consultants"],
                firms: ["Top securities law firms (Davis Polk, Simpson Thacher, Latham)", "Big Four audit firms", "Investment banks (underwriters)", "Financial printers (Donnelley, Merrill)"],
                confidence: 97
            },
            fairness_opinion: {
                summary: "A Fairness Opinion is an independent assessment by an investment bank or valuation firm stating whether a proposed transaction price is fair from a financial point of view. Required for fiduciary duty protection in M&A, going-private transactions, and related-party deals, it involves multiple valuation methodologies, market analysis, and board presentation. The opinion provides legal protection against shareholder litigation.",
                contributors: ["Managing Directors (Opinion Committee)", "Valuation Specialists", "Industry Analysts", "Legal Counsel", "Board of Directors"],
                firms: ["Investment banks", "Valuation firms (Duff & Phelps, Houlihan Lokey)", "Big Four valuation practices", "Independent advisory firms"],
                confidence: 95
            },
            quality_of_earnings: {
                summary: "A Quality of Earnings (QoE) Report analyzes the sustainability and accuracy of a target company's reported earnings. It identifies non-recurring items, accounting policy differences, revenue recognition issues, EBITDA adjustments, and working capital normalization. The QoE forms the basis for purchase price negotiations and representations/warranties in purchase agreements.",
                contributors: ["Transaction Advisory Partners", "Senior Managers", "Staff Accountants", "Industry Specialists", "Tax Advisors"],
                firms: ["Big Four transaction services", "National accounting firms", "Specialized QoE providers", "Private equity portfolio company advisors"],
                confidence: 95
            },
            annual_audit: {
                summary: "An Annual Financial Audit (Public Company) provides independent verification that financial statements fairly present the company's financial position per GAAP/IFRS. Conducted under PCAOB standards, it includes internal control testing (SOX 404), substantive procedures, analytical review, and management letter. The audit opinion accompanies 10-K filings and provides investor assurance.",
                contributors: ["Engagement Partners", "Senior Managers", "Staff Auditors", "IT Audit Specialists", "Industry Specialists", "Quality Review Partners"],
                firms: ["Big Four accounting firms", "National accounting firms", "Regional CPA firms (for smaller public companies)"],
                confidence: 97
            },
            hedge_fund_formation: {
                summary: "A Hedge Fund Formation Package establishes the legal structure for a new investment fund. Key documents include Private Placement Memorandum (PPM), Limited Partnership Agreement (LPA), Investment Management Agreement (IMA), subscription documents, and compliance policies. Formation involves SEC/state registration, CFTC/NFA filings (if applicable), and prime broker arrangements.",
                contributors: ["Fund Formation Attorneys", "Tax Attorneys", "Compliance Consultants", "Fund Administrators", "Prime Brokers", "Auditors"],
                firms: ["Fund formation law firms (Seward & Kissel, Schulte Roth & Zabel)", "Fund administrators (SS&C, Citco)", "Big Four fund services", "Prime brokers"],
                confidence: 93
            },
            private_placement_memo: {
                summary: "A Private Placement Memorandum (PPM) is the disclosure document for securities offerings exempt from SEC registration (Reg D, Reg A+). It details investment strategy, terms, risk factors, management backgrounds, fee structure, and legal disclaimers. The PPM protects issuers from securities fraud claims by ensuring adequate disclosure to investors.",
                contributors: ["Securities Attorneys", "Fund Managers", "Compliance Officers", "Marketing Teams", "Tax Advisors"],
                firms: ["Securities law firms", "Fund formation specialists", "Compliance consulting firms"],
                confidence: 94
            },
            credit_rating_analysis: {
                summary: "A Credit Rating Analysis evaluates an issuer's creditworthiness for bond issuance or bank lending. The comprehensive assessment covers financial metrics, business risk profile, industry dynamics, management quality, governance, and liquidity. Rating agencies (S&P, Moody's, Fitch) use standardized methodologies, while internal bank analyses follow regulatory frameworks.",
                contributors: ["Credit Analysts", "Rating Committee Members", "Industry Specialists", "Quantitative Analysts", "Senior Credit Officers"],
                firms: ["Credit rating agencies (S&P, Moody's, Fitch)", "Banks (credit departments)", "Insurance companies", "Institutional investors"],
                confidence: 94
            },
            portfolio_risk_assessment: {
                summary: "A Portfolio Risk Assessment quantifies and analyzes risks across an investment portfolio. It includes Value-at-Risk (VaR) calculations, stress testing, correlation analysis, factor exposures, liquidity risk, and concentration risk. The assessment informs risk limits, hedging strategies, and regulatory capital requirements (for banks).",
                contributors: ["Risk Managers", "Quantitative Analysts", "Portfolio Managers", "Chief Risk Officers", "Compliance Officers"],
                firms: ["Asset managers", "Banks", "Insurance companies", "Risk consulting firms (Oliver Wyman, McKinsey Risk Practice)"],
                confidence: 91
            },
            derivatives_documentation: {
                summary: "A Derivatives Documentation Suite encompasses the legal agreements governing OTC derivative transactions. Core documents include ISDA Master Agreement, Credit Support Annex (CSA), trade confirmations, and collateral schedules. Post-Dodd-Frank requirements add clearing agreements, SEF documentation, and regulatory reporting protocols.",
                contributors: ["Derivatives Lawyers", "Traders", "Risk Managers", "Documentation Specialists", "Collateral Managers", "Compliance Officers"],
                firms: ["Banks (derivatives desks)", "Law firms with derivatives practices", "Hedge funds", "Corporate treasury departments"],
                confidence: 92
            },
            fund_prospectus: {
                summary: "An Investment Fund Prospectus is the SEC-required disclosure document for registered investment companies (mutual funds, ETFs). It details investment objectives, strategies, risks, fees, past performance, and portfolio management. The summary prospectus and statutory prospectus must be delivered to investors before purchase.",
                contributors: ["Fund Counsel", "Compliance Officers", "Portfolio Managers", "Fund Accountants", "Marketing/Communications"],
                firms: ["Mutual fund companies (Vanguard, Fidelity, BlackRock)", "Fund law firms", "Fund administrators", "Financial printers"],
                confidence: 95
            },
            asset_backed_securities: {
                summary: "An Asset-Backed Securities (ABS) Package structures and documents the securitization of financial assets (mortgages, auto loans, credit cards). Components include offering documents, pooling/servicing agreements, indentures, and rating agency presentations. Reg AB II requirements mandate detailed loan-level disclosure and ongoing reporting.",
                contributors: ["Structured Finance Lawyers", "Investment Bankers", "Rating Agency Analysts", "Servicers", "Trustees", "Accountants"],
                firms: ["Investment banks", "Structured finance law firms", "Rating agencies", "Corporate trustees", "Loan servicers"],
                confidence: 91
            },
            wealth_management_plan: {
                summary: "A Comprehensive Wealth Management Plan integrates investment strategy with estate planning, tax optimization, risk management, and philanthropic goals. Deliverables include Investment Policy Statement, asset allocation recommendations, estate plan review, insurance analysis, retirement projections, and family governance structures for high-net-worth individuals.",
                contributors: ["Private Wealth Advisors", "Certified Financial Planners (CFP)", "Estate Attorneys", "CPAs", "Insurance Specialists", "Trust Officers"],
                firms: ["Private banks (JPMorgan Private Bank, Goldman Sachs PWM)", "RIAs", "Family offices", "Trust companies", "Estate planning law firms"],
                confidence: 93
            },
            valuation_services: {
                summary: "A Business Valuation Report determines the fair market value or fair value of a business interest for various purposes: M&A, estate/gift tax, litigation, financial reporting, or shareholder disputes. Methodologies include income approach (DCF), market approach (comparables), and asset approach. Reports follow professional standards (ASA, AICPA, NACVA).",
                contributors: ["Accredited Senior Appraisers (ASA)", "CVAs", "ABVs", "Financial Analysts", "Industry Specialists"],
                firms: ["Big Four valuation practices", "Specialized valuation firms (Duff & Phelps, Kroll)", "Litigation consulting firms", "Regional CPA firms"],
                confidence: 95
            },
            investment_advisory: {
                summary: "Investment Advisory Services provide ongoing portfolio management and financial guidance to institutional or individual clients. Deliverables include investment policy development, asset allocation, manager selection, performance reporting, and fiduciary oversight. Registered Investment Advisors (RIAs) must meet SEC/state fiduciary standards.",
                contributors: ["Chief Investment Officers", "Portfolio Managers", "Research Analysts", "Client Advisors", "Operations Specialists", "Compliance Officers"],
                firms: ["Registered Investment Advisors", "Banks/trust departments", "Family offices", "Institutional consultants (Cambridge Associates, Wilshire)"],
                confidence: 92
            },
            actuarial_valuation: {
                summary: "An Actuarial Valuation Report calculates pension plan liabilities, funding requirements, and expense recognition under accounting standards (ASC 715, IAS 19). It involves demographic assumptions, discount rates, mortality tables, and projected benefit obligations. Required annually for defined benefit plans and used for PBGC filings.",
                contributors: ["Enrolled Actuaries (EA)", "Actuarial Analysts", "Pension Consultants", "Plan Administrators", "Corporate Treasury"],
                firms: ["Actuarial consulting firms (Mercer, Aon, Willis Towers Watson)", "Big Four actuarial practices", "Boutique pension consultants"],
                confidence: 94
            },
            insurance_program_design: {
                summary: "An Insurance Program Design develops comprehensive risk transfer strategies for organizations. Deliverables include risk identification, coverage analysis, policy structure recommendations, carrier negotiations, and total cost of risk analysis. Programs may include property, casualty, professional liability, D&O, cyber, and specialty coverages.",
                contributors: ["Risk Managers", "Insurance Brokers", "Underwriters", "Actuaries", "Claims Specialists", "Coverage Counsel"],
                firms: ["Insurance brokers (Marsh, Aon, Willis)", "Risk consulting firms", "Insurance carriers", "Captive managers"],
                confidence: 92
            },
            captive_insurance_study: {
                summary: "A Captive Insurance Feasibility Study evaluates whether forming a captive insurance company makes sense for an organization. Analysis includes risk profile assessment, premium and loss projections, domicile comparison, capital requirements, tax implications, and implementation roadmap. Captives suit organizations with favorable loss experience and unmet market needs.",
                contributors: ["Captive Consultants", "Actuaries", "Tax Advisors", "Captive Managers", "Insurance Attorneys", "Regulators"],
                firms: ["Captive management companies (Artex, Aon Captive)", "Big Four risk consulting", "Offshore domicile service providers", "Tax law firms"],
                confidence: 88
            },
            claims_analysis: {
                summary: "A Claims Analysis & Reserve Study examines historical claims data to project future liabilities and establish appropriate reserves. Techniques include loss development triangles, frequency/severity analysis, and actuarial projections. Used for self-insured retentions, captives, and insurance company financial statements.",
                contributors: ["Claims Analysts", "Actuaries", "Underwriters", "CFOs/Controllers", "Third-Party Administrators"],
                firms: ["Insurance companies", "Actuarial firms", "Third-party claims administrators", "Self-insured employers"],
                confidence: 91
            },
            spac_merger_proxy: {
                summary: "A SPAC Merger Proxy Statement is the SEC filing seeking shareholder approval for a Special Purpose Acquisition Company's business combination. It includes target company information, pro forma financials, fairness opinions, governance terms, and redemption procedures. The proxy statement is the key disclosure document for de-SPAC transactions.",
                contributors: ["M&A Attorneys", "Securities Lawyers", "Investment Bankers", "Auditors", "Financial Advisors", "Proxy Solicitors"],
                firms: ["Securities law firms", "Investment banks (SPAC underwriters)", "Big Four audit firms", "Proxy advisory firms"],
                confidence: 90
            },
            private_equity_fund_docs: {
                summary: "Private Equity Fund Documentation establishes the legal framework for PE fund operations. Key documents include Limited Partnership Agreement (LPA), Private Placement Memorandum (PPM), subscription agreements, side letters, and management company agreements. Documents address capital calls, distributions, carried interest, governance, and investor rights.",
                contributors: ["Fund Formation Attorneys", "Tax Counsel", "Fund Administrators", "Compliance Officers", "Investor Relations"],
                firms: ["PE-focused law firms (Simpson Thacher, Kirkland & Ellis, Debevoise)", "Fund administrators", "Tax advisors", "Placement agents"],
                confidence: 94
            },
            derivatives_valuation: {
                summary: "Complex Derivatives Valuation determines fair value for exotic options, structured products, and illiquid OTC derivatives. Methods include Monte Carlo simulation, finite difference, and analytical solutions. Valuations support financial reporting (ASC 820), risk management, and collateral calculations. Model validation and documentation are critical.",
                contributors: ["Quantitative Analysts", "Valuation Specialists", "Model Validators", "Front Office Traders", "Risk Managers", "External Auditors"],
                firms: ["Banks (derivatives trading desks)", "Hedge funds", "Valuation service providers", "Model validation consultancies"],
                confidence: 89
            },
            actuarial_reserve_study: {
                summary: "An Actuarial Reserve Study estimates outstanding liabilities for insurance claims, including IBNR (Incurred But Not Reported). Using triangulation methods, expected loss ratios, and Bornhuetter-Ferguson techniques, actuaries project ultimate losses. Required for insurance company statutory and GAAP financial statements.",
                contributors: ["Reserving Actuaries (FCAS, FSA)", "Claims Analysts", "Finance Teams", "External Auditors", "Regulators"],
                firms: ["Insurance companies", "Reinsurers", "Actuarial consulting firms", "Big Four insurance practices"],
                confidence: 93
            },

            // Technology Artifacts
            erp_implementation: {
                summary: "An ERP System Implementation transforms an organization's core business processes through integrated enterprise software (SAP, Oracle, Microsoft Dynamics). The project encompasses requirements gathering, system configuration, data migration, integration development, testing, training, and go-live support. Implementations typically follow vendor methodologies (SAP Activate, Oracle Unified Method) over 12-36 months.",
                contributors: ["Program Managers", "Functional Consultants", "Technical Architects", "Change Management Leads", "Data Migration Specialists", "Business Analysts", "Training Coordinators"],
                firms: ["Systems integrators (Accenture, Deloitte, IBM)", "Software vendors (SAP, Oracle)", "Specialized ERP consultancies", "Boutique implementation partners"],
                confidence: 95
            },
            cloud_migration: {
                summary: "An Enterprise Cloud Migration Strategy guides the systematic movement of applications and infrastructure to cloud platforms (AWS, Azure, GCP). Deliverables include application assessment, migration wave planning, architecture design, security framework, cost modeling, and implementation roadmap. Approaches range from lift-and-shift to cloud-native refactoring.",
                contributors: ["Cloud Architects", "DevOps Engineers", "Security Architects", "Application Owners", "Infrastructure Engineers", "Program Managers"],
                firms: ["Cloud consulting firms", "Systems integrators", "Cloud service providers' professional services", "Managed service providers"],
                confidence: 94
            },
            cybersecurity_assessment: {
                summary: "An Enterprise Cybersecurity Assessment evaluates an organization's security posture across people, processes, and technology. Deliverables include vulnerability assessments, penetration testing results, policy review, architecture analysis, and risk-prioritized recommendations. Assessments often align with frameworks like NIST CSF, ISO 27001, or industry-specific standards.",
                contributors: ["Security Consultants", "Penetration Testers", "Security Architects", "GRC Analysts", "CISOs", "IT Auditors"],
                firms: ["Cybersecurity consulting firms (Mandiant, CrowdStrike Services)", "Big Four cybersecurity practices", "Specialized penetration testing firms", "MSSPs"],
                confidence: 94
            },
            cybersecurity_program: {
                summary: "A Large-Scale Cybersecurity Program & Roadmap develops a multi-year plan to mature an organization's security capabilities. It includes current state assessment, target state definition, capability gap analysis, initiative prioritization, resource planning, and governance framework. Programs address security operations, identity management, data protection, and incident response.",
                contributors: ["Security Program Managers", "CISOs", "Security Architects", "GRC Directors", "Technology Executives", "Change Management Leads"],
                firms: ["Cybersecurity consulting firms", "Big Four cyber practices", "Strategy consulting firms with cyber capabilities"],
                confidence: 91
            },
            soc2_audit: {
                summary: "A SOC 2 Type 2 Audit Report provides independent assurance on a service organization's controls over security, availability, processing integrity, confidentiality, and/or privacy (Trust Services Criteria). Type 2 reports test operating effectiveness over a period (typically 6-12 months). Essential for SaaS companies and service providers demonstrating security to customers.",
                contributors: ["Licensed CPAs", "IT Auditors (CISA)", "Security Specialists", "Compliance Managers", "Control Owners"],
                firms: ["CPA firms with SOC practices", "Big Four risk advisory", "Specialized SOC audit firms (Schellman, A-LIGN)", "National accounting firms"],
                confidence: 96
            },
            penetration_test: {
                summary: "A Penetration Test & Vulnerability Assessment simulates real-world attacks to identify security weaknesses. Testing covers external/internal networks, web applications, wireless, social engineering, and physical security. Deliverables include executive summary, technical findings, risk ratings, and remediation guidance. Tests may follow PTES, OWASP, or NIST methodologies.",
                contributors: ["Penetration Testers (OSCP, CEH)", "Security Consultants", "Application Security Specialists", "Red Team Operators", "Security Engineers"],
                firms: ["Specialized penetration testing firms", "Cybersecurity consultancies", "Big Four cyber practices", "Managed security providers"],
                confidence: 94
            },
            data_analytics_platform: {
                summary: "A Data Analytics Platform Development creates the infrastructure and tools for enterprise-wide data analysis. Components include data warehousing, ETL/ELT pipelines, business intelligence tools, self-service analytics, and advanced analytics/ML capabilities. Modern platforms leverage cloud services and support real-time and batch processing.",
                contributors: ["Data Architects", "Data Engineers", "BI Developers", "Data Scientists", "Analytics Product Managers", "Database Administrators"],
                firms: ["Data consulting firms", "Systems integrators", "Cloud platform specialists", "Analytics software vendors (Snowflake, Databricks partners)"],
                confidence: 92
            },
            custom_software: {
                summary: "Custom Software Development creates purpose-built applications for specific business needs. The lifecycle includes requirements analysis, system design, development, testing, deployment, and maintenance. Modern approaches emphasize Agile methodologies, DevOps practices, and cloud-native architectures. Projects range from internal tools to customer-facing platforms.",
                contributors: ["Software Architects", "Developers/Engineers", "QA Engineers", "Product Managers", "UX Designers", "DevOps Engineers", "Project Managers"],
                firms: ["Custom development shops", "Systems integrators", "Offshore development centers", "Digital agencies", "Technology consulting firms"],
                confidence: 93
            },
            ai_ml_implementation: {
                summary: "An AI/ML Model Development & Deployment project creates machine learning solutions for business problems. Phases include problem framing, data preparation, feature engineering, model development, validation, deployment, and monitoring. Modern ML platforms (MLOps) enable reproducible, scalable AI solutions across prediction, classification, and NLP use cases.",
                contributors: ["Data Scientists", "ML Engineers", "Data Engineers", "Domain Experts", "MLOps Engineers", "Product Managers"],
                firms: ["AI consulting firms", "Technology consulting practices", "Specialized ML shops", "Cloud AI services teams"],
                confidence: 90
            },
            blockchain_implementation: {
                summary: "A Blockchain Implementation Roadmap plans the deployment of distributed ledger technology for enterprise use cases. Deliverables include use case assessment, platform selection (Ethereum, Hyperledger, etc.), architecture design, smart contract development, integration planning, and governance framework. Applications include supply chain, financial services, and digital identity.",
                contributors: ["Blockchain Architects", "Smart Contract Developers", "Solution Architects", "Business Analysts", "Security Specialists", "Network Engineers"],
                firms: ["Blockchain consulting firms (ConsenSys, R3)", "Technology consulting practices", "Systems integrators", "Fintech specialists"],
                confidence: 85
            },
            business_continuity: {
                summary: "A Business Continuity & Disaster Recovery Plan ensures organizational resilience against disruptions. Components include business impact analysis, recovery strategies, crisis management procedures, IT DR plans, and testing programs. Plans address natural disasters, cyber attacks, pandemics, and supply chain disruptions. Standards include ISO 22301 and NIST frameworks.",
                contributors: ["Business Continuity Managers", "IT DR Specialists", "Risk Managers", "Crisis Management Teams", "Facility Managers", "Operations Leaders"],
                firms: ["Risk consulting firms", "IT DR specialists", "Big Four risk practices", "Insurance company risk engineering"],
                confidence: 93
            },
            enterprise_architecture: {
                summary: "An Enterprise Architecture Design creates the comprehensive blueprint for an organization's IT landscape. Using frameworks like TOGAF or Zachman, it defines business, application, data, and technology architectures. Deliverables include current/target state models, roadmaps, principles, and governance. EA drives digital transformation and technology investment decisions.",
                contributors: ["Enterprise Architects", "Solution Architects", "Business Architects", "Data Architects", "CIOs/CTOs", "Domain Experts"],
                firms: ["Management consulting firms", "Technology consulting practices", "EA specialist firms", "Independent EA consultants"],
                confidence: 92
            },
            data_governance_framework: {
                summary: "A Data Governance Framework establishes policies, processes, and roles for managing enterprise data as a strategic asset. Components include data ownership model, data quality standards, metadata management, data lineage, privacy controls, and stewardship organization. Frameworks support regulatory compliance and analytics initiatives.",
                contributors: ["Chief Data Officers", "Data Governance Leads", "Data Stewards", "Privacy Officers", "Data Quality Analysts", "Metadata Managers"],
                firms: ["Data management consultancies", "Big Four data practices", "Technology consulting firms", "Software vendors (Collibra, Informatica partners)"],
                confidence: 91
            },
            api_strategy: {
                summary: "An API Strategy & Platform Design develops the approach for exposing and consuming APIs across the enterprise. Deliverables include API standards, governance model, security framework, developer portal design, and monetization strategy. Modern API platforms enable digital ecosystems, partner integrations, and microservices architectures.",
                contributors: ["API Architects", "Integration Architects", "Security Specialists", "Developer Experience Leads", "Product Managers", "Platform Engineers"],
                firms: ["Technology consulting firms", "API platform vendors (Apigee, MuleSoft partners)", "Digital transformation consultancies"],
                confidence: 89
            },
            devops_transformation: {
                summary: "A DevOps Transformation Roadmap guides cultural and technical change to improve software delivery. Components include CI/CD pipeline design, infrastructure as code, monitoring/observability, SRE practices, and organizational restructuring. Transformations aim to increase deployment frequency, reduce lead time, and improve reliability (DORA metrics).",
                contributors: ["DevOps Engineers", "Platform Engineers", "SRE Leads", "Release Managers", "Agile Coaches", "Development Managers"],
                firms: ["DevOps consulting firms", "Cloud platform professional services", "Technology consulting practices", "Agile transformation specialists"],
                confidence: 91
            },
            it_due_diligence: {
                summary: "IT Due Diligence (M&A) assesses a target company's technology assets, liabilities, and integration complexity. Review areas include infrastructure, applications, security posture, technical debt, IT organization, vendor contracts, and scalability. Findings inform purchase price, integration planning, and transition service agreements.",
                contributors: ["IT Due Diligence Consultants", "Security Assessors", "Infrastructure Specialists", "Application Analysts", "M&A Integration Teams"],
                firms: ["Technology consulting firms", "Big Four technology advisory", "Specialized M&A IT diligence firms", "Cybersecurity consultants"],
                confidence: 92
            },
            saas_implementation: {
                summary: "A SaaS Platform Implementation deploys cloud-based business applications (Salesforce, Workday, ServiceNow). Projects include requirements gathering, configuration, integration, data migration, customization, testing, and user adoption. SaaS implementations emphasize configuration over coding and require strong change management.",
                contributors: ["Implementation Consultants", "Solution Architects", "Integration Developers", "Change Management Leads", "Business Analysts", "Project Managers"],
                firms: ["SaaS vendor professional services", "Certified implementation partners", "Systems integrators", "Boutique SaaS consultancies"],
                confidence: 93
            },
            legacy_modernization: {
                summary: "A Legacy System Modernization project transforms aging technology assets to meet current business needs. Approaches include replatforming, refactoring, rewriting, or replacing legacy systems. Deliverables encompass assessment, modernization strategy, architecture design, and phased implementation plan. Projects address technical debt, maintenance costs, and innovation barriers.",
                contributors: ["Application Architects", "Legacy System Experts", "Modern Technology Specialists", "Business Analysts", "Program Managers", "QA Teams"],
                firms: ["Systems integrators", "Application modernization specialists", "Cloud migration consultancies", "Technology consulting firms"],
                confidence: 90
            },
            identity_access_management: {
                summary: "An Identity & Access Management (IAM) Implementation deploys systems for managing user identities, authentication, and authorization. Components include identity governance, privileged access management, single sign-on, multi-factor authentication, and directory services. Modern IAM supports zero-trust architectures and hybrid/multi-cloud environments.",
                contributors: ["IAM Architects", "Security Engineers", "Identity Governance Specialists", "Directory Administrators", "Compliance Analysts", "Integration Developers"],
                firms: ["IAM consulting firms", "Cybersecurity consultancies", "Identity platform vendors (Okta, Ping, SailPoint partners)", "Systems integrators"],
                confidence: 91
            },
            data_warehouse: {
                summary: "A Data Warehouse Implementation creates the central repository for enterprise analytical data. Components include dimensional modeling, ETL/ELT development, metadata management, BI tool integration, and data quality processes. Modern implementations leverage cloud platforms (Snowflake, BigQuery, Redshift) and support both traditional BI and advanced analytics.",
                contributors: ["Data Architects", "ETL Developers", "Database Administrators", "BI Developers", "Data Modelers", "Data Quality Analysts"],
                firms: ["Data consulting firms", "Cloud platform partners", "BI tool implementers", "Systems integrators"],
                confidence: 93
            },
            mobile_app_development: {
                summary: "Enterprise Mobile App Development creates business applications for iOS, Android, and cross-platform deployment. Projects span native development, hybrid/cross-platform frameworks (React Native, Flutter), and progressive web apps. Deliverables include UX design, development, backend integration, security implementation, and app store deployment.",
                contributors: ["Mobile Developers (iOS/Android)", "UX/UI Designers", "Backend Developers", "QA Engineers", "Product Managers", "Security Specialists"],
                firms: ["Mobile development agencies", "Digital agencies", "Systems integrators", "Specialized mobile shops"],
                confidence: 92
            },
            saas_platform_architecture: {
                summary: "A SaaS Platform Architecture designs the technical foundation for multi-tenant software-as-a-service products. Key components include multi-tenancy model, scalability architecture, security framework, integration layer, and operations/monitoring. Architecture decisions impact cost structure, performance, and market positioning.",
                contributors: ["Platform Architects", "Cloud Engineers", "Security Architects", "DevOps Engineers", "Product Managers", "CTOs"],
                firms: ["SaaS development consultancies", "Cloud architecture firms", "Technology advisory practices", "Venture-backed startup advisors"],
                confidence: 88
            },
            microservices_migration: {
                summary: "A Microservices Migration Plan transforms monolithic applications into distributed microservices architectures. Deliverables include domain decomposition, service design, data strategy, inter-service communication patterns, deployment approach, and migration sequencing. Migration enables independent scaling, faster releases, and technology flexibility.",
                contributors: ["Application Architects", "Domain Experts", "Platform Engineers", "DevOps Specialists", "Development Teams", "API Designers"],
                firms: ["Technology consulting firms", "Cloud platform specialists", "Application modernization consultancies", "Software development firms"],
                confidence: 89
            },

            // Legal Artifacts
            bankruptcy_restructuring: {
                summary: "A Chapter 11 Restructuring Plan is the comprehensive document proposing how a debtor company will reorganize its debts and operations to emerge from bankruptcy. Key components include classification of claims, treatment of creditors, operational restructuring measures, financial projections, and feasibility analysis. The plan requires creditor voting and court confirmation under Bankruptcy Code Section 1129.",
                contributors: ["Restructuring Attorneys", "Financial Advisors", "Turnaround Consultants", "Investment Bankers", "Claims Agents", "Valuation Experts"],
                firms: ["Restructuring law firms (Weil, Kirkland, Skadden)", "Financial advisory firms (Alvarez & Marsal, FTI)", "Investment banks (Houlihan Lokey, PJT)", "Big Four restructuring practices"],
                confidence: 95
            },
            litigation_expert: {
                summary: "An Expert Witness Report provides specialized technical or scientific opinion for litigation support. Reports present methodology, analysis, findings, and conclusions supporting legal claims or defenses. Expert witnesses may testify at trial, and reports must meet Daubert/Frye evidentiary standards. Common areas include damages, intellectual property, accounting, and technical matters.",
                contributors: ["Subject Matter Experts (PhDs, CPAs, Engineers)", "Forensic Accountants", "Economic Consultants", "Industry Experts", "Litigation Attorneys"],
                firms: ["Litigation consulting firms (FTI, Cornerstone Research, Analysis Group)", "Forensic accounting practices", "Economic consulting firms", "Academic experts"],
                confidence: 94
            },
            patent_litigation: {
                summary: "A Patent Litigation Opinion/Brief provides legal analysis on patent infringement, validity, or claim construction issues. Deliverables include infringement analysis (literal and doctrine of equivalents), invalidity contentions, claim charts, and briefing on Markman hearings. Patent litigation involves specialized procedures in federal court and ITC.",
                contributors: ["Patent Litigators", "Technical Experts", "Patent Agents", "Claim Construction Specialists", "Damages Experts"],
                firms: ["IP litigation firms (Fish & Richardson, Finnegan)", "Am Law 100 IP departments", "Patent prosecution firms", "Technical consulting firms"],
                confidence: 93
            },
            securities_litigation: {
                summary: "Securities Litigation Defense represents companies and executives in securities fraud class actions, SEC investigations, and derivative suits. Work includes motion practice, discovery management, expert coordination, and trial preparation. Section 10b-5 cases focus on material misstatements, scienter, and loss causation. Securities litigation follows heightened pleading standards.",
                contributors: ["Securities Litigators", "White Collar Attorneys", "Forensic Accountants", "Economic Experts", "E-discovery Specialists"],
                firms: ["Securities litigation firms (Cleary, Sullivan & Cromwell, Gibson Dunn)", "White collar defense firms", "Forensic accounting firms", "Damages consulting firms"],
                confidence: 94
            },
            antitrust_filing: {
                summary: "An Antitrust/Competition Filing Package addresses regulatory requirements for significant M&A transactions. U.S. Hart-Scott-Rodino (HSR) filings include detailed competitive overlap analysis, market definitions, and business documents. International filings (EC, CMA, etc.) require similar analysis with jurisdiction-specific requirements. Second requests demand extensive document production.",
                contributors: ["Antitrust Lawyers", "Economists", "Paralegals", "Business Development Teams", "Document Review Attorneys"],
                firms: ["Antitrust law firms (Cravath, Cleary, Axinn)", "Economic consulting firms (Compass Lexecon, NERA)", "E-discovery vendors", "Regulatory filing specialists"],
                confidence: 93
            },
            regulatory_investigation: {
                summary: "A Regulatory Investigation Response manages company exposure to government enforcement actions. Work includes investigation assessment, document preservation, internal investigation, agency negotiations, and potential settlement. Investigations may involve DOJ, SEC, FTC, state AGs, or international regulators. Response strategy balances cooperation with protection of rights.",
                contributors: ["White Collar Attorneys", "Regulatory Counsel", "Forensic Investigators", "Compliance Officers", "Crisis Communications", "Expert Witnesses"],
                firms: ["White collar law firms", "Regulatory specialists", "Forensic consulting firms", "Crisis management firms"],
                confidence: 92
            },
            ip_portfolio_audit: {
                summary: "An IP Portfolio Audit & Strategy evaluates an organization's intellectual property assets (patents, trademarks, copyrights, trade secrets). Analysis covers portfolio strength, competitive positioning, licensing opportunities, and maintenance decisions. Deliverables include portfolio inventory, gap analysis, and strategic recommendations aligned with business objectives.",
                contributors: ["IP Attorneys", "Patent Agents", "Trademark Specialists", "IP Strategists", "Licensing Specialists", "R&D Leadership"],
                firms: ["IP law firms", "IP consulting firms", "Technology consulting practices", "Patent analytics firms"],
                confidence: 90
            },
            contract_management_system: {
                summary: "A Contract Management System Design creates the framework for enterprise contract lifecycle management. Components include contract templates, approval workflows, obligation tracking, reporting/analytics, and integration with ERP/CRM systems. Modern CLM platforms enable searchability, risk identification, and compliance monitoring across thousands of agreements.",
                contributors: ["Legal Operations Managers", "Contract Managers", "IT Project Managers", "Business Analysts", "Procurement Specialists", "General Counsel"],
                firms: ["Legal technology consultants", "CLM platform vendors (Icertis, DocuSign CLM)", "Systems integrators", "Legal operations consultancies"],
                confidence: 88
            },
            tax_opinion: {
                summary: "A Tax Opinion (Complex Transaction) provides professional legal/accounting analysis on the tax consequences of proposed transactions. Common topics include M&A structuring, partnership allocations, international tax planning, and SALT issues. Opinions carry varying confidence levels ('should,' 'more likely than not,' 'substantial authority') and affect penalty protection.",
                contributors: ["Tax Partners (JD/LLM or CPA)", "Tax Associates", "Transfer Pricing Specialists", "International Tax Experts"],
                firms: ["Big Four tax practices", "Tax law firms (Skadden Tax, Cravath Tax)", "Boutique tax advisory firms", "Regional CPA firms"],
                confidence: 95
            },
            compliance_regulatory: {
                summary: "A Regulatory Compliance Audit & Remediation assesses adherence to industry-specific regulations and develops corrective action plans. Scope varies by industry: financial services (SEC, FINRA), healthcare (HIPAA, Stark), energy (FERC), etc. Deliverables include compliance gap assessment, remediation roadmap, policy development, and training programs.",
                contributors: ["Compliance Officers", "Internal Auditors", "Regulatory Specialists", "Legal Counsel", "Quality Assurance Managers", "Business Unit Leaders"],
                firms: ["Compliance consulting firms", "Big Four regulatory practices", "Industry-specific consultancies", "Law firms with regulatory practices"],
                confidence: 92
            },
            sox_compliance: {
                summary: "A SOX Compliance Assessment evaluates public company controls over financial reporting per Sarbanes-Oxley Section 404. Work includes control identification, testing, deficiency evaluation, and remediation support. Management and auditor assessments required annually. Material weaknesses require disclosure and aggressive remediation.",
                contributors: ["SOX Compliance Managers", "Internal Auditors", "External Auditors", "IT Audit Specialists", "Process Owners", "CFO/Controllers"],
                firms: ["Big Four audit/advisory firms", "National accounting firms", "SOX compliance specialists", "IT audit firms"],
                confidence: 95
            },
            gdpr_compliance: {
                summary: "A GDPR Compliance Program implements EU General Data Protection Regulation requirements. Components include data inventory, privacy impact assessments, consent management, data subject rights procedures, breach notification protocols, and Data Protection Officer appointment. Non-compliance risks fines up to 4% of global revenue.",
                contributors: ["Privacy Officers/DPOs", "Privacy Attorneys", "IT Security Teams", "Data Governance Specialists", "Compliance Managers", "Business Process Owners"],
                firms: ["Privacy consulting firms", "Law firms with GDPR practices", "Big Four privacy/cyber practices", "Technology consultancies"],
                confidence: 93
            },
            hipaa_compliance: {
                summary: "A HIPAA Compliance Assessment evaluates covered entities' and business associates' adherence to Privacy, Security, and Breach Notification Rules. Analysis covers administrative, physical, and technical safeguards, policies/procedures, training, and business associate agreements. OCR enforcement and state attorneys general create significant compliance pressure.",
                contributors: ["Privacy Officers", "Security Officers", "Compliance Managers", "Healthcare Attorneys", "IT Security Teams", "Quality Managers"],
                firms: ["Healthcare compliance consultants", "Healthcare law firms", "Cybersecurity firms with healthcare focus", "Big Four healthcare advisory"],
                confidence: 93
            },
            enterprise_risk_management: {
                summary: "An Enterprise Risk Management Framework establishes the systematic approach to identifying, assessing, and managing risks across an organization. Aligned with COSO ERM or ISO 31000, components include risk appetite definition, risk assessment methodology, risk monitoring, and board reporting. ERM supports strategic decision-making and regulatory compliance.",
                contributors: ["Chief Risk Officers", "Risk Managers", "Internal Auditors", "Business Unit Leaders", "Board Risk Committee Members", "Compliance Officers"],
                firms: ["Risk consulting firms", "Big Four risk advisory", "Insurance company risk engineering", "Management consulting firms"],
                confidence: 92
            },
            internal_audit: {
                summary: "An Internal Audit Program provides independent assurance on risk management, control, and governance processes. Following IIA Standards, programs include risk-based audit planning, fieldwork execution, report issuance, and issue tracking. Modern internal audit addresses technology risks, continuous auditing, and strategic advisory beyond traditional financial controls.",
                contributors: ["Chief Audit Executives", "Internal Auditors (CIA, CPA)", "IT Auditors (CISA)", "Data Analysts", "Audit Committee Members"],
                firms: ["Internal audit departments", "Co-sourced internal audit providers", "Big Four internal audit services", "Specialized IA consulting firms"],
                confidence: 94
            },
            aml_compliance: {
                summary: "An AML/KYC Compliance Program establishes anti-money laundering and customer due diligence controls per Bank Secrecy Act and FinCEN requirements. Components include customer identification program (CIP), enhanced due diligence, transaction monitoring, suspicious activity reporting, and OFAC screening. Programs require ongoing tuning and regulatory examination readiness.",
                contributors: ["BSA/AML Officers", "Compliance Analysts", "KYC Specialists", "Investigation Teams", "Model Validation Analysts", "Legal Counsel"],
                firms: ["Financial services compliance consultants", "Big Four AML practices", "RegTech vendors", "Law firms with BSA/AML practices"],
                confidence: 93
            },
            government_contract: {
                summary: "A Government Contract Proposal responds to federal agency solicitations (RFPs, RFQs). Proposals include technical approach, management plan, past performance references, and cost/price volumes. FAR compliance, small business considerations, and agency-specific requirements add complexity. Awards often follow competitive evaluation and may involve protests.",
                contributors: ["Proposal Managers", "Technical Writers", "Pricing Analysts", "Contracts Specialists", "Subject Matter Experts", "BD Capture Managers"],
                firms: ["Government contractors", "Proposal consulting firms", "Government contracts law firms", "Pricing consultancies"],
                confidence: 91
            },
            export_control: {
                summary: "An Export Control Compliance program ensures adherence to ITAR (defense articles) and EAR (dual-use items) regulations. Components include classification determination (ECCN, USML), license management, deemed export controls, technology control plans, and compliance training. Violations carry severe criminal and civil penalties.",
                contributors: ["Export Compliance Officers", "Trade Compliance Specialists", "Technical Reviewers", "Legal Counsel", "Facility Security Officers"],
                firms: ["Export control law firms", "Trade compliance consultancies", "Defense industry advisors", "Big Four trade advisory"],
                confidence: 90
            },
            vendor_risk_assessment: {
                summary: "A Vendor Risk Assessment evaluates third-party suppliers' risks to an organization. Analysis covers cybersecurity, financial stability, operational resilience, compliance posture, and concentration risk. Modern programs use risk tiering, continuous monitoring, and standardized questionnaires. Critical for regulatory compliance in financial services and healthcare.",
                contributors: ["Vendor Risk Managers", "Procurement Officers", "IT Security Analysts", "Compliance Teams", "Business Relationship Owners"],
                firms: ["Third-party risk management consultants", "GRC platform vendors (OneTrust, Prevalent)", "Big Four vendor risk practices"],
                confidence: 91
            },
            ip_portfolio_valuation: {
                summary: "An IP Portfolio Valuation determines the fair value of intellectual property assets for M&A, licensing, financing, or financial reporting. Methods include income approach (relief from royalty, excess earnings), market approach (comparable transactions), and cost approach. Valuations require both technical understanding and financial expertise.",
                contributors: ["Valuation Analysts", "IP Attorneys", "Technical Experts", "Licensing Specialists", "Industry Analysts"],
                firms: ["Valuation firms (Kroll, Duff & Phelps)", "IP consulting firms", "Big Four valuation practices", "Technology M&A advisors"],
                confidence: 90
            },
            securities_class_action: {
                summary: "Securities Class Action Defense represents issuers and executives in shareholder class actions alleging securities fraud. Defense involves attacking class certification, challenging loss causation, and addressing scienter requirements. PSLRA safe harbor protections, insurance coverage coordination, and derivative demand analysis are key considerations. Cases often settle based on litigation risk assessment.",
                contributors: ["Securities Litigators", "Economic Experts", "Forensic Accountants", "E-discovery Teams", "D&O Insurance Advisors", "Settlement Negotiators"],
                firms: ["Securities litigation defense firms", "Economic consulting firms", "Forensic accounting practices", "D&O insurance brokers"],
                confidence: 93
            },

            // Management Consulting Artifacts
            digital_transformation: {
                summary: "An Enterprise Digital Transformation Strategy defines the roadmap for leveraging digital technologies to fundamentally change business operations and customer value delivery. Components include digital maturity assessment, vision/strategy development, technology architecture, operating model design, and change management plan. Transformations span customer experience, operations, and business model innovation.",
                contributors: ["Digital Strategists", "Management Consultants", "Technology Architects", "Change Management Leads", "Industry Experts", "C-Suite Executives"],
                firms: ["Management consulting firms (McKinsey, BCG, Bain)", "Big Four digital practices", "Digital agencies", "Technology consulting firms"],
                confidence: 93
            },
            strategic_planning: {
                summary: "Corporate Strategy Development creates the long-term direction and competitive positioning for an organization. Deliverables include market analysis, competitive assessment, strategic options evaluation, financial modeling, and implementation roadmap. Strategy projects address growth, portfolio composition, M&A, and operational improvement opportunities.",
                contributors: ["Strategy Consultants", "Partners/Principals", "Research Analysts", "Financial Modelers", "Industry Experts", "C-Suite/Board Members"],
                firms: ["Strategy consulting firms (McKinsey, BCG, Bain)", "Big Four strategy practices", "Boutique strategy firms", "Industry-specific consultancies"],
                confidence: 95
            },
            market_entry_strategy: {
                summary: "A Market Entry Strategy assesses opportunities and develops the plan for entering new geographic or product markets. Analysis covers market sizing, competitive dynamics, entry mode options (organic, acquisition, partnership), regulatory requirements, and go-to-market approach. Deliverables include market attractiveness assessment, entry roadmap, and financial projections.",
                contributors: ["Strategy Consultants", "Market Research Analysts", "Local Market Experts", "Financial Analysts", "Regulatory Specialists"],
                firms: ["Management consulting firms", "Market entry specialists", "Local advisory firms", "Industry research firms"],
                confidence: 92
            },
            performance_improvement: {
                summary: "Performance Improvement Consulting identifies and implements operational enhancements to achieve cost savings and efficiency gains. Work includes baseline assessment, benchmarking, opportunity identification, initiative design, and implementation support. Focus areas span procurement, manufacturing, supply chain, SG&A, and working capital optimization.",
                contributors: ["Operations Consultants", "Process Engineers", "Financial Analysts", "Change Management Specialists", "Industry Experts", "Project Managers"],
                firms: ["Management consulting firms", "Operations consulting specialists", "Big Four advisory practices", "Turnaround/restructuring firms"],
                confidence: 93
            },
            organizational_restructuring: {
                summary: "Organizational Restructuring designs and implements changes to a company's structure, governance, and operating model. Work includes organizational assessment, target state design, role/responsibility definition, transition planning, and change management. Restructuring often accompanies M&A integration, cost reduction, or strategy shifts.",
                contributors: ["Organization Design Consultants", "HR Consultants", "Change Management Specialists", "Communications Experts", "Leadership Coaches", "Program Managers"],
                firms: ["Management consulting firms", "HR consulting firms (Mercer, Korn Ferry)", "Change management specialists", "Executive search firms"],
                confidence: 92
            },
            change_management: {
                summary: "A Change Management Program ensures successful adoption of organizational changes (systems, processes, structures). Components include stakeholder analysis, change impact assessment, communication planning, training programs, resistance management, and sustainment. Methodologies include Prosci ADKAR, Kotter, and proprietary frameworks.",
                contributors: ["Change Management Leads", "Communications Specialists", "Training Developers", "HR Business Partners", "Project Managers", "Executive Sponsors"],
                firms: ["Management consulting firms", "Change management specialists (Prosci-certified)", "HR consulting firms", "Systems integrators"],
                confidence: 93
            },
            merger_integration: {
                summary: "A Merger Integration Plan orchestrates the combination of two organizations following M&A. Components include integration strategy, Day 1 readiness, synergy capture planning, cultural integration, functional workstream design, and governance structure. Successful integration requires balancing speed with thoughtful change management.",
                contributors: ["Integration Management Office (IMO) Leads", "Functional Integration Leads", "Synergy Analysts", "HR Integration Teams", "IT Integration Teams", "Communications Leads"],
                firms: ["M&A integration specialists", "Management consulting firms", "Big Four M&A advisory", "HR/change management consultancies"],
                confidence: 94
            },
            post_merger_integration: {
                summary: "A Post-Merger Integration (PMI) program orchestrates the combination of two organizations following an M&A transaction. Studies by McKinsey, KPMG, and Harvard Business Review consistently find that 50-70% of mergers fail to achieve projected value, with integration execution cited as the primary cause. PMI programs typically span 18-24 months and aim to capture deal synergies while maintaining business continuity.\n\nThe Integration Management Office (IMO) serves as the central coordinating body, typically staffed by 3-5 full-time professionals who manage cross-functional workstreams, track milestones, and report to an executive steering committee. The IMO produces the Integration Master Plan, governance frameworks, risk registers, and progress dashboards.\n\nDay One Readiness ensures operational continuity from transaction close: employees can access systems, customers experience no service disruption, payroll processes without interruption, and regulatory requirements are satisfied. Pre-close planning often involves Clean Team protocols to share competitively sensitive information while maintaining antitrust compliance.\n\nSynergy capture‚Äîthe financial justification for most deals‚Äîrequires detailed initiative tracking. Cost synergies typically target procurement savings, headcount optimization, and facility consolidation. Revenue synergies address cross-selling opportunities and combined go-to-market capabilities. One-time integration costs (systems, severance, rebranding) offset near-term savings.\n\nFunctional workstreams operate in parallel: HR addresses organization design, retention bonuses, benefits harmonization, and workforce communications. IT tackles application rationalization, data migration, and infrastructure consolidation‚Äîoften the longest workstream. Finance integrates reporting structures, chart of accounts, and close calendars. Operations aligns supply chains, manufacturing footprints, and vendor relationships.\n\nTransition Service Agreements (TSAs) formalize temporary support the seller provides when systems cannot be separated immediately, covering IT, HR, finance, and facilities services for defined periods at agreed rates.\n\nCultural integration‚Äîfrequently underestimated‚Äîdetermines long-term success. Deliverables include leadership alignment sessions, cultural assessment surveys, values workshops, and sustained change management communications. Research by Deloitte indicates cultural issues cause up to 30% of integration failures.\n\nPost-close tracking monitors synergy realization against targets, employee retention rates, customer satisfaction scores, and operational KPIs through integration scorecards reviewed by senior leadership.",
                contributors: ["Integration Management Office (IMO) Director", "IMO Program Managers", "Functional Workstream Leads (HR, IT, Finance, Operations)", "Synergy Tracking Analysts", "Change Management Leads", "Day One Coordinators", "TSA Managers", "Communications Directors", "Executive Steering Committee Members", "Chief Integration Officer"],
                firms: ["McKinsey & Company", "Boston Consulting Group", "Bain & Company", "Deloitte M&A Advisory", "PwC Deals", "EY Transaction Advisory", "KPMG Deal Advisory", "Alvarez & Marsal", "AlixPartners", "FTI Consulting", "L.E.K. Consulting", "Mercer", "Korn Ferry", "Accenture", "West Monroe", "Huron Consulting"],
                confidence: 95
            },
            carve_out_analysis: {
                summary: "A Carve-Out Analysis & TSA develops the approach for separating a business unit from its parent company. Work includes standalone cost analysis, Transition Service Agreement design, Day 1 requirements, IT separation planning, and stranded cost identification. Carve-outs require careful coordination between buyer and seller.",
                contributors: ["Separation Management Office Leads", "Financial Analysts", "IT Separation Leads", "TSA Negotiators", "Functional Experts", "Legal Counsel"],
                firms: ["Management consulting firms", "Big Four transaction advisory", "IT separation specialists", "HR transition consultants"],
                confidence: 91
            },
            synergy_assessment: {
                summary: "A Synergy Assessment (M&A) quantifies the value creation potential from combining two businesses. Analysis covers revenue synergies, cost synergies (procurement, G&A, operations), and capital synergies. Deliverables include synergy sizing, achievability assessment, implementation timeline, and one-time costs. Synergy estimates significantly influence transaction valuation.",
                contributors: ["M&A Consultants", "Financial Analysts", "Operations Specialists", "Industry Experts", "Procurement Analysts"],
                firms: ["Management consulting firms", "Investment banks (transaction advisory)", "Big Four deal advisory", "Operations consulting firms"],
                confidence: 92
            },
            pricing_strategy: {
                summary: "A Pricing Strategy Analysis develops the approach for setting and managing prices to maximize profitability and competitive positioning. Work includes price elasticity analysis, competitive benchmarking, customer segmentation, price architecture design, and implementation planning. Modern pricing leverages analytics and dynamic pricing capabilities.",
                contributors: ["Pricing Consultants", "Marketing Analysts", "Data Scientists", "Revenue Management Specialists", "Financial Analysts"],
                firms: ["Management consulting firms with pricing practices", "Revenue management consultancies", "Pricing software vendors", "Analytics consultancies"],
                confidence: 90
            },
            customer_journey_mapping: {
                summary: "Customer Journey Mapping visualizes and analyzes the end-to-end customer experience across all touchpoints. Deliverables include current state journey maps, pain point identification, future state design, improvement prioritization, and implementation roadmap. Journey mapping supports customer experience transformation and digital initiatives.",
                contributors: ["Customer Experience Consultants", "UX Researchers", "Service Designers", "Data Analysts", "Marketing Strategists", "Digital Specialists"],
                firms: ["Design firms (IDEO, Frog)", "Management consulting firms", "Digital agencies", "Customer experience consultancies"],
                confidence: 89
            },
            economic_impact_study: {
                summary: "An Economic Impact Study quantifies the broader economic effects of a project, organization, or policy. Analysis uses input-output modeling to estimate direct, indirect, and induced impacts on employment, GDP, and tax revenue. Studies support public affairs, regulatory filings, and stakeholder communications.",
                contributors: ["Economists", "Research Analysts", "Public Policy Specialists", "Statisticians", "Communications Consultants"],
                firms: ["Economic consulting firms", "Regional economic development organizations", "University economic research centers", "Public affairs consultancies"],
                confidence: 88
            },

            // Engineering Artifacts
            infrastructure_engineering: {
                summary: "A Major Infrastructure Engineering Design Package provides comprehensive engineering documentation for large-scale civil infrastructure projects (highways, bridges, tunnels, transit systems). Deliverables include preliminary and final design drawings, specifications, construction documents, cost estimates, and permitting support. Projects follow AASHTO, state DOT, and federal requirements.",
                contributors: ["Civil Engineers (PE)", "Structural Engineers", "Transportation Planners", "Environmental Engineers", "Geotechnical Engineers", "Construction Managers", "CAD Technicians"],
                firms: ["Large engineering firms (AECOM, Jacobs, WSP)", "State DOT design consultants", "Specialty engineering firms", "Construction management firms"],
                confidence: 94
            },
            power_plant_engineering: {
                summary: "A Power Plant Engineering Design develops the technical specifications and construction documents for electric generating facilities. Projects span combined cycle gas, solar, wind, nuclear, and battery storage. Deliverables include process design, mechanical engineering, electrical systems, I&C design, and EPC specifications. Regulatory compliance (NERC, NRC for nuclear) adds complexity.",
                contributors: ["Power Generation Engineers", "Electrical Engineers", "Mechanical Engineers", "Process Engineers", "Controls Engineers", "Environmental Specialists", "Project Managers"],
                firms: ["Power engineering firms (Black & Veatch, Burns & McDonnell, Sargent & Lundy)", "EPC contractors", "Utility engineering departments"],
                confidence: 92
            },
            bridge_design: {
                summary: "A Bridge Engineering Design produces the structural design and construction documents for bridge projects. Design addresses load analysis, structural systems (beam, truss, arch, cable-stayed), foundations, seismic considerations, and aesthetic requirements. Projects follow AASHTO LRFD Bridge Design Specifications and owner-specific standards.",
                contributors: ["Bridge Engineers (PE, SE)", "Structural Engineers", "Geotechnical Engineers", "Construction Engineers", "CAD/BIM Technicians", "Quality Reviewers"],
                firms: ["Transportation engineering firms (HDR, HNTB, Michael Baker)", "State DOT bridge offices", "Specialty bridge designers"],
                confidence: 93
            },
            water_treatment_plant: {
                summary: "A Water Treatment Plant Design develops engineering documents for drinking water or wastewater treatment facilities. Design addresses treatment processes, hydraulics, structural components, instrumentation, and regulatory compliance. Deliverables include preliminary engineering reports (PER), detailed design, specifications, and construction support.",
                contributors: ["Process Engineers", "Civil Engineers", "Mechanical Engineers", "Electrical Engineers", "I&C Engineers", "Environmental Scientists", "Project Managers"],
                firms: ["Water engineering firms (Carollo, Hazen and Sawyer, CDM Smith)", "Multidiscipline A/E firms", "Municipal utility engineering departments"],
                confidence: 93
            },
            tunnel_engineering: {
                summary: "A Tunnel Engineering Design provides engineering for underground transportation, utility, or mining tunnels. Design addresses tunneling method selection (TBM, NATM, cut-and-cover), geotechnical analysis, structural lining, ventilation, fire/life safety, and construction sequencing. Complex ground conditions and urban environments create significant engineering challenges.",
                contributors: ["Tunnel Engineers", "Geotechnical Engineers", "Structural Engineers", "Fire/Life Safety Engineers", "Ventilation Engineers", "Construction Specialists"],
                firms: ["Tunnel engineering specialists (Mott MacDonald, Arup)", "Heavy civil engineering firms", "Geotechnical consultants"],
                confidence: 91
            },
            renewable_energy_design: {
                summary: "A Renewable Energy Project Design develops engineering documentation for solar, wind, or energy storage facilities. Deliverables include resource assessment, system design, electrical engineering, civil/structural engineering, interconnection studies, and permitting support. Projects must address grid integration, landowner agreements, and environmental considerations.",
                contributors: ["Renewable Energy Engineers", "Electrical Engineers", "Civil Engineers", "Environmental Specialists", "Grid Integration Analysts", "Project Developers"],
                firms: ["Renewable energy engineering firms", "Independent engineering consultants", "EPC contractors", "Developer engineering teams"],
                confidence: 91
            },
            oil_gas_engineering: {
                summary: "An Oil & Gas Facility Engineering package designs upstream, midstream, or downstream petroleum facilities. Projects span platforms, pipelines, processing plants, and refineries. Deliverables include process design (P&IDs), mechanical design, piping, electrical/instrumentation, and safety studies (HAZOP). Projects follow API, ASME, and operator standards.",
                contributors: ["Process Engineers", "Mechanical Engineers", "Piping Engineers", "Electrical Engineers", "Instrumentation Engineers", "Safety Engineers", "Project Managers"],
                firms: ["Oil & gas engineering firms (Wood, Worley, KBR)", "Major oil company engineering departments", "EPC contractors"],
                confidence: 92
            },
            smart_grid_design: {
                summary: "A Smart Grid System Design modernizes electric grid infrastructure with digital communication and control capabilities. Components include advanced metering infrastructure (AMI), distribution automation, grid analytics, distributed energy resource management, and cybersecurity. Designs address utility operational needs and regulatory requirements.",
                contributors: ["Grid Modernization Engineers", "Power Systems Engineers", "Communications Engineers", "Cybersecurity Specialists", "Data Analysts", "Utility Planners"],
                firms: ["Grid consulting firms", "Electric utility engineering departments", "Technology vendors (GE Grid, Siemens)", "Smart grid systems integrators"],
                confidence: 88
            },
            transportation_corridor: {
                summary: "A Civil Transportation Corridor Study evaluates alternatives for major transportation improvements. Analysis covers traffic modeling, alignment alternatives, environmental screening, cost estimation, and stakeholder engagement. Studies support National Environmental Policy Act (NEPA) documentation and funding decisions.",
                contributors: ["Transportation Planners", "Traffic Engineers", "Environmental Planners", "Public Involvement Specialists", "Cost Estimators", "GIS Analysts"],
                firms: ["Transportation planning firms", "State DOT planning consultants", "MPO consultants", "Environmental planning firms"],
                confidence: 90
            },
            renewable_energy_feasibility: {
                summary: "A Renewable Energy Feasibility Study assesses the technical and economic viability of proposed renewable energy projects. Analysis includes resource assessment (solar irradiance, wind speed), site suitability, technology selection, financial modeling, and permitting pathway. Studies support development decisions and financing.",
                contributors: ["Renewable Energy Analysts", "Resource Assessment Specialists", "Financial Analysts", "Environmental Scientists", "Permitting Specialists", "Development Managers"],
                firms: ["Renewable energy consultants", "Independent engineers", "Development companies", "Financial advisory firms"],
                confidence: 89
            },

            // Environmental Artifacts
            environmental_impact_statement: {
                summary: "An Environmental Impact Statement (EIS) is the comprehensive NEPA document required for federal actions significantly affecting the environment. Components include purpose and need, alternatives analysis, affected environment description, environmental consequences assessment, and mitigation measures. EIS preparation involves extensive agency coordination, public involvement, and technical studies.",
                contributors: ["Environmental Scientists", "NEPA Specialists", "Biologists", "Air Quality Analysts", "Noise Specialists", "Cultural Resource Specialists", "Public Involvement Coordinators"],
                firms: ["Environmental consulting firms (ICF, Tetra Tech, SWCA)", "Engineering firms with environmental departments", "Federal agency contractors"],
                confidence: 95
            },
            sustainability_esg: {
                summary: "A Corporate Sustainability & ESG Report discloses environmental, social, and governance performance to stakeholders. Following frameworks like GRI, SASB, or TCFD, reports cover carbon emissions, diversity metrics, governance practices, and sustainability initiatives. Increasingly required by investors and regulators, ESG reporting supports corporate reputation and access to capital.",
                contributors: ["Sustainability Officers", "ESG Analysts", "Environmental Engineers", "Data Analysts", "Communications Specialists", "External Assurance Providers"],
                firms: ["Sustainability consulting firms", "Big Four sustainability practices", "ESG rating agencies", "Assurance providers"],
                confidence: 92
            },
            carbon_footprint: {
                summary: "A Carbon Footprint Assessment quantifies greenhouse gas emissions from organizational operations, products, or supply chains. Following GHG Protocol standards, analysis covers Scope 1 (direct), Scope 2 (electricity), and Scope 3 (value chain) emissions. Assessments support reduction target setting, regulatory compliance, and stakeholder reporting.",
                contributors: ["Sustainability Consultants", "Environmental Engineers", "Data Analysts", "Supply Chain Specialists", "Verification Bodies"],
                firms: ["Sustainability consulting firms", "Engineering firms with climate practices", "Carbon accounting specialists", "Verification/certification bodies"],
                confidence: 91
            },
            environmental_remediation: {
                summary: "An Environmental Remediation Plan develops the strategy for cleaning up contaminated sites (Superfund, brownfields, RCRA facilities). Components include site characterization, risk assessment, technology selection, remedy design, regulatory negotiations, and long-term monitoring plans. Projects must satisfy EPA, state agency, and sometimes tribal requirements.",
                contributors: ["Environmental Engineers", "Hydrogeologists", "Toxicologists", "Remediation Specialists", "Regulatory Specialists", "Project Managers"],
                firms: ["Environmental remediation firms (Arcadis, Geosyntec)", "Engineering firms", "Remediation contractors", "Environmental law firms"],
                confidence: 93
            },
            leed_certification: {
                summary: "A LEED Certification Package documents compliance with the U.S. Green Building Council's Leadership in Energy and Environmental Design rating system. Documentation addresses sustainable sites, water efficiency, energy performance, materials, indoor environmental quality, and innovation. LEED certification enhances building value and demonstrates sustainability commitment.",
                contributors: ["LEED Accredited Professionals", "Architects", "MEP Engineers", "Commissioning Agents", "Sustainability Consultants", "Construction Managers"],
                firms: ["Architecture firms with LEED experience", "Green building consultants", "Commissioning firms", "Sustainability consultancies"],
                confidence: 92
            },
            climate_risk_assessment: {
                summary: "A Climate Risk Assessment evaluates physical and transition risks from climate change to an organization. Analysis covers acute hazards (storms, floods), chronic shifts (temperature, sea level), transition risks (policy, technology, market), and scenario analysis. Assessments align with TCFD recommendations and support strategic planning and disclosure.",
                contributors: ["Climate Scientists", "Risk Analysts", "Sustainability Consultants", "Financial Analysts", "Asset Managers", "Strategy Consultants"],
                firms: ["Climate consulting firms", "Risk consulting practices", "Environmental consultants", "Big Four climate and sustainability teams"],
                confidence: 88
            },

            // Real Estate Artifacts
            real_estate_feasibility: {
                summary: "A Real Estate Development Feasibility Study evaluates the viability of a proposed real estate project. Analysis covers market demand, site assessment, regulatory requirements, financial projections, and risk factors. Deliverables include market study, pro forma financial model, and go/no-go recommendation. Studies support development decisions and financing.",
                contributors: ["Real Estate Analysts", "Market Researchers", "Financial Analysts", "Architects/Planners", "Civil Engineers", "Environmental Consultants"],
                firms: ["Real estate advisory firms (CBRE, JLL, Cushman)", "Development consultants", "Architecture firms", "Market research firms"],
                confidence: 93
            },
            property_appraisal: {
                summary: "A Commercial Property Appraisal determines the market value of real estate for lending, investment, or tax purposes. Appraisals use income, sales comparison, and cost approaches per USPAP standards. MAI-designated appraisers provide independent opinions supporting mortgage financing, acquisitions, and portfolio valuation.",
                contributors: ["MAI Appraisers", "Associate Appraisers", "Research Analysts", "Property Inspectors"],
                firms: ["National appraisal firms (CBRE Valuation, JLL Valuation)", "Regional appraisal firms", "Independent MAI appraisers", "Bank internal appraisal departments"],
                confidence: 95
            },
            zoning_analysis: {
                summary: "A Zoning & Land Use Analysis evaluates the regulatory framework governing property development. Analysis covers permitted uses, density/height limits, setbacks, parking requirements, and variance/rezoning pathways. Deliverables inform site planning, acquisition decisions, and entitlement strategy.",
                contributors: ["Land Use Planners", "Zoning Attorneys", "Urban Planners", "Development Consultants", "GIS Analysts"],
                firms: ["Land use law firms", "Planning consultants", "Development advisory firms", "Architecture/planning firms"],
                confidence: 91
            },
            development_pro_forma: {
                summary: "A Development Pro Forma Analysis creates the financial model for a real estate development project. Models project development costs, construction timeline, lease-up, operating income, financing structure, and return metrics (IRR, equity multiple). Pro formas support investment decisions, joint venture negotiations, and construction financing.",
                contributors: ["Development Analysts", "Financial Modelers", "Construction Cost Estimators", "Market Analysts", "Development Managers"],
                firms: ["Real estate development companies", "Real estate advisory firms", "Investment banks (real estate)", "Private equity real estate teams"],
                confidence: 93
            },
            lease_audit: {
                summary: "A Commercial Lease Audit examines lease agreements and landlord billings for accuracy and compliance. Analysis covers operating expense pass-throughs, CAM reconciliations, percentage rent calculations, and lease covenant compliance. Audits often identify recoveries and improve ongoing expense management.",
                contributors: ["Lease Auditors", "CPAs with real estate experience", "Lease Administrators", "Real Estate Attorneys"],
                firms: ["Lease audit firms", "Real estate consulting firms", "Accounting firms with real estate practices"],
                confidence: 90
            },
            construction_management: {
                summary: "A Construction Management Plan provides the framework for managing complex construction projects. Components include project organization, scheduling methodology, cost control systems, quality management, safety program, and reporting procedures. CM approaches include agency CM, CM at-risk, and construction project management.",
                contributors: ["Construction Managers", "Project Managers", "Schedulers", "Cost Engineers", "Quality Managers", "Safety Managers"],
                firms: ["Construction management firms (Turner, Skanska, AECOM Hunt)", "Owner's representative firms", "Program management consultancies"],
                confidence: 93
            },
            site_selection_study: {
                summary: "A Site Selection Study evaluates location alternatives for corporate facilities (headquarters, manufacturing, distribution). Analysis covers labor availability, real estate costs, incentives, transportation access, quality of life, and utility infrastructure. Studies support relocation decisions and incentive negotiations.",
                contributors: ["Site Selection Consultants", "Economic Development Analysts", "Real Estate Advisors", "Labor Market Analysts", "Tax Incentive Specialists"],
                firms: ["Site selection consultants", "Economic development organizations", "Real estate advisory firms", "Accounting firms (incentives practice)"],
                confidence: 91
            },
            reit_formation: {
                summary: "A REIT Formation & IPO establishes a Real Estate Investment Trust for public investment in real estate assets. Formation involves entity structuring, asset contribution, qualification testing, SEC registration, and exchange listing. REITs must distribute 90% of taxable income and meet asset/income tests. The process combines real estate, securities, and tax expertise.",
                contributors: ["REIT Attorneys", "Tax Advisors", "Investment Bankers", "Accountants", "Property Managers", "Investor Relations"],
                firms: ["REIT-focused law firms", "Big Four tax practices", "Investment banks with REIT experience", "REIT advisory firms"],
                confidence: 90
            },
            mixed_use_development: {
                summary: "A Mixed-Use Development Plan creates the master plan for projects combining residential, commercial, and retail uses. Deliverables include site planning, phasing strategy, financial analysis, entitlement approach, and design guidelines. Mixed-use projects require careful attention to parking, traffic, and use compatibility.",
                contributors: ["Urban Planners", "Architects", "Development Managers", "Civil Engineers", "Market Analysts", "Financial Analysts"],
                firms: ["Architecture/planning firms", "Development advisory firms", "Real estate developers", "Municipal planning consultants"],
                confidence: 89
            },

            // Creative/Marketing Artifacts
            brand_repositioning: {
                summary: "A Global Brand Repositioning & Campaign transforms a brand's market position through strategic messaging and creative execution. Deliverables include brand audit, positioning strategy, brand identity system, creative campaign development, and media planning. Repositioning addresses changing market dynamics, competitive pressure, or company evolution.",
                contributors: ["Brand Strategists", "Creative Directors", "Copywriters", "Art Directors", "Media Planners", "Market Researchers", "Account Directors"],
                firms: ["Global advertising agencies (WPP, Publicis, IPG)", "Brand consultancies (Interbrand, Landor)", "Independent creative agencies", "Media agencies"],
                confidence: 91
            },
            market_research: {
                summary: "A Market Research Study & Consumer Insights generates data-driven understanding of markets, customers, and competitive dynamics. Methodologies include surveys, focus groups, ethnography, secondary research, and analytics. Deliverables support product development, marketing strategy, and business planning decisions.",
                contributors: ["Market Research Directors", "Research Analysts", "Data Scientists", "Moderators", "Statisticians", "Insight Strategists"],
                firms: ["Market research firms (Nielsen, Kantar, Ipsos)", "Management consulting firms", "In-house insights teams", "Specialty research firms"],
                confidence: 93
            },
            tv_commercial_production: {
                summary: "A TV Commercial Production creates filmed advertising content for broadcast and digital distribution. The process spans creative concept development, pre-production planning, filming, post-production (editing, VFX, sound), and delivery. Productions range from simple testimonials to elaborate cinematic campaigns with significant production values.",
                contributors: ["Creative Directors", "Directors", "Producers", "Cinematographers", "Editors", "VFX Artists", "Sound Designers", "Account Teams"],
                firms: ["Production companies", "Advertising agencies", "Post-production houses", "VFX studios"],
                confidence: 92
            },
            product_launch_campaign: {
                summary: "A Product Launch Campaign develops the integrated marketing plan for bringing new products to market. Components include messaging strategy, creative development, channel planning, PR/communications, digital marketing, and launch events. Successful launches coordinate timing, budget, and cross-functional execution.",
                contributors: ["Marketing Directors", "Product Managers", "Creative Teams", "Media Planners", "PR Specialists", "Digital Marketers", "Event Planners"],
                firms: ["Marketing agencies", "Advertising agencies", "PR firms", "Digital agencies", "Event companies"],
                confidence: 92
            },
            website_redesign: {
                summary: "An Enterprise Website Redesign transforms an organization's web presence through improved design, content, and technology. Projects include discovery/strategy, information architecture, UX/UI design, content development, technical development, and launch. Modern redesigns address mobile responsiveness, accessibility, and integration with marketing technology.",
                contributors: ["UX Designers", "UI Designers", "Web Developers", "Content Strategists", "SEO Specialists", "Project Managers", "Brand Teams"],
                firms: ["Digital agencies", "Web design firms", "Systems integrators", "Marketing agencies with digital capabilities"],
                confidence: 93
            },
            brand_identity_system: {
                summary: "A Brand Identity System establishes the visual and verbal elements defining a brand. Deliverables include logo design, color palette, typography, imagery guidelines, brand voice, and comprehensive brand guidelines. The system ensures consistent brand expression across all touchpoints and applications.",
                contributors: ["Brand Designers", "Art Directors", "Copywriters", "Brand Strategists", "Production Designers"],
                firms: ["Branding agencies (Pentagram, Wolff Olins)", "Design studios", "Advertising agencies", "In-house creative teams"],
                confidence: 93
            },
            content_marketing_strategy: {
                summary: "A Content Marketing Strategy develops the plan for creating and distributing valuable content to attract and engage target audiences. Components include audience definition, content audit, topic strategy, editorial calendar, distribution plan, and measurement framework. Modern content strategies span owned, earned, and paid channels.",
                contributors: ["Content Strategists", "Content Marketing Managers", "Copywriters", "SEO Specialists", "Social Media Managers", "Analytics Specialists"],
                firms: ["Content marketing agencies", "Digital marketing agencies", "PR firms", "In-house marketing teams"],
                confidence: 91
            },

            // HR Consulting Artifacts
            executive_compensation: {
                summary: "An Executive Compensation Study & Design develops competitive compensation programs for senior executives. Analysis includes peer group benchmarking, pay-for-performance alignment, equity plan design, and regulatory compliance (say-on-pay, Section 162(m)). Deliverables support compensation committee decisions and proxy disclosure.",
                contributors: ["Executive Compensation Consultants", "Data Analysts", "Tax Advisors", "Legal Counsel", "HR Leaders", "Compensation Committee Members"],
                firms: ["Executive compensation consultancies (FW Cook, Semler Brossy, Meridian)", "HR consulting firms (Mercer, Aon, WTW)", "Proxy advisory firms"],
                confidence: 94
            },
            total_rewards_strategy: {
                summary: "A Total Rewards Strategy develops the comprehensive approach to employee compensation, benefits, and recognition. Analysis covers competitive positioning, internal equity, workforce segmentation, and program design. Deliverables align rewards with business strategy, talent needs, and cost constraints.",
                contributors: ["Total Rewards Consultants", "Compensation Analysts", "Benefits Consultants", "HR Business Partners", "Finance Partners"],
                firms: ["HR consulting firms (Mercer, WTW, Aon)", "Compensation consulting boutiques", "Big Four HR advisory practices"],
                confidence: 92
            },
            workforce_planning: {
                summary: "Strategic Workforce Planning aligns talent supply with business demand over multi-year horizons. Analysis covers demand forecasting, supply analysis, gap identification, and action planning (hiring, development, restructuring). Modern approaches incorporate analytics and scenario modeling.",
                contributors: ["Workforce Planning Analysts", "HR Business Partners", "Talent Acquisition Leaders", "Learning & Development Specialists", "Business Unit Leaders"],
                firms: ["HR consulting firms", "Analytics consultancies", "Management consulting firms with HR practices"],
                confidence: 90
            },
            dei_program: {
                summary: "A DEI Program Design & Implementation develops strategies and programs to improve organizational diversity, equity, and inclusion. Components include current state assessment, goal setting, program design, training development, metrics framework, and accountability systems. Programs address representation, belonging, and equitable practices.",
                contributors: ["DEI Consultants", "HR Leaders", "Training Specialists", "Data Analysts", "Employee Resource Group Leaders", "Executive Sponsors"],
                firms: ["DEI consulting firms", "HR consulting firms", "Management consultancies", "Training companies"],
                confidence: 88
            },
            leadership_development: {
                summary: "A Leadership Development Program designs structured experiences to build organizational leadership capabilities. Components include competency framework, assessment approach, development curriculum, coaching/mentoring, and program evaluation. Programs range from emerging leader to C-suite development.",
                contributors: ["Leadership Development Consultants", "Executive Coaches", "Learning Designers", "Facilitators", "HR Development Teams", "Assessment Specialists"],
                firms: ["Leadership development firms (CCL, DDI, Korn Ferry)", "Executive coaching firms", "Business schools (executive education)", "Internal L&D teams"],
                confidence: 91
            },
            employee_engagement: {
                summary: "An Employee Engagement Survey & Strategy measures and improves workforce engagement. Surveys assess engagement drivers, followed by analysis, action planning, and intervention design. Modern approaches use pulse surveys, analytics, and targeted interventions. Engagement correlates with retention, productivity, and customer satisfaction.",
                contributors: ["I/O Psychologists", "Survey Specialists", "HR Business Partners", "Data Analysts", "Change Consultants", "People Analytics Teams"],
                firms: ["Employee survey providers (Gallup, Perceptyx, Glint)", "HR consulting firms", "Analytics consultancies"],
                confidence: 91
            },

            // Operations Artifacts
            supply_chain_optimization: {
                summary: "A Supply Chain Optimization Study analyzes and improves end-to-end supply chain performance. Analysis covers network design, inventory optimization, demand planning, sourcing strategy, and logistics efficiency. Deliverables include baseline assessment, optimization modeling, and implementation roadmap. Studies often leverage advanced analytics and simulation.",
                contributors: ["Supply Chain Consultants", "Operations Researchers", "Data Scientists", "Logistics Specialists", "Procurement Experts", "Project Managers"],
                firms: ["Management consulting firms", "Supply chain specialists (Chainalytics, KPMG Supply Chain)", "Technology vendors (Blue Yonder, Llamasoft)", "Transportation consultants"],
                confidence: 93
            },
            lean_transformation: {
                summary: "A Lean Transformation Program systematically implements lean manufacturing principles to eliminate waste and improve flow. Components include value stream mapping, kaizen events, standard work development, visual management, and continuous improvement culture. Transformations address manufacturing, service, and transactional processes.",
                contributors: ["Lean Consultants", "Process Engineers", "Operations Managers", "Industrial Engineers", "Change Agents", "Quality Managers"],
                firms: ["Lean consulting firms", "Management consulting firms", "Industry-specific operational consultancies"],
                confidence: 92
            },
            procurement_optimization: {
                summary: "A Procurement Optimization engagement improves purchasing effectiveness and reduces costs. Work includes spend analysis, category strategy development, supplier negotiations, process improvement, and technology enablement. Approaches range from strategic sourcing to e-procurement implementation.",
                contributors: ["Procurement Consultants", "Category Managers", "Sourcing Specialists", "Contract Managers", "Analytics Specialists", "Change Management Leads"],
                firms: ["Procurement consulting firms (Efficio, KPMG Procurement)", "Management consulting firms", "GPO organizations", "Technology implementers"],
                confidence: 92
            },
            warehouse_automation: {
                summary: "A Warehouse Automation Design develops the technology and process changes to automate distribution center operations. Solutions include automated storage/retrieval systems, goods-to-person systems, robotics, and warehouse management systems. Design addresses throughput requirements, ROI analysis, and implementation planning.",
                contributors: ["Automation Engineers", "Industrial Engineers", "Systems Integrators", "Operations Managers", "IT Specialists", "Project Managers"],
                firms: ["Material handling consultants (St. Onge, Fortna)", "Automation vendors (Dematic, Swisslog)", "Systems integrators", "Logistics consultancies"],
                confidence: 90
            },
            inventory_optimization: {
                summary: "An Inventory Optimization Study balances inventory investment against service levels and costs. Analysis covers demand variability, lead times, safety stock calculations, and multi-echelon optimization. Deliverables include inventory policy recommendations, SKU segmentation, and implementation approach. Studies often yield significant working capital improvements.",
                contributors: ["Inventory Analysts", "Supply Chain Planners", "Data Scientists", "Operations Researchers", "Finance Partners"],
                firms: ["Supply chain consulting firms", "Management consultancies", "Inventory optimization software vendors"],
                confidence: 91
            },
            logistics_network_design: {
                summary: "A Logistics Network Design optimizes the structure of distribution networks (warehouses, transportation lanes). Analysis uses network modeling to evaluate scenarios balancing cost, service, and risk. Deliverables include network strategy, location recommendations, and implementation roadmap. Projects often coincide with M&A, growth, or market changes.",
                contributors: ["Network Design Consultants", "Operations Researchers", "Transportation Analysts", "Real Estate Specialists", "Tax Advisors", "Project Managers"],
                firms: ["Supply chain consulting firms", "Network optimization specialists", "Management consulting firms", "Real estate advisory (site selection)"],
                confidence: 91
            },

            // Architecture Artifacts
            architectural_design: {
                summary: "A Commercial Architectural Design Package provides comprehensive architectural services for commercial buildings (offices, retail, hospitality). Deliverables progress through schematic design, design development, construction documents, and construction administration. Architects coordinate structural, MEP, and specialty consultants to deliver buildable designs.",
                contributors: ["Project Architects", "Design Architects", "Technical Architects", "Interior Designers", "Specification Writers", "BIM Managers", "Project Managers"],
                firms: ["Architecture firms (Gensler, HOK, Perkins&Will)", "Design-build firms", "Specialty design firms"],
                confidence: 94
            },
            hospital_architecture: {
                summary: "A Hospital/Complex Facility Architecture project designs healthcare facilities meeting specialized functional, regulatory, and safety requirements. Design addresses patient flow, infection control, medical equipment, codes (FGI Guidelines), and technology integration. Hospital projects require extensive user engagement and regulatory coordination.",
                contributors: ["Healthcare Architects", "Medical Planners", "MEP Engineers", "Medical Equipment Planners", "Interior Designers", "Code Consultants"],
                firms: ["Healthcare architecture firms (HKS, HDR, Perkins&Will Health)", "Medical planning consultants", "Healthcare-specialized engineering firms"],
                confidence: 92
            },

            // Tax/International Artifacts
            transfer_pricing: {
                summary: "A Transfer Pricing Study documents arm's length pricing for intercompany transactions per OECD guidelines and local tax regulations. Analysis covers functional analysis, economic benchmarking, method selection, and documentation. Studies support tax compliance and defend positions in tax authority audits. Penalties for non-compliance are significant.",
                contributors: ["Transfer Pricing Economists", "Tax Attorneys/CPAs", "Industry Analysts", "Database Analysts", "International Tax Specialists"],
                firms: ["Big Four transfer pricing practices", "Law firms with transfer pricing groups", "Economic consulting firms", "Boutique transfer pricing specialists"],
                confidence: 94
            },
            tariff_analysis: {
                summary: "A Tariff & Trade Analysis evaluates customs duties, trade agreements, and import/export regulations affecting supply chains. Analysis covers tariff classification, country of origin determination, trade agreement utilization, and duty mitigation strategies (foreign trade zones, bonded warehouses). Work supports procurement decisions and compliance.",
                contributors: ["Trade Compliance Specialists", "Customs Attorneys", "Supply Chain Analysts", "Economists", "Licensed Customs Brokers"],
                firms: ["Trade compliance consultancies", "Customs law firms", "Big Four trade practices", "Customs brokerage firms"],
                confidence: 90
            },
            customs_compliance: {
                summary: "A Customs Compliance Program establishes systems for compliant international trade operations. Components include classification procedures, valuation methodology, record-keeping, C-TPAT participation, and audit readiness. Programs reduce duty exposure and enables faster customs clearance.",
                contributors: ["Trade Compliance Managers", "Licensed Customs Brokers", "Trade Attorneys", "Classification Specialists", "Internal Auditors"],
                firms: ["Customs compliance consultants", "Trade law firms", "Customs brokerage firms", "Big Four trade advisory"],
                confidence: 89
            },

            // === MEDICAL/PHARMA ARTIFACTS ===
            clinical_trial_phase1: {
                summary: "A Phase I Clinical Trial Protocol marks the first-in-human testing of a new drug candidate, typically involving 20-100 healthy volunteers or patients. This safety-focused study establishes dose-limiting toxicities, maximum tolerated dose, pharmacokinetics, and initial pharmacodynamic effects. The protocol details dose escalation schemes (3+3 design common), safety stopping rules, informed consent procedures, and intensive monitoring requirements. Phase I trials require particularly rigorous safety oversight and real-time data review.",
                contributors: ["Phase I Unit Directors", "Clinical Pharmacologists", "Pharmacokineticists", "Safety Physicians", "Research Nurses", "Regulatory Specialists", "IRB Coordinators", "Data Safety Monitoring Board Members"],
                firms: ["Phase I clinical units (Covance, PPD, ICON)", "Academic medical centers", "Pharmaceutical companies", "Specialized early-phase CROs (Quotient Sciences, Celerion)"],
                confidence: 94
            },
            clinical_trial_phase2: {
                summary: "A Phase II Clinical Trial Protocol establishes proof-of-concept for a drug candidate, typically enrolling 100-300 patients with the target condition. This stage determines optimal dosing (Phase IIa) and preliminary efficacy signals (Phase IIb), while further characterizing the safety profile. The protocol specifies primary and secondary endpoints, randomization procedures, blinding methods, and interim analysis plans. Phase II results critically inform the go/no-go decision for the substantially more costly Phase III investment.",
                contributors: ["Clinical Investigators", "Biostatisticians", "Clinical Pharmacologists", "Regulatory Scientists", "Clinical Trial Managers", "Medical Writers", "Quality Assurance Specialists", "Site Coordinators"],
                firms: ["Pharmaceutical companies (Pfizer, Novartis, Roche)", "Biotechnology firms", "Contract Research Organizations (IQVIA, Syneos, PRA)", "Clinical site networks"],
                confidence: 95
            },
            clinical_trial_phase3: {
                summary: "A Phase III Clinical Trial Protocol & Execution represents the pivotal stage of drug testing before regulatory approval. These large-scale studies typically enroll 300-3,000+ participants across multiple international sites to confirm efficacy, monitor adverse events, compare against standard of care, and establish the risk-benefit profile. The protocol includes detailed study design, primary/secondary endpoints, statistical analysis plans (often adaptive designs), safety monitoring procedures, and regulatory compliance frameworks. Phase III data forms the core of NDA/BLA submissions to FDA and EMA.",
                contributors: ["Principal Investigators (MDs/PhDs)", "Clinical Research Associates", "Biostatisticians", "Regulatory Affairs Directors", "Clinical Operations Directors", "Medical Monitors", "Data Managers", "Pharmacovigilance Officers", "Site Management Teams"],
                firms: ["Global pharmaceutical companies", "Contract Research Organizations (IQVIA, Covance, PPD, Parexel)", "Academic Medical Centers", "Site Management Organizations (ICON, Medpace)"],
                confidence: 96
            },
            medical_device_510k: {
                summary: "A 510(k) Premarket Notification is an FDA submission demonstrating that a new medical device is substantially equivalent to a legally marketed predicate device. The submission includes device description, intended use statement, technological characteristics comparison, performance testing data (bench, animal, clinical as needed), biocompatibility studies per ISO 10993, sterilization validation, software documentation (IEC 62304), and labeling. Unlike PMA, most 510(k)s do not require clinical trials. FDA review typically takes 90-180 days, with approximately 3,000 cleared annually.",
                contributors: ["Regulatory Affairs Managers", "Quality Engineers", "Biomedical Engineers", "Technical Writers", "Biocompatibility Specialists", "Software Validation Engineers", "Testing Lab Personnel"],
                firms: ["Medical device manufacturers (Medtronic, Boston Scientific, Abbott, Stryker)", "Regulatory consulting firms (NAMSA, Emergo)", "Testing laboratories (Nelson Labs, WuXi AppTec)", "Contract manufacturers"],
                confidence: 95
            },
            biosimilar_development: {
                summary: "A Biosimilar Development Program creates a highly similar version of an approved biologic reference product. Development requires extensive analytical characterization, comparative PK/PD studies, and clinical immunogenicity assessment per FDA's 351(k) pathway. Unlike generics, biosimilars cannot be identical due to biological manufacturing complexity. Programs include reference product characterization, cell line development, process development, analytical similarity assessment, and abbreviated clinical trials demonstrating no clinically meaningful differences.",
                contributors: ["Biosimilar Program Directors", "Analytical Scientists", "Process Development Engineers", "Clinical Pharmacologists", "Regulatory Affairs Specialists", "Immunogenicity Scientists", "CMC Leads"],
                firms: ["Biosimilar developers (Sandoz, Celltrion, Samsung Bioepis)", "Analytical testing labs", "Contract development organizations", "Regulatory consulting firms"],
                confidence: 91
            },
            drug_safety_report: {
                summary: "A Drug Safety Report (Periodic Safety Update Report/PSUR or Periodic Benefit-Risk Evaluation Report/PBRER) provides comprehensive safety analysis for marketed drugs. Reports compile adverse event data, signal detection analyses, benefit-risk assessments, and proposed risk minimization measures. Required by FDA (PADER), EMA (PSUR/PBRER), and ICH E2C(R2) guidelines, these reports are submitted at defined intervals throughout a product's lifecycle to demonstrate ongoing safety monitoring.",
                contributors: ["Pharmacovigilance Directors", "Drug Safety Scientists", "Medical Officers", "Epidemiologists", "Signal Detection Specialists", "Regulatory Writers", "Aggregate Report Authors"],
                firms: ["Pharmaceutical companies", "Pharmacovigilance service providers (IQVIA, PrimeVigilance)", "Drug safety consulting firms", "CROs with safety practices"],
                confidence: 93
            },
            fda_pma_submission: {
                summary: "A Premarket Approval (PMA) Application is the most rigorous FDA device submission, required for Class III high-risk devices such as implantables and life-sustaining equipment. This comprehensive dossier includes valid scientific evidence demonstrating safety and effectiveness (typically from clinical trials), manufacturing information (QSR compliance), device description, nonclinical testing, and proposed labeling. PMA review involves FDA advisory committee meetings, facility inspections, and typically takes 180+ days. Preparation costs often exceed $30M including clinical trials.",
                contributors: ["Regulatory Affairs Directors", "Clinical Affairs Managers", "Quality Systems Engineers", "Biostatisticians", "Medical Officers", "Manufacturing Engineers", "Clinical Investigators", "Labeling Specialists"],
                firms: ["Major medical device companies (Medtronic, Abbott, Edwards Lifesciences)", "Regulatory consulting firms (NAMSA, Emergo, MCRA)", "Clinical research organizations", "Testing and certification bodies"],
                confidence: 94
            },

            // === FINANCIAL SERVICES ARTIFACTS ===
            ipo_s1_registration: {
                summary: "An IPO S-1 Registration Statement is the comprehensive SEC filing required for companies going public on US exchanges. This disclosure document includes business description, risk factors, management discussion and analysis (MD&A), audited financial statements (3 years), executive compensation, related party transactions, use of proceeds, and capitalization tables. The S-1 undergoes SEC review with multiple comment rounds before effectiveness. Preparation involves extensive due diligence, comfort letters, and legal opinions, typically taking 4-6 months.",
                contributors: ["Securities Attorneys", "Underwriters", "CFOs/Controllers", "Auditors", "Investor Relations", "Executive Management", "Financial Printers", "Transfer Agents"],
                firms: ["Investment banks (Goldman Sachs, Morgan Stanley, JP Morgan)", "Securities law firms (Latham, Simpson Thacher, Davis Polk)", "Big Four auditors", "Financial printers (Donnelley, Toppan Merrill)"],
                confidence: 96
            },
            soc2_audit: {
                summary: "A SOC 2 Type 2 Audit Report examines a service organization's controls relevant to security, availability, processing integrity, confidentiality, and privacy (Trust Services Criteria) over a period of time (typically 6-12 months). Unlike Type 1, Type 2 tests operating effectiveness of controls. The report, issued by a CPA firm, includes system description, management's assertion, auditor's opinion, and detailed control testing results. SOC 2 reports are essential for SaaS vendors, data centers, and cloud service providers demonstrating security posture to customers.",
                contributors: ["IT Auditors (CISA)", "Information Security Managers", "Compliance Officers", "CPA Engagement Partners", "Control Owners", "GRC Analysts", "External Auditors"],
                firms: ["CPA firms with IT audit practices (Big Four, BDO, Grant Thornton, RSM)", "Boutique IT audit firms", "GRC consulting firms", "Compliance automation vendors (Vanta, Drata, Secureframe)"],
                confidence: 95
            },
            private_equity_fund: {
                summary: "A Private Equity Fund Formation involves creating an investment vehicle (typically Delaware LP) to pool capital for private company investments. Documentation includes Limited Partnership Agreement (LPA), Private Placement Memorandum (PPM), subscription agreements, side letters, and management company operating agreements. Key terms include management fees (typically 2%), carried interest (20%), hurdle rates, GP commitment, investment period, fund life, and key person provisions. Formation requires SEC/state regulatory compliance and extensive investor negotiations.",
                contributors: ["Fund Formation Attorneys", "Fund Administrators", "Tax Advisors", "Compliance Officers", "Investor Relations", "General Partners", "Placement Agents"],
                firms: ["Fund formation law firms (Kirkland, Simpson Thacher, Ropes & Gray)", "Fund administrators (Citco, SS&C, Apex)", "Big Four tax practices", "Placement agents"],
                confidence: 94
            },
            hedge_fund_setup: {
                summary: "A Hedge Fund Setup establishes the legal structure and operational infrastructure for alternative investment vehicles. Components include master-feeder structures (for tax efficiency), offshore entities (Cayman Islands common), investment management agreements, prime brokerage relationships, administrator selection, compliance policies (including insider trading), and marketing materials. Regulatory requirements include SEC registration (if >$150M AUM), Form ADV, and compliance with Dodd-Frank provisions.",
                contributors: ["Fund Formation Attorneys", "Prime Brokerage Teams", "Fund Administrators", "Compliance Consultants", "Tax Advisors", "Chief Compliance Officers", "Operations Managers"],
                firms: ["Hedge fund law firms (Schulte Roth, Seward & Kissel, Sadis)", "Prime brokers (Goldman, Morgan Stanley, JP Morgan)", "Administrators (Citco, NAV Consulting)", "Compliance consultants"],
                confidence: 93
            },
            risk_model_validation: {
                summary: "A Risk Model Validation independently assesses quantitative models used for credit risk, market risk, operational risk, and capital calculations. Validation covers conceptual soundness, data quality, implementation verification, outcomes analysis (backtesting), and ongoing monitoring. Required by OCC SR 11-7 guidance for banks, validation ensures models perform as intended and comply with Basel III/IV requirements. Reports document findings, limitations, and recommendations for model risk management.",
                contributors: ["Model Validation Analysts", "Quantitative Analysts", "Risk Managers", "Model Risk Officers", "Internal Auditors", "Statisticians", "Model Developers"],
                firms: ["Bank model risk departments", "Consulting firms (Oliver Wyman, McKinsey, Accenture)", "Big Four risk practices", "Specialized model validation firms"],
                confidence: 92
            },
            trading_system_audit: {
                summary: "A Trading System Audit examines the controls, security, and regulatory compliance of electronic trading platforms. Scope includes order management systems, execution algorithms, market data feeds, pre/post-trade risk controls, best execution monitoring, and audit trail completeness. Audits address SEC Rule 15c3-5 (market access), Reg SCI, and MiFID II requirements. Findings cover system resilience, change management, capacity planning, and cybersecurity controls.",
                contributors: ["IT Auditors", "Trading Technology Specialists", "Compliance Officers", "Risk Managers", "External Auditors", "Regulatory Specialists", "Systems Architects"],
                firms: ["Big Four technology risk practices", "Specialized trading technology consultants", "Regulatory consulting firms", "Internal audit departments"],
                confidence: 90
            },
            reinsurance_treaty: {
                summary: "A Reinsurance Treaty negotiation and documentation establishes risk transfer arrangements between insurers and reinsurers. Treaty types include quota share, excess of loss, and catastrophe covers. Documentation includes treaty wording, premium calculations, loss settlement procedures, and collateral requirements. Negotiations address terms, conditions, exclusions, and commissions. Actuarial analysis supports pricing and reserve adequacy assessments.",
                contributors: ["Reinsurance Underwriters", "Treaty Actuaries", "Reinsurance Brokers", "Legal Counsel", "Ceded Reinsurance Managers", "Claims Specialists", "Finance Teams"],
                firms: ["Reinsurance brokers (Aon, Guy Carpenter, Gallagher Re)", "Reinsurers (Munich Re, Swiss Re, Hannover Re)", "Insurance companies", "Reinsurance law firms"],
                confidence: 91
            },
            wealth_management_platform: {
                summary: "A Wealth Management Platform Implementation deploys integrated technology for high-net-worth client services including portfolio management, financial planning, client reporting, and CRM. Platforms aggregate multi-custodial data, support model portfolios, enable performance reporting (GIPS-compliant), and integrate with financial planning tools. Implementation includes data migration, custodian connectivity, workflow configuration, and advisor training.",
                contributors: ["Wealth Technology Consultants", "Project Managers", "Solution Architects", "Data Migration Specialists", "Compliance Officers", "Training Specialists", "Relationship Managers"],
                firms: ["Wealth platform vendors (Orion, Black Diamond, Addepar, Envestnet)", "Implementation consultants", "RIA technology consultants", "Custodians (Schwab, Fidelity, Pershing)"],
                confidence: 89
            },

            // === TECHNOLOGY ARTIFACTS ===
            ai_ml_platform: {
                summary: "An AI/ML Platform Architecture designs the enterprise infrastructure for developing, deploying, and managing machine learning models at scale. Components include data pipelines, feature stores, model training infrastructure (GPU clusters), MLOps tooling, model registry, serving infrastructure, and monitoring systems. Architecture addresses model versioning, A/B testing, drift detection, and governance requirements. Cloud-native designs leverage managed services from AWS, GCP, or Azure.",
                contributors: ["ML Engineers", "Data Engineers", "Platform Architects", "MLOps Engineers", "Data Scientists", "DevOps Engineers", "Security Architects"],
                firms: ["Cloud providers (AWS, Google Cloud, Azure)", "ML platform vendors (Databricks, DataRobot, H2O.ai)", "Technology consulting firms", "AI-focused consultancies"],
                confidence: 90
            },
            ecommerce_platform: {
                summary: "An E-commerce Platform Development creates digital commerce capabilities including product catalog, shopping cart, checkout, payment processing, order management, and fulfillment integration. Modern platforms incorporate headless architecture, composable commerce, personalization, and omnichannel capabilities. Implementation covers platform selection (Shopify, Magento, Salesforce Commerce), customization, third-party integrations (ERP, WMS, payment gateways), and performance optimization.",
                contributors: ["E-commerce Architects", "Full-Stack Developers", "UX Designers", "Payment Integration Specialists", "QA Engineers", "Project Managers", "Business Analysts"],
                firms: ["Digital agencies (Publicis Sapient, AKQA, Razorfish)", "E-commerce specialists", "Systems integrators", "Platform vendors (Shopify Plus, Adobe Commerce)"],
                confidence: 92
            },
            ehr_implementation: {
                summary: "An Electronic Health Record (EHR) Implementation deploys clinical information systems across healthcare organizations. Major platforms include Epic, Cerner (Oracle Health), and MEDITECH. Implementation covers workflow analysis, system configuration, data migration, interface development (HL7/FHIR), training, and go-live support. Projects address Meaningful Use requirements, interoperability standards, and clinical decision support. Large health system implementations typically span 2-4 years.",
                contributors: ["Clinical Informaticists", "EHR Analysts", "Implementation Consultants", "Physician Champions", "Training Specialists", "Interface Engineers", "Project Managers", "Change Management Leads"],
                firms: ["EHR vendors (Epic, Oracle Cerner, MEDITECH)", "Healthcare IT consultants (Nordic, Impact Advisors)", "Health systems IT departments", "Big Four healthcare practices"],
                confidence: 94
            },
            telemedicine_platform: {
                summary: "A Telemedicine Platform Development creates virtual care delivery capabilities including video consultations, asynchronous messaging, remote patient monitoring, and e-prescribing. Platforms must address HIPAA compliance, state licensure requirements, EHR integration, and reimbursement workflows. Components include patient scheduling, virtual waiting rooms, clinical documentation, and billing integration. COVID-19 accelerated adoption, with telehealth now standard for many specialties.",
                contributors: ["Healthcare IT Architects", "Software Developers", "UX Designers", "Clinical Advisors", "Compliance Officers", "Integration Engineers", "Product Managers"],
                firms: ["Telehealth platform vendors (Teladoc, Amwell, Doxy.me)", "Healthcare IT consultants", "Digital health startups", "Health system IT departments"],
                confidence: 91
            },
            iot_platform: {
                summary: "An IoT Platform Architecture designs infrastructure for connecting, managing, and analyzing data from distributed devices. Components include device connectivity (MQTT, CoAP), device management, data ingestion pipelines, edge computing, analytics engines, and application enablement. Architecture addresses device provisioning, security (certificates, encryption), firmware updates, and scalability. Industrial IoT applications span manufacturing, utilities, logistics, and smart buildings.",
                contributors: ["IoT Architects", "Embedded Systems Engineers", "Cloud Engineers", "Data Engineers", "Security Specialists", "Network Engineers", "Solutions Architects"],
                firms: ["IoT platform vendors (AWS IoT, Azure IoT, PTC ThingWorx)", "Industrial automation companies (Siemens, Rockwell)", "Systems integrators", "IoT consulting firms"],
                confidence: 90
            },
            streaming_platform: {
                summary: "A Streaming Platform Architecture designs real-time data processing infrastructure for high-volume event streams. Components include message brokers (Kafka, Kinesis), stream processing frameworks (Flink, Spark Streaming), data lakes, and real-time analytics. Architecture addresses exactly-once semantics, fault tolerance, schema evolution, and sub-second latency requirements. Use cases span financial trading, IoT analytics, fraud detection, and personalization engines.",
                contributors: ["Data Engineers", "Platform Architects", "Distributed Systems Engineers", "DevOps Engineers", "Data Scientists", "Software Engineers"],
                firms: ["Cloud providers", "Data platform vendors (Confluent, Databricks)", "Technology consulting firms", "Financial services technology teams"],
                confidence: 89
            },
            identity_management: {
                summary: "An Identity & Access Management (IAM) Implementation establishes enterprise systems for managing user identities, authentication, and authorization. Components include directory services, single sign-on (SSO), multi-factor authentication (MFA), privileged access management (PAM), and identity governance. Implementation addresses Zero Trust principles, regulatory requirements (SOX, HIPAA), and cloud/hybrid environments. Modern IAM leverages SAML, OAuth 2.0, and OIDC protocols.",
                contributors: ["IAM Architects", "Security Engineers", "Directory Services Administrators", "Compliance Officers", "Project Managers", "Application Owners", "Help Desk Teams"],
                firms: ["IAM vendors (Okta, Microsoft, Ping Identity, SailPoint)", "Cybersecurity consultants", "Systems integrators", "Big Four cybersecurity practices"],
                confidence: 92
            },
            zero_trust_security: {
                summary: "A Zero Trust Security Architecture implements the 'never trust, always verify' security model across enterprise environments. Components include identity verification, device health validation, micro-segmentation, least-privilege access, continuous monitoring, and encrypted communications. Implementation follows NIST SP 800-207 guidelines and addresses cloud, on-premises, and hybrid environments. Zero Trust adoption accelerated post-COVID with remote workforce expansion.",
                contributors: ["Security Architects", "Network Engineers", "Identity Specialists", "Cloud Security Engineers", "Compliance Officers", "CISOs", "Security Operations Teams"],
                firms: ["Cybersecurity vendors (Zscaler, Palo Alto, Cloudflare)", "Security consulting firms", "Big Four cybersecurity practices", "Managed security service providers"],
                confidence: 91
            },
            "5g_network": {
                summary: "A 5G Network Deployment involves planning and implementing fifth-generation wireless infrastructure. Components include radio access network (RAN) design, core network architecture (5G SA/NSA), spectrum planning, small cell deployment, and network slicing. Projects address coverage modeling, interference analysis, backhaul requirements, and edge computing integration. 5G enables enhanced mobile broadband (eMBB), massive IoT, and ultra-reliable low-latency communications (URLLC).",
                contributors: ["RF Engineers", "Network Architects", "Site Acquisition Specialists", "Core Network Engineers", "Project Managers", "Regulatory Specialists", "Construction Managers"],
                firms: ["Telecom operators (Verizon, AT&T, T-Mobile)", "Equipment vendors (Ericsson, Nokia, Samsung)", "Tower companies (American Tower, Crown Castle)", "Network engineering consultants"],
                confidence: 90
            },
            fiber_network: {
                summary: "A Fiber Network Design develops infrastructure for high-capacity optical communications. Projects include route engineering, outside plant design, splicing plans, central office equipment, and network architecture (PON, point-to-point). Design addresses right-of-way acquisition, permitting, make-ready engineering, and construction specifications. Applications span FTTH (fiber-to-the-home), enterprise connectivity, and backbone networks.",
                contributors: ["Fiber Network Engineers", "Outside Plant Designers", "GIS Specialists", "Permit Coordinators", "Construction Managers", "Splicing Technicians", "Project Engineers"],
                firms: ["Telecom operators", "Fiber infrastructure companies (Lumen, Zayo)", "Engineering firms (Black & Veatch, Sargent & Lundy)", "Construction contractors"],
                confidence: 91
            },
            api_platform: {
                summary: "An API Platform Strategy designs enterprise capabilities for creating, managing, and monetizing application programming interfaces. Components include API gateway, developer portal, rate limiting, authentication (OAuth/API keys), analytics, and lifecycle management. Strategy addresses API-first design principles, versioning, documentation standards (OpenAPI), and partner ecosystem enablement. Modern platforms support REST, GraphQL, and event-driven architectures.",
                contributors: ["API Architects", "Platform Engineers", "Developer Experience Specialists", "Product Managers", "Security Engineers", "Technical Writers", "Integration Specialists"],
                firms: ["API management vendors (Apigee, MuleSoft, Kong, AWS API Gateway)", "Digital transformation consultancies", "Systems integrators", "Technology consulting firms"],
                confidence: 90
            },
            api_strategy_design: {
                summary: "An API Strategy & Design establishes organizational approach to building and exposing APIs. Deliverables include API governance model, design guidelines, security standards, versioning policies, and developer experience strategy. Strategy addresses internal integration, partner enablement, and potential monetization. Design patterns cover RESTful conventions, error handling, pagination, and backward compatibility.",
                contributors: ["API Strategists", "Enterprise Architects", "Developer Advocates", "Product Managers", "Security Architects", "Technical Writers"],
                firms: ["Digital consulting firms", "API-focused consultancies", "Technology advisory firms", "Cloud platform professional services"],
                confidence: 88
            },
            omnichannel: {
                summary: "An Omnichannel Strategy & Implementation creates unified customer experiences across physical and digital touchpoints. Components include customer data platform (CDP), journey orchestration, inventory visibility, order management, and unified commerce capabilities. Implementation addresses channel integration, personalization, and consistent brand experience. Retail applications span buy-online-pickup-in-store (BOPIS), clienteling, and endless aisle.",
                contributors: ["Omnichannel Strategists", "Customer Experience Designers", "Solutions Architects", "Data Engineers", "Retail Technology Specialists", "Change Management Consultants"],
                firms: ["Retail consulting firms", "Digital agencies", "Commerce platform vendors (Salesforce, SAP)", "Customer data platform vendors"],
                confidence: 89
            },
            content_library: {
                summary: "A Content Library & Digital Asset Management (DAM) Implementation creates centralized systems for storing, organizing, and distributing digital content. Components include metadata taxonomy, rights management, workflow automation, format conversion, and CDN integration. Implementation addresses brand consistency, content reuse, and creative operations efficiency. Modern DAMs support AI-powered tagging and dynamic asset transformation.",
                contributors: ["DAM Administrators", "Content Strategists", "Information Architects", "Metadata Specialists", "Creative Operations Managers", "IT Project Managers"],
                firms: ["DAM vendors (Adobe Experience Manager, Bynder, Canto)", "Digital asset consultants", "Marketing technology integrators", "Creative agencies"],
                confidence: 87
            },
            data_governance: {
                summary: "A Data Governance Program establishes policies, processes, and organizational structures for managing enterprise data as an asset. Components include data ownership model, data quality management, metadata management, data catalog, privacy compliance (GDPR, CCPA), and stewardship councils. Implementation addresses master data management, data lineage, and business glossary. Programs support regulatory compliance and analytics enablement.",
                contributors: ["Chief Data Officers", "Data Governance Leads", "Data Stewards", "Data Quality Analysts", "Privacy Officers", "Business Analysts", "IT Data Architects"],
                firms: ["Data management consultancies", "Big Four data practices", "Data governance tool vendors (Collibra, Alation, Informatica)", "Management consulting firms"],
                confidence: 91
            },

            // === ENGINEERING/INFRASTRUCTURE ARTIFACTS ===
            airport_master_plan: {
                summary: "An Airport Master Plan provides long-term development guidance for aviation facilities typically spanning 20+ years. Plans include demand forecasting, facility requirements, airfield/terminal layouts, ground access, environmental considerations, and financial feasibility. FAA Advisory Circular 150/5070-6B guides planning requirements. Master plans support Airport Improvement Program (AIP) funding and environmental review (NEPA) processes.",
                contributors: ["Aviation Planners", "Civil Engineers", "Airfield Designers", "Terminal Planners", "Environmental Specialists", "Financial Analysts", "Stakeholder Engagement Specialists"],
                firms: ["Aviation consulting firms (Landrum & Brown, LeighFisher, HNTB)", "Engineering firms (AECOM, Jacobs)", "Airport authorities", "FAA-approved consultants"],
                confidence: 92
            },
            dam_safety: {
                summary: "A Dam Safety Assessment evaluates structural integrity, hydraulic capacity, and emergency preparedness for dam infrastructure. Assessments follow FEMA guidelines and state dam safety regulations, covering visual inspection, instrumentation monitoring, stability analysis, spillway adequacy, and Emergency Action Plans (EAP). High-hazard dams require periodic engineering reviews and may trigger rehabilitation requirements.",
                contributors: ["Dam Safety Engineers (PE)", "Geotechnical Engineers", "Hydraulic Engineers", "Emergency Management Specialists", "Instrumentation Specialists", "Inspectors"],
                firms: ["Dam engineering firms (Schnabel, GEI Consultants, HDR)", "State dam safety programs", "Federal agencies (FERC, USACE, Bureau of Reclamation)", "Geotechnical consultants"],
                confidence: 93
            },
            seaport_expansion: {
                summary: "A Seaport Expansion Master Plan guides development of maritime terminal facilities. Plans address vessel traffic forecasting, berth requirements, container yard capacity, intermodal connectivity (rail/truck), navigation channel needs, and environmental mitigation. Projects involve USACE permits, NEPA review, and coordination with shipping lines. Expansion supports larger vessel classes (post-Panamax) and automation technologies.",
                contributors: ["Port Planners", "Marine Engineers", "Terminal Operations Specialists", "Environmental Scientists", "Traffic Engineers", "Economic Analysts", "Project Managers"],
                firms: ["Port engineering firms (Moffatt & Nichol, AECOM, Royal HaskoningDHV)", "Terminal operators (APM Terminals, DP World)", "Port authorities", "Environmental consultants"],
                confidence: 90
            },
            transit_system: {
                summary: "A Transit System Planning & Design develops public transportation infrastructure including light rail, bus rapid transit, and commuter rail. Projects cover ridership forecasting, alignment alternatives, station design, vehicle procurement, operations planning, and fare systems. Federal Transit Administration (FTA) Capital Investment Grants (New Starts/Small Starts) funding requires environmental review and project development processes.",
                contributors: ["Transit Planners", "Civil Engineers", "Architects", "Traffic Engineers", "Environmental Specialists", "Public Engagement Specialists", "Operations Planners", "Financial Analysts"],
                firms: ["Transit engineering firms (WSP, HNTB, STV)", "Transit agencies", "Architecture firms (HOK, Gensler)", "Planning consultants"],
                confidence: 92
            },
            lng_terminal: {
                summary: "An LNG Terminal Engineering designs liquefied natural gas import/export facilities. Components include cryogenic storage tanks, marine berths, liquefaction/regasification trains, and safety systems. Projects require FERC authorization, NEPA environmental review, and Coast Guard/PHMSA safety compliance. Engineering addresses boil-off gas management, seismic design, and blast-resistant construction. Projects represent multi-billion dollar investments.",
                contributors: ["LNG Process Engineers", "Cryogenic Specialists", "Marine Engineers", "Safety Engineers", "Environmental Specialists", "Construction Managers", "Project Directors"],
                firms: ["LNG engineering firms (Bechtel, KBR, Technip)", "Energy companies (Cheniere, Sempra)", "Specialized LNG contractors", "Environmental consultants"],
                confidence: 91
            },
            nuclear_decommissioning: {
                summary: "A Nuclear Decommissioning Plan details the safe dismantlement of nuclear facilities after operational life. Plans address radioactive waste characterization, decontamination procedures, demolition sequences, waste disposal pathways, site remediation, and license termination criteria. NRC oversight ensures compliance with 10 CFR 50.82 requirements. Decommissioning trust funds provide financial assurance, with projects spanning 10-60 years depending on approach (DECON, SAFSTOR, ENTOMB).",
                contributors: ["Nuclear Engineers", "Health Physicists", "Radiation Protection Specialists", "Decommissioning Project Managers", "Waste Management Specialists", "NRC Licensing Specialists", "Environmental Scientists"],
                firms: ["Nuclear decommissioning contractors (EnergySolutions, Holtec)", "Nuclear engineering firms", "NRC-licensed waste facilities", "Specialty demolition contractors"],
                confidence: 92
            },
            grid_modernization: {
                summary: "A Grid Modernization Program upgrades electrical distribution infrastructure with smart grid technologies. Components include advanced metering infrastructure (AMI), distribution automation, outage management systems, volt/VAR optimization, and distributed energy resource management (DERMS). Programs address renewable integration, EV charging infrastructure, and grid resilience. Utility regulatory approval (rate cases) provides cost recovery mechanisms.",
                contributors: ["Grid Modernization Engineers", "Smart Grid Architects", "Utility Planners", "Regulatory Specialists", "IT/OT Integration Specialists", "Project Managers", "Cybersecurity Engineers"],
                firms: ["Electric utilities", "Grid technology vendors (GE, Siemens, Schneider Electric)", "Utility consulting firms (West Monroe, Navigant/Guidehouse)", "Systems integrators"],
                confidence: 91
            },
            solar_farm: {
                summary: "A Solar Farm Development designs utility-scale photovoltaic power generation facilities. Engineering covers site assessment, system design (fixed-tilt vs. tracking), electrical collection system, interconnection studies, and construction documents. Projects require environmental permits, land use approvals, and power purchase agreements (PPAs). Development addresses solar resource assessment, geotechnical conditions, and grid integration requirements.",
                contributors: ["Solar Engineers", "Electrical Engineers", "Civil Engineers", "Environmental Specialists", "Land Acquisition Specialists", "PPA Negotiators", "Construction Managers"],
                firms: ["Solar developers (NextEra, Invenergy, Lightsource BP)", "Engineering firms (Black & Veatch, Burns & McDonnell)", "EPC contractors", "Environmental consultants"],
                confidence: 92
            },
            wind_farm: {
                summary: "A Wind Farm Development designs utility-scale wind power generation facilities. Engineering covers wind resource assessment (met tower/LiDAR data), turbine siting, wake analysis, electrical collection system, and grid interconnection. Projects address FAA obstruction evaluation, wildlife impacts (avian/bat studies), noise analysis, and visual impact assessments. Development requires long-term power purchase agreements and land lease negotiations.",
                contributors: ["Wind Engineers", "Resource Assessment Analysts", "Electrical Engineers", "Environmental Scientists", "Land Agents", "Project Developers", "Construction Managers"],
                firms: ["Wind developers (√òrsted, Vestas, GE Renewable Energy)", "Engineering firms", "Environmental consultants", "Financial advisors (tax equity structuring)"],
                confidence: 92
            },
            factory_automation: {
                summary: "A Factory Automation Design implements manufacturing systems including robotics, PLCs, SCADA, and industrial IoT. Projects cover process analysis, equipment specification, controls programming, safety systems (per OSHA/NFPA 79), and integration with MES/ERP. Automation addresses throughput optimization, quality control, and labor efficiency. Industry 4.0 initiatives incorporate digital twins, predictive maintenance, and AI-driven optimization.",
                contributors: ["Automation Engineers", "Controls Engineers", "Robotics Specialists", "Manufacturing Engineers", "Safety Engineers", "PLC Programmers", "Systems Integrators"],
                firms: ["Automation integrators (Rockwell, Siemens partners)", "Robotics companies (FANUC, ABB, KUKA)", "Manufacturing consulting firms", "OEM machinery suppliers"],
                confidence: 91
            },
            smart_city: {
                summary: "A Smart City Master Plan integrates technology across urban infrastructure including transportation, utilities, public safety, and citizen services. Components address IoT sensor networks, data platforms, connected mobility, smart lighting, and digital governance. Plans cover cybersecurity, privacy frameworks, and digital equity. Implementation requires public-private partnerships and multi-agency coordination.",
                contributors: ["Smart City Strategists", "Urban Planners", "Technology Architects", "Transportation Engineers", "Sustainability Specialists", "Civic Technology Specialists", "Public Engagement Consultants"],
                firms: ["Smart city consultancies", "Technology companies (Cisco, IBM, Microsoft)", "Urban planning firms", "Engineering firms with smart infrastructure practices"],
                confidence: 88
            },
            oil_field_development: {
                summary: "An Oil Field Development Plan designs extraction infrastructure for hydrocarbon reservoirs. Engineering covers reservoir characterization, well placement optimization, surface facilities design, production forecasting, and environmental management. Projects address drilling programs, artificial lift systems, and produced water handling. Offshore developments add platform/FPSO design complexity and marine logistics.",
                contributors: ["Reservoir Engineers", "Drilling Engineers", "Facilities Engineers", "Production Engineers", "Environmental Specialists", "Project Managers", "Geoscientists"],
                firms: ["Oil companies (majors and independents)", "Oilfield service companies (SLB, Halliburton, Baker Hughes)", "Engineering contractors (Wood, Worley)", "Environmental consultants"],
                confidence: 91
            },

            // === REAL ESTATE ARTIFACTS ===
            hotel_development: {
                summary: "A Hotel Development Feasibility Study analyzes market viability for lodging projects. Analysis covers market segmentation, competitive supply analysis, demand generators, occupancy/ADR projections, and financial feasibility (development costs, operating pro forma, returns). Studies support financing, brand selection, and management company negotiations. STR data and hospitality consulting expertise inform market positioning.",
                contributors: ["Hospitality Consultants", "Market Analysts", "Financial Analysts", "Architects", "Development Managers", "Brand Representatives", "Lenders"],
                firms: ["Hospitality consulting firms (HVS, CBRE Hotels, JLL Hotels)", "Development companies", "Hotel brands", "Investment banks with lodging practices"],
                confidence: 93
            },
            office_tower: {
                summary: "An Office Tower Development encompasses design and construction of Class A commercial office buildings. Projects address architectural design, structural engineering, MEP systems, vertical transportation, building automation, and LEED/WELL certification. Development requires zoning entitlements, construction financing, and pre-leasing. Post-COVID designs emphasize ventilation, touchless systems, and flexible floor plates.",
                contributors: ["Architects", "Structural Engineers", "MEP Engineers", "Development Managers", "Leasing Agents", "Construction Managers", "Sustainability Consultants"],
                firms: ["Architecture firms (SOM, KPF, Gensler)", "Engineering firms", "Commercial developers (Brookfield, Hines, Tishman Speyer)", "Construction managers"],
                confidence: 92
            },
            retail_center: {
                summary: "A Retail Center Development designs shopping centers from neighborhood strips to regional malls. Projects address tenant mix strategy, site planning, architectural design, parking analysis, and lease negotiations. Development considers e-commerce impacts, experiential retail trends, and mixed-use integration. Anchored centers require anchor tenant commitments for financing.",
                contributors: ["Retail Developers", "Architects", "Leasing Agents", "Civil Engineers", "Traffic Engineers", "Market Analysts", "Construction Managers"],
                firms: ["Retail developers (Simon, Kimco, Regency Centers)", "Retail architecture firms", "Commercial brokers (CBRE, JLL, Cushman)", "Civil engineering firms"],
                confidence: 91
            },
            senior_living: {
                summary: "A Senior Living Development designs residential communities for aging populations including independent living, assisted living, memory care, and skilled nursing. Projects address licensure requirements, care delivery models, unit mix optimization, amenity programming, and staffing models. Development requires state health department approvals and certificate of need (CON) in some states. Demographics drive strong sector fundamentals.",
                contributors: ["Senior Living Developers", "Healthcare Architects", "Operations Consultants", "Licensing Specialists", "Financial Analysts", "Marketing Specialists", "Construction Managers"],
                firms: ["Senior living developers (Brookdale, Five Star, LCS)", "Healthcare architecture firms (Perkins Eastman, SmithGroup)", "Senior living operators", "Healthcare REITs"],
                confidence: 90
            },
            industrial_park: {
                summary: "An Industrial Park Development designs logistics and manufacturing facilities including warehouses, distribution centers, and flex buildings. Projects address site selection, building specifications (clear heights, dock doors, truck courts), utility infrastructure, and intermodal connectivity. E-commerce growth drives demand for modern logistics facilities near population centers. Speculative development common in strong markets.",
                contributors: ["Industrial Developers", "Civil Engineers", "Architects", "Logistics Consultants", "Economic Development Officials", "Leasing Agents", "Construction Managers"],
                firms: ["Industrial developers (Prologis, Duke Realty, Trammell Crow)", "Logistics consulting firms", "Civil engineering firms", "Industrial brokers"],
                confidence: 92
            },
            hospital_expansion: {
                summary: "A Hospital Expansion Master Plan guides healthcare facility growth including bed additions, service line expansion, and campus development. Plans address patient flow analysis, departmental adjacencies, infrastructure capacity, regulatory compliance (CMS Conditions of Participation), and phased implementation. Projects require certificate of need (CON) approval in regulated states and extensive stakeholder engagement.",
                contributors: ["Healthcare Planners", "Healthcare Architects", "Clinical Operations Consultants", "Medical Equipment Planners", "Civil Engineers", "Financial Analysts", "Regulatory Specialists"],
                firms: ["Healthcare architecture firms (HKS, HDR, Perkins&Will)", "Healthcare consulting firms (Kaufman Hall, Sg2)", "Medical equipment planners", "Construction managers"],
                confidence: 92
            },

            // === REMAINING ARTIFACTS ===
            antitrust_review: {
                summary: "An Antitrust Review analyzes transactions and business practices for competition law compliance. Reviews address Hart-Scott-Rodino (HSR) filing requirements, market definition, competitive effects analysis, and potential remedies. M&A reviews assess horizontal overlaps and vertical integration concerns. Behavioral matters examine pricing practices, distribution arrangements, and competitor collaborations.",
                contributors: ["Antitrust Attorneys", "Economists", "Paralegals", "Industry Analysts", "Document Review Teams", "Expert Witnesses"],
                firms: ["Antitrust law firms (Cravath, Cleary, Wachtell)", "Economic consulting firms (Compass Lexecon, Analysis Group, NERA)", "Corporate legal departments", "DOJ/FTC (opposing)"],
                confidence: 93
            },
            employment_litigation: {
                summary: "Employment Litigation Defense represents employers in workplace disputes including discrimination, harassment, wrongful termination, wage/hour, and ERISA claims. Defense involves factual investigation, document preservation, discovery management, expert retention, and trial preparation. Cases may proceed in federal/state court or arbitration. Class/collective actions (FLSA, discrimination) create significant exposure requiring specialized defense strategies.",
                contributors: ["Employment Litigators", "Paralegals", "HR Professionals", "Expert Witnesses (economists, vocational)", "E-Discovery Specialists", "Jury Consultants"],
                firms: ["Employment defense firms (Littler, Jackson Lewis, Ogletree)", "General litigation firms", "Corporate legal departments", "Expert witness firms"],
                confidence: 92
            },
            patent_portfolio: {
                summary: "A Patent Portfolio Analysis evaluates intellectual property assets for licensing, litigation, M&A, or strategic planning. Analysis covers claim scope, validity assessment, infringement potential, remaining term, maintenance fees, and competitive landscape mapping. Portfolio optimization recommendations address prosecution strategy, licensing opportunities, and divestiture candidates. Valuation methods include cost, market, and income approaches.",
                contributors: ["Patent Attorneys", "Patent Agents", "Technical Specialists", "Licensing Professionals", "Valuation Experts", "Competitive Intelligence Analysts"],
                firms: ["IP law firms (Fish & Richardson, Finnegan, Morrison & Foerster)", "IP consulting firms", "Patent analytics companies (PatSnap, Clarivate)", "Technology transfer offices"],
                confidence: 91
            },
            trademark_clearance: {
                summary: "A Trademark Clearance Search & Opinion assesses availability of proposed marks for registration and use. Searches cover USPTO records, state registrations, common law usage, domain names, and international databases. Legal opinions analyze likelihood of confusion, strength of conflicting marks, and risk of opposition/litigation. Clearance supports brand launch decisions and prosecution strategy.",
                contributors: ["Trademark Attorneys", "Search Analysts", "Paralegals", "Brand Managers", "Marketing Teams"],
                firms: ["IP law firms", "Trademark search companies (Corsearch, TrademarkNow)", "Branding agencies", "Corporate legal departments"],
                confidence: 93
            },
            defense_contract: {
                summary: "A Defense Contract Proposal develops responses to Department of Defense solicitations (RFPs/RFQs). Proposals address technical approach, management plan, past performance, cost/price volumes, and compliance matrices. Defense contracting requires FAR/DFARS compliance, security clearances, DCAA-auditable accounting systems, and cost or pricing data (TINA). Proposals span firm-fixed-price, cost-plus, and indefinite delivery contracts.",
                contributors: ["Proposal Managers", "Technical Writers", "Cost Estimators", "Contracts Specialists", "Subject Matter Experts", "Capture Managers", "Security Officers"],
                firms: ["Defense contractors (Lockheed Martin, Raytheon, Northrop Grumman)", "Defense consulting firms", "Proposal development consultancies", "Government contracts law firms"],
                confidence: 92
            },
            education_reform: {
                summary: "An Education Reform Strategy develops systemic improvement initiatives for K-12 or higher education. Strategies address curriculum redesign, teacher effectiveness, technology integration, assessment systems, and governance structures. Reform requires stakeholder engagement (unions, parents, boards), change management, and sustainable funding models. Evidence-based interventions draw from education research and successful district models.",
                contributors: ["Education Consultants", "Curriculum Specialists", "Assessment Experts", "Technology Integration Specialists", "Change Management Consultants", "Policy Analysts", "Community Engagement Specialists"],
                firms: ["Education consulting firms (McKinsey Education, BCG Education)", "Non-profits (Gates Foundation, NewSchools)", "University education schools", "State education agencies"],
                confidence: 86
            },
            health_system_merger: {
                summary: "A Health System Merger integrates hospital organizations including clinical operations, administrative functions, IT systems, and governance structures. Integration addresses medical staff alignment, service line optimization, revenue cycle consolidation, and culture integration. Regulatory requirements include FTC/DOJ antitrust review, state attorney general approval, and certificate of need considerations. Health system mergers aim for scale economies and care coordination benefits.",
                contributors: ["Healthcare M&A Advisors", "Integration Consultants", "Clinical Operations Experts", "IT Integration Teams", "HR Integration Teams", "Legal Counsel", "Communications Specialists"],
                firms: ["Healthcare consulting firms (Kaufman Hall, Chartis, Sg2)", "Healthcare investment banks", "Healthcare law firms (McDermott, King & Spalding)", "Big Four healthcare practices"],
                confidence: 91
            },
            revenue_cycle: {
                summary: "A Revenue Cycle Optimization improves healthcare financial operations from patient access through collections. Projects address scheduling, registration, charge capture, coding, claims submission, denial management, and patient collections. Optimization leverages analytics to identify revenue leakage, reduce denials, and improve cash flow. Implementation may include vendor selection for RCM technology or outsourcing.",
                contributors: ["Revenue Cycle Consultants", "Coding Specialists (CPC, CCS)", "HIM Directors", "Patient Access Managers", "Analytics Specialists", "IT Implementation Teams"],
                firms: ["Revenue cycle consulting firms (Huron, Navigant/Guidehouse)", "RCM vendors (R1, Optum360, Conifer)", "Healthcare IT consultants", "Big Four healthcare practices"],
                confidence: 92
            },
            operational_excellence: {
                summary: "An Operational Excellence Program implements systematic improvement methodologies (Lean, Six Sigma, Theory of Constraints) across organizations. Programs establish continuous improvement culture, standard work, visual management, and problem-solving capabilities. Implementation covers value stream mapping, kaizen events, leader standard work, and performance management systems. Manufacturing and healthcare are common applications.",
                contributors: ["Lean/Six Sigma Consultants", "Black Belts/Master Black Belts", "Operations Managers", "Continuous Improvement Directors", "Training Specialists", "Change Management Consultants"],
                firms: ["Operations consulting firms", "Lean consulting specialists", "Big Four operations practices", "Manufacturing consulting firms"],
                confidence: 91
            },
            cost_reduction: {
                summary: "A Cost Reduction Initiative identifies and implements expense savings across organizational functions. Projects cover indirect procurement, spans and layers analysis, shared services optimization, real estate rationalization, and process automation. Implementation requires rigorous tracking against savings targets and organizational change management. Private equity portfolio companies commonly undergo cost reduction programs post-acquisition.",
                contributors: ["Cost Reduction Consultants", "Procurement Specialists", "Finance Analysts", "Operations Managers", "HR Partners", "Change Management Leads"],
                firms: ["Management consulting firms", "Private equity operating partners", "Procurement consulting specialists", "Shared services consultancies"],
                confidence: 92
            },
            revenue_growth: {
                summary: "A Revenue Growth Strategy identifies and pursues top-line expansion opportunities. Components address market segmentation, customer acquisition, pricing optimization, sales effectiveness, channel strategy, and new product development. Implementation requires go-to-market alignment, sales enablement, and performance tracking. Growth strategies balance organic initiatives with potential M&A opportunities.",
                contributors: ["Strategy Consultants", "Marketing Strategists", "Sales Effectiveness Consultants", "Pricing Specialists", "Customer Analytics Experts", "Product Managers"],
                firms: ["Strategy consulting firms (McKinsey, BCG, Bain)", "Revenue growth consultancies", "Sales effectiveness firms (Korn Ferry, Alexander Group)", "Marketing consultancies"],
                confidence: 90
            },
            customer_experience: {
                summary: "A Customer Experience (CX) Transformation redesigns end-to-end customer interactions across touchpoints. Projects cover journey mapping, voice of customer programs, experience design, service blueprinting, and CX measurement (NPS, CSAT). Implementation addresses organizational alignment, technology enablement, and employee engagement. CX leaders demonstrate revenue premium and reduced churn.",
                contributors: ["CX Strategists", "Service Designers", "UX Researchers", "Journey Mapping Facilitators", "VOC Program Managers", "Change Management Consultants", "Analytics Specialists"],
                firms: ["CX consulting firms (Qualtrics XM, Medallia)", "Design firms (IDEO, frog)", "Management consulting firms", "Digital experience agencies"],
                confidence: 89
            },
            org_design: {
                summary: "An Organization Design defines reporting structures, roles, governance mechanisms, and operating models aligned with strategy. Projects cover spans and layers analysis, role clarity, decision rights (RACI/RAPID), capability requirements, and transition planning. Implementation requires change management, communication, and talent implications (redeployment, separation). Reorganizations commonly accompany M&A, strategy shifts, or performance improvement.",
                contributors: ["Organization Design Consultants", "HR Business Partners", "Talent Management Specialists", "Change Management Leads", "Communications Specialists", "Line Leaders"],
                firms: ["Organization consulting firms (McKinsey Organization, Korn Ferry)", "HR consulting firms", "Big Four people practices", "Change management specialists"],
                confidence: 92
            },
            precision_agriculture: {
                summary: "A Precision Agriculture Implementation deploys technology for data-driven farming decisions. Components include GPS guidance, variable rate application, soil sensing, crop monitoring (satellite/drone imagery), and farm management software. Implementation addresses yield mapping, input optimization, and sustainability metrics. Precision ag enables reduced input costs, improved yields, and environmental stewardship documentation.",
                contributors: ["Precision Ag Specialists", "Agronomists", "Data Scientists", "GIS Specialists", "Equipment Dealers", "Farm Managers", "Extension Agents"],
                firms: ["Ag technology companies (John Deere, Climate Corp, Trimble)", "Agribusiness consultants", "Cooperative extension services", "Input suppliers (seed, chemical)"],
                confidence: 88
            },
            agribusiness_ma: {
                summary: "An Agribusiness M&A Advisory provides transaction support for agricultural sector deals including farms, processors, input suppliers, and ag-tech companies. Advisory covers financial modeling, market analysis, operational due diligence (crop yields, equipment condition), and transaction execution. Sector-specific considerations include commodity price exposure, land valuation, water rights, and regulatory (USDA) requirements.",
                contributors: ["Agribusiness Investment Bankers", "Agricultural Economists", "Operational Due Diligence Teams", "Land Appraisers", "Environmental Consultants", "Legal Counsel"],
                firms: ["Agribusiness investment banks (Verdant Partners, StoneX)", "Farm Credit System", "Agricultural lending institutions", "Agribusiness law firms"],
                confidence: 89
            },
            spectrum_auction: {
                summary: "A Spectrum Auction Strategy advises wireless carriers on FCC spectrum license acquisitions. Strategy covers market valuation, bidding tactics, competitive analysis, and regulatory compliance. Auction preparation addresses spectrum needs assessment, financial structuring, and post-auction integration planning. Major auctions (C-band, AWS, 700 MHz) represent multi-billion dollar investments shaping wireless competitive dynamics.",
                contributors: ["Spectrum Economists", "Regulatory Attorneys", "Auction Strategists", "RF Engineers", "Financial Analysts", "Competitive Intelligence Analysts"],
                firms: ["Telecom consulting firms", "Spectrum advisory firms", "FCC regulatory lawyers", "Economic consulting firms"],
                confidence: 87
            },
            studio_acquisition: {
                summary: "A Studio Acquisition Due Diligence evaluates media/entertainment production assets. Analysis covers content library valuation, talent contracts, production pipelines, distribution agreements, union/guild relationships, and facilities assessment. M&A activity in media addresses streaming competition, content ownership, and vertical integration strategies. IP catalogues represent significant enterprise value.",
                contributors: ["M&A Advisors", "Entertainment Attorneys", "Content Valuation Specialists", "Operations Due Diligence Teams", "Financial Analysts", "IP Specialists"],
                firms: ["Entertainment investment banks (LionTree, Raine Group)", "Entertainment law firms", "Media consulting firms", "Big Four media practices"],
                confidence: 88
            },
            supply_chain_resilience: {
                summary: "A Supply Chain Resilience Assessment evaluates vulnerability to disruptions and develops mitigation strategies. Analysis covers supplier dependency, geographic concentration, inventory policies, and scenario planning (pandemic, geopolitical, natural disaster). Recommendations address dual-sourcing, nearshoring, safety stock optimization, and supply chain visibility tools. COVID-19 elevated resilience as board-level priority.",
                contributors: ["Supply Chain Consultants", "Risk Managers", "Procurement Specialists", "Operations Managers", "Data Analysts", "Logistics Specialists"],
                firms: ["Supply chain consulting firms", "Management consulting firms", "Risk consulting practices", "Supply chain technology vendors"],
                confidence: 91
            },
            clinical_data_management: {
                summary: "A Clinical Data Management System implements technology and processes for clinical trial data capture, cleaning, and analysis. Components include electronic data capture (EDC) configuration, edit check programming, medical coding (MedDRA, WHO Drug), data validation, and database lock procedures. CDM ensures data integrity supporting regulatory submissions. 21 CFR Part 11 compliance required.",
                contributors: ["Clinical Data Managers", "Database Programmers", "Medical Coders", "Data Quality Specialists", "Clinical Data Scientists", "Biostatisticians", "EDC Administrators"],
                firms: ["CROs (IQVIA, PPD, Syneos)", "EDC vendors (Medidata, Oracle, Veeva)", "Pharmaceutical companies", "Clinical data management consultancies"],
                confidence: 92
            },
            quality_system: {
                summary: "A Quality Management System Implementation establishes frameworks for consistent product/service quality. Systems align with ISO 9001 (general), ISO 13485 (medical devices), IATF 16949 (automotive), or AS9100 (aerospace). Implementation covers quality policy, document control, CAPA, internal audits, management review, and certification audits. QMS provides foundation for regulatory compliance and continuous improvement.",
                contributors: ["Quality Directors", "Quality Engineers", "Document Control Specialists", "Internal Auditors", "Process Owners", "Training Coordinators", "Certification Body Auditors"],
                firms: ["Quality consulting firms", "Certification bodies (BSI, T√úV, SGS, Intertek)", "Industry-specific quality consultants", "Big Four regulatory practices"],
                confidence: 93
            }
        };

        // Market Volume & Value Estimates by Artifact Type
        // Sources: FDA, SEC, USPTO, Statista, IBISWorld, MarketsandMarkets, Grand View Research,
        // Mordor Intelligence, Epiq, ABI, USGBC, CEQ (2023-2024 data)
        const artifactMarketData = {
            // Medical/Pharma
            clinical_trial_phase3: {
                annualVolume: { low: 150, high: 250, unit: 'trials' },
                totalMarketValue: { low: 3000000000, high: 6000000000 },
                confidence: 85,
                source: 'ClinicalTrials.gov, Statista 2024 - US-initiated Phase 3 trials annually'
            },
            clinical_trial_phase2: {
                annualVolume: { low: 400, high: 600, unit: 'trials' },
                totalMarketValue: { low: 2500000000, high: 5000000000 },
                confidence: 82,
                source: 'ClinicalTrials.gov 2024 - US Phase 2 trials (includes 2a/2b)'
            },
            clinical_trial_phase1: {
                annualVolume: { low: 600, high: 900, unit: 'trials' },
                totalMarketValue: { low: 1500000000, high: 3500000000 },
                confidence: 80,
                source: 'ClinicalTrials.gov 2024 - US first-in-human trials'
            },
            nda_bla_application: {
                annualVolume: { low: 80, high: 120, unit: 'applications' },
                totalMarketValue: { low: 400000000, high: 850000000 },
                confidence: 92,
                source: 'FDA CDER 2024 - NDA/BLA submissions annually (50-55 approved)'
            },
            medical_device_510k: {
                annualVolume: { low: 3000, high: 4000, unit: 'submissions' },
                totalMarketValue: { low: 450000000, high: 1200000000 },
                confidence: 90,
                source: 'FDA CDRH 2024 - ~3,500 510(k) clearances annually'
            },
            pma_application: {
                annualVolume: { low: 30, high: 50, unit: 'applications' },
                totalMarketValue: { low: 150000000, high: 500000000 },
                confidence: 88,
                source: 'FDA CDRH 2024 - Class III device PMA submissions'
            },
            de_novo_classification: {
                annualVolume: { low: 50, high: 100, unit: 'requests' },
                totalMarketValue: { low: 25000000, high: 75000000 },
                confidence: 75,
                source: 'FDA 2024 - De Novo requests growing category'
            },
            clinical_study_report: {
                annualVolume: { low: 1200, high: 1800, unit: 'reports' },
                totalMarketValue: { low: 600000000, high: 1500000000 },
                confidence: 78,
                source: 'Linked to clinical trial completions - CRO industry estimates'
            },
            investigator_brochure: {
                annualVolume: { low: 800, high: 1200, unit: 'documents' },
                totalMarketValue: { low: 200000000, high: 500000000 },
                confidence: 72,
                source: 'Estimated from IND submissions - FDA 2024'
            },
            drug_master_file: {
                annualVolume: { low: 400, high: 700, unit: 'filings' },
                totalMarketValue: { low: 100000000, high: 300000000 },
                confidence: 70,
                source: 'FDA DMF submissions - primarily API manufacturers'
            },
            pharmacovigilance_system: {
                annualVolume: { low: 150, high: 300, unit: 'implementations' },
                totalMarketValue: { low: 300000000, high: 750000000 },
                confidence: 68,
                source: 'Drug safety system implementations - market estimates'
            },
            anda_submission: {
                annualVolume: { low: 700, high: 1000, unit: 'applications' },
                totalMarketValue: { low: 350000000, high: 750000000 },
                confidence: 85,
                source: 'FDA 2024 - Generic drug ANDA submissions'
            },
            biosimilar_development: {
                annualVolume: { low: 30, high: 60, unit: 'programs' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 75,
                source: 'FDA biosimilar pipeline - active development programs'
            },
            eua_dossier: {
                annualVolume: { low: 20, high: 50, unit: 'submissions' },
                totalMarketValue: { low: 50000000, high: 200000000 },
                confidence: 65,
                source: 'FDA EUA submissions - variable based on public health needs'
            },
            drug_safety_report: {
                annualVolume: { low: 2000, high: 4000, unit: 'reports' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 70,
                source: 'FDA adverse event reporting - aggregate safety reports'
            },

            // Financial Services
            ma_advisory_large: {
                annualVolume: { low: 800, high: 1200, unit: 'deals' },
                totalMarketValue: { low: 3000000000, high: 6000000000 },
                confidence: 88,
                source: 'S&P Global, Bain 2024 - US M&A deals >$100M with advisory'
            },
            ma_advisory_midmarket: {
                annualVolume: { low: 3000, high: 5000, unit: 'deals' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 82,
                source: 'PitchBook 2024 - Middle market M&A ($10-100M)'
            },
            annual_audit: {
                annualVolume: { low: 6200, high: 6500, unit: 'audits' },
                totalMarketValue: { low: 4000000000, high: 12000000000 },
                confidence: 95,
                source: 'Ideagen 2024 - SEC registrant audits (6,285 in 2024)'
            },
            due_diligence_financial: {
                annualVolume: { low: 8000, high: 15000, unit: 'engagements' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 80,
                source: 'Accuracy Due Diligence Report 2024 - linked to M&A volume'
            },
            quality_of_earnings: {
                annualVolume: { low: 4000, high: 7000, unit: 'reports' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 78,
                source: 'PE deal flow estimates - Big Four market data'
            },
            sox_compliance: {
                annualVolume: { low: 6000, high: 6500, unit: 'assessments' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 90,
                source: 'All SEC registrants require annual SOX compliance'
            },
            ipo_s1_registration: {
                annualVolume: { low: 150, high: 250, unit: 'filings' },
                totalMarketValue: { low: 600000000, high: 1500000000 },
                confidence: 92,
                source: 'SEC 2024 - 225 IPOs in 2024, up 46% from 2023'
            },
            fairness_opinion: {
                annualVolume: { low: 500, high: 900, unit: 'opinions' },
                totalMarketValue: { low: 300000000, high: 800000000 },
                confidence: 75,
                source: 'Major M&A transactions requiring fairness opinions'
            },
            valuation_services: {
                annualVolume: { low: 15000, high: 25000, unit: 'valuations' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 72,
                source: 'Business valuation market - ASA, NACVA estimates'
            },
            private_placement_memo: {
                annualVolume: { low: 2000, high: 4000, unit: 'offerings' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 70,
                source: 'SEC Reg D filings - private placement memoranda'
            },
            fund_prospectus: {
                annualVolume: { low: 1500, high: 3000, unit: 'prospectuses' },
                totalMarketValue: { low: 300000000, high: 800000000 },
                confidence: 72,
                source: 'SEC fund registration - new and updated prospectuses'
            },
            hedge_fund_formation: {
                annualVolume: { low: 300, high: 600, unit: 'formations' },
                totalMarketValue: { low: 200000000, high: 500000000 },
                confidence: 68,
                source: 'Preqin 2024 - new hedge fund launches'
            },
            private_equity_fund_docs: {
                annualVolume: { low: 400, high: 700, unit: 'funds' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 70,
                source: 'PitchBook 2024 - PE fund formations'
            },
            derivatives_valuation: {
                annualVolume: { low: 5000, high: 10000, unit: 'valuations' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 65,
                source: 'Complex derivatives requiring independent valuation'
            },
            asset_backed_securities: {
                annualVolume: { low: 800, high: 1500, unit: 'issuances' },
                totalMarketValue: { low: 600000000, high: 1500000000 },
                confidence: 75,
                source: 'SIFMA 2024 - ABS issuance volumes'
            },
            credit_rating_analysis: {
                annualVolume: { low: 3000, high: 6000, unit: 'ratings' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 72,
                source: 'Rating agency new issuance and surveillance'
            },
            spac_merger_proxy: {
                annualVolume: { low: 50, high: 100, unit: 'transactions' },
                totalMarketValue: { low: 100000000, high: 300000000 },
                confidence: 80,
                source: 'SEC 2024 - SPAC de-SPAC transactions (57 SPAC IPOs in 2024)'
            },
            reit_formation: {
                annualVolume: { low: 30, high: 60, unit: 'formations' },
                totalMarketValue: { low: 50000000, high: 150000000 },
                confidence: 68,
                source: 'NAREIT - new REIT formations annually'
            },
            investment_advisory: {
                annualVolume: { low: 5000, high: 10000, unit: 'engagements' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 70,
                source: 'RIA market - major investment advisory mandates'
            },
            wealth_management_plan: {
                annualVolume: { low: 50000, high: 100000, unit: 'plans' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 65,
                source: 'High-net-worth financial planning market'
            },
            internal_audit: {
                annualVolume: { low: 20000, high: 40000, unit: 'audits' },
                totalMarketValue: { low: 3000000000, high: 7000000000 },
                confidence: 72,
                source: 'IIA - internal audit function market size'
            },
            portfolio_risk_assessment: {
                annualVolume: { low: 3000, high: 6000, unit: 'assessments' },
                totalMarketValue: { low: 500000000, high: 1200000000 },
                confidence: 68,
                source: 'Institutional investor risk management mandates'
            },

            // Legal
            patent_litigation: {
                annualVolume: { low: 3500, high: 4500, unit: 'cases' },
                totalMarketValue: { low: 8000000000, high: 18000000000 },
                confidence: 85,
                source: 'USPTO, Lex Machina 2024 - patent infringement filings'
            },
            securities_litigation: {
                annualVolume: { low: 200, high: 350, unit: 'cases' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 82,
                source: 'Stanford Securities Class Action Clearinghouse 2024'
            },
            securities_class_action: {
                annualVolume: { low: 180, high: 280, unit: 'filings' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 85,
                source: 'Cornerstone Research 2024 - securities class action filings'
            },
            bankruptcy_restructuring: {
                annualVolume: { low: 400, high: 600, unit: 'cases' },
                totalMarketValue: { low: 2500000000, high: 6000000000 },
                confidence: 88,
                source: 'Epiq 2024 - Chapter 11 filings >$10M debt (~450 in 2023)'
            },
            regulatory_investigation: {
                annualVolume: { low: 500, high: 1000, unit: 'matters' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 70,
                source: 'DOJ, SEC enforcement actions and investigations'
            },
            litigation_expert: {
                annualVolume: { low: 8000, high: 15000, unit: 'engagements' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 72,
                source: 'Expert witness market - litigation support services'
            },
            antitrust_filing: {
                annualVolume: { low: 2000, high: 3500, unit: 'filings' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 78,
                source: 'DOJ/FTC HSR filings 2024'
            },
            ip_portfolio_audit: {
                annualVolume: { low: 2000, high: 4000, unit: 'audits' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 65,
                source: 'IP management and portfolio review market'
            },
            ip_portfolio_valuation: {
                annualVolume: { low: 1500, high: 3000, unit: 'valuations' },
                totalMarketValue: { low: 300000000, high: 800000000 },
                confidence: 65,
                source: 'IP valuation for M&A, licensing, litigation'
            },

            // Technology
            erp_implementation: {
                annualVolume: { low: 4000, high: 8000, unit: 'projects' },
                totalMarketValue: { low: 8000000000, high: 25000000000 },
                confidence: 75,
                source: 'Gartner, HG Insights 2024 - major ERP implementations'
            },
            cloud_migration: {
                annualVolume: { low: 8000, high: 15000, unit: 'projects' },
                totalMarketValue: { low: 15000000000, high: 40000000000 },
                confidence: 72,
                source: 'Grand View Research 2024 - enterprise cloud migrations'
            },
            cybersecurity_assessment: {
                annualVolume: { low: 30000, high: 60000, unit: 'assessments' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 75,
                source: 'Cybersecurity consulting market - annual assessments'
            },
            penetration_test: {
                annualVolume: { low: 50000, high: 100000, unit: 'tests' },
                totalMarketValue: { low: 1800000000, high: 2500000000 },
                confidence: 85,
                source: 'MarketsandMarkets 2024 - US pen testing market ~$2B'
            },
            cybersecurity_program: {
                annualVolume: { low: 5000, high: 10000, unit: 'implementations' },
                totalMarketValue: { low: 5000000000, high: 15000000000 },
                confidence: 70,
                source: 'Enterprise cybersecurity program development'
            },
            data_warehouse: {
                annualVolume: { low: 3000, high: 6000, unit: 'projects' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 72,
                source: 'Data warehouse implementation market'
            },
            data_analytics_platform: {
                annualVolume: { low: 4000, high: 8000, unit: 'implementations' },
                totalMarketValue: { low: 5000000000, high: 12000000000 },
                confidence: 70,
                source: 'Analytics platform deployment market'
            },
            ai_ml_implementation: {
                annualVolume: { low: 5000, high: 12000, unit: 'projects' },
                totalMarketValue: { low: 8000000000, high: 20000000000 },
                confidence: 68,
                source: 'Enterprise AI/ML implementation market - rapid growth'
            },
            legacy_modernization: {
                annualVolume: { low: 3000, high: 6000, unit: 'projects' },
                totalMarketValue: { low: 6000000000, high: 15000000000 },
                confidence: 70,
                source: 'Application modernization market'
            },
            microservices_migration: {
                annualVolume: { low: 2000, high: 5000, unit: 'projects' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 65,
                source: 'Microservices architecture adoption'
            },
            saas_implementation: {
                annualVolume: { low: 15000, high: 30000, unit: 'implementations' },
                totalMarketValue: { low: 8000000000, high: 20000000000 },
                confidence: 72,
                source: 'Enterprise SaaS deployment market'
            },
            custom_software: {
                annualVolume: { low: 20000, high: 40000, unit: 'projects' },
                totalMarketValue: { low: 15000000000, high: 40000000000 },
                confidence: 70,
                source: 'Custom software development market'
            },
            mobile_app_development: {
                annualVolume: { low: 25000, high: 50000, unit: 'projects' },
                totalMarketValue: { low: 8000000000, high: 20000000000 },
                confidence: 68,
                source: 'Enterprise mobile app development'
            },
            api_strategy: {
                annualVolume: { low: 5000, high: 10000, unit: 'engagements' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 65,
                source: 'API management and strategy consulting'
            },
            website_redesign: {
                annualVolume: { low: 50000, high: 100000, unit: 'projects' },
                totalMarketValue: { low: 5000000000, high: 12000000000 },
                confidence: 70,
                source: 'Enterprise website development market'
            },
            blockchain_implementation: {
                annualVolume: { low: 500, high: 1500, unit: 'projects' },
                totalMarketValue: { low: 500000000, high: 2000000000 },
                confidence: 60,
                source: 'Enterprise blockchain adoption - still emerging'
            },
            identity_access_management: {
                annualVolume: { low: 4000, high: 8000, unit: 'implementations' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 72,
                source: 'IAM implementation market'
            },
            devops_transformation: {
                annualVolume: { low: 3000, high: 7000, unit: 'engagements' },
                totalMarketValue: { low: 2500000000, high: 6000000000 },
                confidence: 68,
                source: 'DevOps consulting and transformation'
            },
            enterprise_architecture: {
                annualVolume: { low: 4000, high: 8000, unit: 'engagements' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 70,
                source: 'Enterprise architecture consulting market'
            },
            it_due_diligence: {
                annualVolume: { low: 2000, high: 4000, unit: 'assessments' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 75,
                source: 'Technology due diligence for M&A transactions'
            },
            vendor_risk_assessment: {
                annualVolume: { low: 20000, high: 50000, unit: 'assessments' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'Third-party risk management market'
            },
            data_governance_framework: {
                annualVolume: { low: 3000, high: 6000, unit: 'implementations' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Data governance consulting market'
            },
            gdpr_compliance: {
                annualVolume: { low: 5000, high: 10000, unit: 'assessments' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 72,
                source: 'Privacy compliance consulting - GDPR/CCPA'
            },
            hipaa_compliance: {
                annualVolume: { low: 8000, high: 15000, unit: 'assessments' },
                totalMarketValue: { low: 1200000000, high: 3000000000 },
                confidence: 75,
                source: 'Healthcare privacy compliance market'
            },
            hipaa_risk_assessment: {
                annualVolume: { low: 10000, high: 20000, unit: 'assessments' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 75,
                source: 'HIPAA security risk assessment requirements'
            },

            // Engineering & Infrastructure
            environmental_impact_statement: {
                annualVolume: { low: 150, high: 300, unit: 'statements' },
                totalMarketValue: { low: 300000000, high: 1000000000 },
                confidence: 78,
                source: 'CEQ 2024 - Federal EIS filings under NEPA'
            },
            infrastructure_engineering: {
                annualVolume: { low: 2000, high: 4000, unit: 'projects' },
                totalMarketValue: { low: 10000000000, high: 30000000000 },
                confidence: 72,
                source: 'Major infrastructure engineering - IIJA driven'
            },
            bridge_design: {
                annualVolume: { low: 500, high: 1000, unit: 'projects' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 70,
                source: 'Bridge engineering projects - federal/state'
            },
            power_plant_engineering: {
                annualVolume: { low: 100, high: 200, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 6000000000 },
                confidence: 68,
                source: 'Power generation engineering projects'
            },
            renewable_energy_design: {
                annualVolume: { low: 800, high: 1500, unit: 'projects' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 72,
                source: 'Solar, wind, storage project engineering'
            },
            renewable_energy_feasibility: {
                annualVolume: { low: 2000, high: 4000, unit: 'studies' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 70,
                source: 'Renewable energy feasibility studies'
            },
            oil_gas_engineering: {
                annualVolume: { low: 300, high: 600, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Oil & gas engineering services'
            },
            water_treatment_plant: {
                annualVolume: { low: 200, high: 400, unit: 'projects' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 70,
                source: 'Municipal water infrastructure'
            },
            tunnel_engineering: {
                annualVolume: { low: 50, high: 100, unit: 'projects' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 65,
                source: 'Tunnel engineering - transportation/utilities'
            },
            smart_grid_design: {
                annualVolume: { low: 100, high: 250, unit: 'projects' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 65,
                source: 'Grid modernization engineering'
            },
            construction_management: {
                annualVolume: { low: 10000, high: 20000, unit: 'projects' },
                totalMarketValue: { low: 8000000000, high: 20000000000 },
                confidence: 72,
                source: 'Construction management services market'
            },
            leed_certification: {
                annualVolume: { low: 4000, high: 6000, unit: 'projects' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 85,
                source: 'USGBC 2024 - ~6,000 LEED certifications globally'
            },
            environmental_remediation: {
                annualVolume: { low: 3000, high: 6000, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'EPA Superfund and state remediation projects'
            },
            carbon_footprint: {
                annualVolume: { low: 5000, high: 12000, unit: 'assessments' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 68,
                source: 'Corporate carbon accounting and verification'
            },
            sustainability_esg: {
                annualVolume: { low: 8000, high: 15000, unit: 'reports' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 72,
                source: 'ESG reporting and consulting market'
            },
            climate_risk_assessment: {
                annualVolume: { low: 2000, high: 5000, unit: 'assessments' },
                totalMarketValue: { low: 400000000, high: 1200000000 },
                confidence: 65,
                source: 'Climate risk and TCFD compliance'
            },

            // Real Estate
            property_appraisal: {
                annualVolume: { low: 3000000, high: 5000000, unit: 'appraisals' },
                totalMarketValue: { low: 10000000000, high: 14000000000 },
                confidence: 85,
                source: 'IBISWorld 2024 - US appraisal market ~$12B'
            },
            real_estate_feasibility: {
                annualVolume: { low: 5000, high: 10000, unit: 'studies' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 70,
                source: 'Commercial RE feasibility analysis market'
            },
            development_pro_forma: {
                annualVolume: { low: 8000, high: 15000, unit: 'analyses' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 68,
                source: 'Development financial modeling market'
            },
            site_selection_study: {
                annualVolume: { low: 3000, high: 6000, unit: 'studies' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 70,
                source: 'Corporate site selection consulting'
            },
            zoning_analysis: {
                annualVolume: { low: 10000, high: 20000, unit: 'analyses' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 68,
                source: 'Land use and zoning consulting'
            },
            lease_audit: {
                annualVolume: { low: 5000, high: 10000, unit: 'audits' },
                totalMarketValue: { low: 300000000, high: 800000000 },
                confidence: 70,
                source: 'Commercial lease audit services'
            },
            mixed_use_development: {
                annualVolume: { low: 500, high: 1000, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Mixed-use development planning/consulting'
            },
            architectural_design: {
                annualVolume: { low: 50000, high: 100000, unit: 'projects' },
                totalMarketValue: { low: 15000000000, high: 35000000000 },
                confidence: 72,
                source: 'US architectural services market'
            },
            hospital_architecture: {
                annualVolume: { low: 300, high: 600, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'Healthcare facility design market'
            },

            // Management Consulting
            strategic_planning: {
                annualVolume: { low: 20000, high: 40000, unit: 'engagements' },
                totalMarketValue: { low: 15000000000, high: 35000000000 },
                confidence: 75,
                source: 'Mordor Intelligence 2024 - US strategy consulting'
            },
            digital_transformation: {
                annualVolume: { low: 10000, high: 20000, unit: 'programs' },
                totalMarketValue: { low: 20000000000, high: 50000000000 },
                confidence: 72,
                source: 'Digital transformation consulting market'
            },
            organizational_restructuring: {
                annualVolume: { low: 3000, high: 6000, unit: 'engagements' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 70,
                source: 'Organization design consulting'
            },
            change_management: {
                annualVolume: { low: 8000, high: 15000, unit: 'programs' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 70,
                source: 'Change management consulting market'
            },
            performance_improvement: {
                annualVolume: { low: 10000, high: 20000, unit: 'engagements' },
                totalMarketValue: { low: 5000000000, high: 12000000000 },
                confidence: 70,
                source: 'Operations improvement consulting'
            },
            lean_transformation: {
                annualVolume: { low: 3000, high: 6000, unit: 'programs' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 68,
                source: 'Lean/Six Sigma consulting market'
            },
            supply_chain_optimization: {
                annualVolume: { low: 5000, high: 10000, unit: 'projects' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 72,
                source: 'Supply chain consulting market'
            },
            procurement_optimization: {
                annualVolume: { low: 4000, high: 8000, unit: 'engagements' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'Procurement consulting market'
            },
            logistics_network_design: {
                annualVolume: { low: 2000, high: 4000, unit: 'projects' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 68,
                source: 'Logistics optimization consulting'
            },
            inventory_optimization: {
                annualVolume: { low: 3000, high: 6000, unit: 'projects' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 68,
                source: 'Inventory management consulting'
            },
            warehouse_automation: {
                annualVolume: { low: 1000, high: 2500, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'Warehouse automation market'
            },
            merger_integration: {
                annualVolume: { low: 1500, high: 3000, unit: 'programs' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 75,
                source: 'Post-merger integration consulting'
            },
            post_merger_integration: {
                annualVolume: { low: 1500, high: 3000, unit: 'programs' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 75,
                source: 'PMI consulting market - linked to M&A volume'
            },
            synergy_assessment: {
                annualVolume: { low: 2000, high: 4000, unit: 'assessments' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 72,
                source: 'M&A synergy analysis engagements'
            },
            carve_out_analysis: {
                annualVolume: { low: 500, high: 1000, unit: 'projects' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 70,
                source: 'Divestiture and carve-out consulting'
            },
            market_entry_strategy: {
                annualVolume: { low: 3000, high: 6000, unit: 'studies' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 68,
                source: 'Market entry and expansion consulting'
            },
            market_research: {
                annualVolume: { low: 30000, high: 60000, unit: 'studies' },
                totalMarketValue: { low: 8000000000, high: 20000000000 },
                confidence: 72,
                source: 'Market research industry - US market'
            },
            pricing_strategy: {
                annualVolume: { low: 5000, high: 10000, unit: 'engagements' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 68,
                source: 'Pricing strategy consulting market'
            },
            customer_journey_mapping: {
                annualVolume: { low: 8000, high: 15000, unit: 'projects' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 65,
                source: 'Customer experience consulting'
            },
            business_continuity: {
                annualVolume: { low: 10000, high: 20000, unit: 'plans' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 72,
                source: 'Business continuity planning market'
            },
            enterprise_risk_management: {
                annualVolume: { low: 5000, high: 10000, unit: 'programs' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'ERM consulting and implementation'
            },
            economic_impact_study: {
                annualVolume: { low: 2000, high: 4000, unit: 'studies' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 68,
                source: 'Economic analysis consulting'
            },

            // HR & Workforce
            executive_compensation: {
                annualVolume: { low: 3000, high: 6000, unit: 'studies' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 72,
                source: 'Executive compensation consulting market'
            },
            total_rewards_strategy: {
                annualVolume: { low: 5000, high: 10000, unit: 'engagements' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 70,
                source: 'Total rewards consulting market'
            },
            workforce_planning: {
                annualVolume: { low: 4000, high: 8000, unit: 'engagements' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 68,
                source: 'Strategic workforce planning consulting'
            },
            leadership_development: {
                annualVolume: { low: 10000, high: 20000, unit: 'programs' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 70,
                source: 'Leadership development market'
            },
            employee_engagement: {
                annualVolume: { low: 15000, high: 30000, unit: 'programs' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Employee engagement consulting'
            },
            dei_program: {
                annualVolume: { low: 8000, high: 15000, unit: 'programs' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 68,
                source: 'DEI consulting market'
            },

            // Marketing & Creative
            brand_identity_system: {
                annualVolume: { low: 10000, high: 25000, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 6000000000 },
                confidence: 68,
                source: 'Brand strategy and design market'
            },
            brand_repositioning: {
                annualVolume: { low: 3000, high: 6000, unit: 'projects' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 65,
                source: 'Brand strategy consulting'
            },
            product_launch_campaign: {
                annualVolume: { low: 15000, high: 30000, unit: 'campaigns' },
                totalMarketValue: { low: 5000000000, high: 15000000000 },
                confidence: 70,
                source: 'Product launch marketing market'
            },
            content_marketing_strategy: {
                annualVolume: { low: 20000, high: 40000, unit: 'strategies' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 68,
                source: 'Content marketing consulting'
            },
            tv_commercial_production: {
                annualVolume: { low: 3000, high: 6000, unit: 'productions' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 72,
                source: 'TV commercial production market'
            },

            // Tax & Compliance
            transfer_pricing: {
                annualVolume: { low: 5000, high: 10000, unit: 'studies' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 75,
                source: 'Transfer pricing consulting market'
            },
            tax_opinion: {
                annualVolume: { low: 8000, high: 15000, unit: 'opinions' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 72,
                source: 'Tax opinion and planning market'
            },
            customs_compliance: {
                annualVolume: { low: 5000, high: 10000, unit: 'engagements' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 70,
                source: 'Trade and customs consulting'
            },
            export_control: {
                annualVolume: { low: 3000, high: 6000, unit: 'assessments' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 68,
                source: 'Export control compliance consulting'
            },
            tariff_analysis: {
                annualVolume: { low: 4000, high: 8000, unit: 'analyses' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 65,
                source: 'Trade tariff advisory services'
            },
            aml_compliance: {
                annualVolume: { low: 5000, high: 10000, unit: 'programs' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 75,
                source: 'AML/KYC compliance consulting'
            },
            compliance_regulatory: {
                annualVolume: { low: 20000, high: 40000, unit: 'engagements' },
                totalMarketValue: { low: 5000000000, high: 12000000000 },
                confidence: 72,
                source: 'Regulatory compliance consulting market'
            },
            government_contract: {
                annualVolume: { low: 10000, high: 20000, unit: 'proposals' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 70,
                source: 'Government contracting consulting'
            },

            // Insurance & Actuarial
            actuarial_valuation: {
                annualVolume: { low: 5000, high: 10000, unit: 'valuations' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 75,
                source: 'Actuarial consulting market'
            },
            actuarial_reserve_study: {
                annualVolume: { low: 3000, high: 6000, unit: 'studies' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 72,
                source: 'Insurance reserve analysis market'
            },
            insurance_program_design: {
                annualVolume: { low: 5000, high: 10000, unit: 'programs' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 70,
                source: 'Insurance brokerage and consulting'
            },
            captive_insurance_study: {
                annualVolume: { low: 500, high: 1000, unit: 'studies' },
                totalMarketValue: { low: 200000000, high: 500000000 },
                confidence: 68,
                source: 'Captive insurance feasibility market'
            },
            claims_analysis: {
                annualVolume: { low: 10000, high: 20000, unit: 'analyses' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 70,
                source: 'Insurance claims consulting'
            },

            // Quality & Operations
            qms_implementation: {
                annualVolume: { low: 5000, high: 10000, unit: 'implementations' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 72,
                source: 'Quality management system consulting'
            },
            contract_management_system: {
                annualVolume: { low: 3000, high: 6000, unit: 'implementations' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 70,
                source: 'Contract lifecycle management market'
            },

            // Additional artifacts - Infrastructure & Telecom
            "5g_network": {
                annualVolume: { low: 50, high: 150, unit: 'deployments' },
                totalMarketValue: { low: 5000000000, high: 15000000000 },
                confidence: 65,
                source: '5G infrastructure deployment projects - telecom carriers'
            },
            fiber_network: {
                annualVolume: { low: 200, high: 500, unit: 'projects' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 68,
                source: 'Fiber optic network expansion projects'
            },
            grid_modernization: {
                annualVolume: { low: 100, high: 300, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 6000000000 },
                confidence: 65,
                source: 'Grid modernization under IIJA funding'
            },
            airport_master_plan: {
                annualVolume: { low: 50, high: 100, unit: 'plans' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 68,
                source: 'FAA airport planning and development'
            },
            seaport_expansion: {
                annualVolume: { low: 20, high: 50, unit: 'projects' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 62,
                source: 'Port infrastructure development'
            },
            transit_system: {
                annualVolume: { low: 100, high: 250, unit: 'projects' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 65,
                source: 'Public transit infrastructure projects'
            },
            lng_terminal: {
                annualVolume: { low: 10, high: 25, unit: 'projects' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 60,
                source: 'LNG terminal development and expansion'
            },
            nuclear_decommissioning: {
                annualVolume: { low: 5, high: 15, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 65,
                source: 'NRC nuclear facility decommissioning'
            },
            dam_safety: {
                annualVolume: { low: 100, high: 300, unit: 'assessments' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 62,
                source: 'Dam safety and rehabilitation projects'
            },
            solar_farm: {
                annualVolume: { low: 500, high: 1000, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'Utility-scale solar development'
            },
            wind_farm: {
                annualVolume: { low: 200, high: 400, unit: 'projects' },
                totalMarketValue: { low: 2500000000, high: 6000000000 },
                confidence: 70,
                source: 'Onshore and offshore wind development'
            },
            smart_city: {
                annualVolume: { low: 50, high: 150, unit: 'initiatives' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 58,
                source: 'Smart city planning and implementation'
            },
            oil_field_development: {
                annualVolume: { low: 100, high: 250, unit: 'projects' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 65,
                source: 'Oil and gas field development engineering'
            },
            factory_automation: {
                annualVolume: { low: 2000, high: 5000, unit: 'projects' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 68,
                source: 'Industrial automation implementations'
            },
            transportation_corridor: {
                annualVolume: { low: 50, high: 150, unit: 'studies' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 62,
                source: 'Transportation corridor planning'
            },

            // Real Estate - Additional
            hotel_development: {
                annualVolume: { low: 300, high: 600, unit: 'projects' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 68,
                source: 'Hotel development and repositioning'
            },
            office_tower: {
                annualVolume: { low: 200, high: 500, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 65,
                source: 'Office tower development'
            },
            retail_center: {
                annualVolume: { low: 300, high: 700, unit: 'projects' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 65,
                source: 'Retail center development and redevelopment'
            },
            senior_living: {
                annualVolume: { low: 400, high: 800, unit: 'projects' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Senior living facility development'
            },
            industrial_park: {
                annualVolume: { low: 200, high: 500, unit: 'projects' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 65,
                source: 'Industrial park development'
            },
            hospital_expansion: {
                annualVolume: { low: 300, high: 600, unit: 'projects' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 70,
                source: 'Hospital expansion and renovation'
            },

            // Technology - Additional Platforms
            ai_ml_platform: {
                annualVolume: { low: 3000, high: 7000, unit: 'deployments' },
                totalMarketValue: { low: 5000000000, high: 12000000000 },
                confidence: 65,
                source: 'AI/ML platform implementations'
            },
            ecommerce_platform: {
                annualVolume: { low: 8000, high: 15000, unit: 'implementations' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 68,
                source: 'E-commerce platform development'
            },
            ehr_implementation: {
                annualVolume: { low: 2000, high: 4000, unit: 'implementations' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 72,
                source: 'Electronic health records implementations'
            },
            telemedicine_platform: {
                annualVolume: { low: 1500, high: 3500, unit: 'implementations' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Telemedicine platform development'
            },
            iot_platform: {
                annualVolume: { low: 3000, high: 6000, unit: 'implementations' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 65,
                source: 'IoT platform implementations'
            },
            streaming_platform: {
                annualVolume: { low: 200, high: 500, unit: 'projects' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 60,
                source: 'Streaming platform development'
            },
            identity_management: {
                annualVolume: { low: 4000, high: 8000, unit: 'implementations' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 70,
                source: 'Identity management solutions'
            },
            zero_trust_security: {
                annualVolume: { low: 3000, high: 7000, unit: 'implementations' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 68,
                source: 'Zero trust architecture implementations'
            },
            soc2_audit: {
                annualVolume: { low: 15000, high: 30000, unit: 'audits' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 75,
                source: 'SOC 2 compliance audits'
            },
            api_platform: {
                annualVolume: { low: 3000, high: 6000, unit: 'implementations' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 65,
                source: 'API management platform market'
            },
            api_strategy_design: {
                annualVolume: { low: 4000, high: 8000, unit: 'engagements' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 65,
                source: 'API strategy consulting'
            },
            omnichannel: {
                annualVolume: { low: 3000, high: 6000, unit: 'implementations' },
                totalMarketValue: { low: 2500000000, high: 6000000000 },
                confidence: 65,
                source: 'Omnichannel retail implementations'
            },
            content_library: {
                annualVolume: { low: 2000, high: 5000, unit: 'implementations' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 60,
                source: 'Digital content management systems'
            },
            data_governance: {
                annualVolume: { low: 4000, high: 8000, unit: 'programs' },
                totalMarketValue: { low: 2500000000, high: 6000000000 },
                confidence: 68,
                source: 'Data governance program implementations'
            },
            saas_platform_architecture: {
                annualVolume: { low: 2000, high: 5000, unit: 'designs' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 65,
                source: 'SaaS architecture consulting'
            },
            supply_chain_resilience: {
                annualVolume: { low: 3000, high: 6000, unit: 'assessments' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Supply chain resilience consulting - post-COVID'
            },

            // Medical/Healthcare - Additional
            clinical_data_management: {
                annualVolume: { low: 1500, high: 3000, unit: 'implementations' },
                totalMarketValue: { low: 1000000000, high: 3000000000 },
                confidence: 70,
                source: 'Clinical data management systems'
            },
            cms_compliance_audit: {
                annualVolume: { low: 5000, high: 10000, unit: 'audits' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 72,
                source: 'CMS healthcare compliance audits'
            },
            hospital_coo_certificate: {
                annualVolume: { low: 200, high: 500, unit: 'certifications' },
                totalMarketValue: { low: 100000000, high: 300000000 },
                confidence: 65,
                source: 'Hospital Certificate of Occupancy processes'
            },
            health_system_merger: {
                annualVolume: { low: 50, high: 150, unit: 'transactions' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 70,
                source: 'Healthcare M&A advisory services'
            },
            revenue_cycle: {
                annualVolume: { low: 3000, high: 6000, unit: 'implementations' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'Healthcare revenue cycle management'
            },

            // Financial - Additional
            private_equity_fund: {
                annualVolume: { low: 400, high: 800, unit: 'funds' },
                totalMarketValue: { low: 500000000, high: 1200000000 },
                confidence: 72,
                source: 'PE fund formation and administration'
            },
            hedge_fund_setup: {
                annualVolume: { low: 300, high: 600, unit: 'formations' },
                totalMarketValue: { low: 250000000, high: 600000000 },
                confidence: 68,
                source: 'Hedge fund setup and administration'
            },
            risk_model_validation: {
                annualVolume: { low: 2000, high: 4000, unit: 'validations' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 70,
                source: 'Financial risk model validation'
            },
            trading_system_audit: {
                annualVolume: { low: 1000, high: 2500, unit: 'audits' },
                totalMarketValue: { low: 500000000, high: 1200000000 },
                confidence: 68,
                source: 'Trading systems audit and compliance'
            },
            reinsurance_treaty: {
                annualVolume: { low: 500, high: 1000, unit: 'treaties' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 65,
                source: 'Reinsurance treaty negotiations'
            },
            wealth_management_platform: {
                annualVolume: { low: 500, high: 1200, unit: 'implementations' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 68,
                source: 'Wealth management platform deployments'
            },

            // Legal - Additional
            antitrust_review: {
                annualVolume: { low: 2000, high: 4000, unit: 'reviews' },
                totalMarketValue: { low: 1000000000, high: 2500000000 },
                confidence: 72,
                source: 'Antitrust review and HSR filings'
            },
            employment_litigation: {
                annualVolume: { low: 8000, high: 15000, unit: 'cases' },
                totalMarketValue: { low: 3000000000, high: 7000000000 },
                confidence: 70,
                source: 'Employment litigation defense'
            },
            patent_portfolio: {
                annualVolume: { low: 3000, high: 6000, unit: 'portfolios' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 68,
                source: 'Patent portfolio management'
            },
            trademark_clearance: {
                annualVolume: { low: 20000, high: 40000, unit: 'searches' },
                totalMarketValue: { low: 500000000, high: 1200000000 },
                confidence: 70,
                source: 'Trademark clearance searches'
            },
            defense_contract: {
                annualVolume: { low: 5000, high: 10000, unit: 'proposals' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 68,
                source: 'Defense contract proposal support'
            },
            studio_acquisition: {
                annualVolume: { low: 20, high: 50, unit: 'transactions' },
                totalMarketValue: { low: 200000000, high: 600000000 },
                confidence: 55,
                source: 'Media studio M&A transactions'
            },

            // Operations & Consulting - Additional
            operational_excellence: {
                annualVolume: { low: 5000, high: 10000, unit: 'programs' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 68,
                source: 'Operational excellence consulting'
            },
            cost_reduction: {
                annualVolume: { low: 8000, high: 15000, unit: 'engagements' },
                totalMarketValue: { low: 4000000000, high: 10000000000 },
                confidence: 70,
                source: 'Cost reduction consulting'
            },
            revenue_growth: {
                annualVolume: { low: 6000, high: 12000, unit: 'engagements' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 68,
                source: 'Revenue growth consulting'
            },
            customer_experience: {
                annualVolume: { low: 8000, high: 15000, unit: 'programs' },
                totalMarketValue: { low: 3000000000, high: 8000000000 },
                confidence: 68,
                source: 'Customer experience transformation'
            },
            org_design: {
                annualVolume: { low: 4000, high: 8000, unit: 'engagements' },
                totalMarketValue: { low: 2000000000, high: 5000000000 },
                confidence: 70,
                source: 'Organization design consulting'
            },
            quality_system: {
                annualVolume: { low: 5000, high: 10000, unit: 'implementations' },
                totalMarketValue: { low: 1500000000, high: 4000000000 },
                confidence: 72,
                source: 'Quality management system consulting'
            },

            // Specialty & Niche
            education_reform: {
                annualVolume: { low: 500, high: 1000, unit: 'initiatives' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 55,
                source: 'Education reform consulting'
            },
            precision_agriculture: {
                annualVolume: { low: 1000, high: 2500, unit: 'implementations' },
                totalMarketValue: { low: 800000000, high: 2000000000 },
                confidence: 60,
                source: 'Precision agriculture technology deployments'
            },
            agribusiness_ma: {
                annualVolume: { low: 200, high: 500, unit: 'transactions' },
                totalMarketValue: { low: 400000000, high: 1000000000 },
                confidence: 62,
                source: 'Agribusiness M&A advisory'
            },
            spectrum_auction: {
                annualVolume: { low: 5, high: 15, unit: 'auctions' },
                totalMarketValue: { low: 100000000, high: 500000000 },
                confidence: 60,
                source: 'FCC spectrum auction advisory'
            },
            bla_application: {
                annualVolume: { low: 40, high: 80, unit: 'applications' },
                totalMarketValue: { low: 300000000, high: 600000000 },
                confidence: 85,
                source: 'FDA CBER 2024 - Biologics License Applications (~15-25 approvals annually)'
            },
            fda_pma_submission: {
                annualVolume: { low: 30, high: 50, unit: 'submissions' },
                totalMarketValue: { low: 150000000, high: 500000000 },
                confidence: 88,
                source: 'FDA CDRH 2024 - Class III device PMA submissions'
            },
            derivatives_documentation: {
                annualVolume: { low: 5000, high: 12000, unit: 'agreements' },
                totalMarketValue: { low: 500000000, high: 1500000000 },
                confidence: 70,
                source: 'ISDA Master Agreements and derivatives documentation - major dealer banks'
            }
        };

        // Model data - ordered to match modelNames for consistent chart rendering
        const modelData = {
            chatgpt5: { name: 'ChatGPT 5', top_value: 30000000, top_artifact: 'Nuclear Facility Decommissioning', top_artifact_id: 'nuclear_decommissioning', approach: 'Median Fees', transparency: 'Medium' },
            chatgpt51: { name: 'ChatGPT 5-1', top_value: 25000000, top_artifact: 'Urban Tunnel Engineering', top_artifact_id: 'tunnel_engineering', approach: 'Market Rates', transparency: 'High' },
            chatgpt51_codex: { name: 'ChatGPT 5-1 Codex', top_value: 3500000, top_artifact: 'Sell-Side M&A Information Memorandum & Data Room Pack', top_artifact_id: 'sell-side-m-a-information-memorandum-data-room-pack', approach: 'Midpoint Value', transparency: 'High' },
            o3pro: { name: 'o3pro', top_value: 4000000, top_artifact: 'Post-Merger Integration', top_artifact_id: 'post_merger_integration', approach: 'Project Fees', transparency: 'Medium' },
            perplexity: { name: 'Perplexity', top_value: 100000000, top_artifact: 'Nuclear Facility Decommissioning', top_artifact_id: 'nuclear_decommissioning', approach: 'Taxonomy Gen.', transparency: 'High' },
            you_ari: { name: 'You.com ARI', top_value: 70000000, top_artifact: 'Mega-Deal M&A Advisory Package (Sell-Side)', top_artifact_id: 'mega-deal-m-a-advisory-package', approach: 'Service Billing', transparency: 'High' },
            claude_sonnet45: { name: 'Claude Sonnet 4.5', top_value: 50000000, top_artifact: 'Nuclear Facility Decommissioning', top_artifact_id: 'nuclear_decommissioning', approach: 'Service Billing', transparency: 'High' },
            opus45: { name: 'Claude Opus 4.5', top_value: 400000000, top_artifact: 'Infrastructure Engineering', top_artifact_id: 'infrastructure_engineering', approach: 'Service Billing', transparency: 'High' },
            claude_opus45_cli: { name: 'Claude 4.5 Opus CLI', top_value: 85000000, top_artifact: 'Mega-Deal M&A Advisory Package (Sell-Side)', top_artifact_id: 'mega-deal-m-a-advisory-package', approach: 'Service Billing', transparency: 'High' },
            claude_opus45_agents: { name: 'Claude 4.5 Opus Agents', top_value: 82500000, top_artifact: 'Biologics License Application (BLA)', top_artifact_id: 'bla_application', approach: 'Composite Score', transparency: 'High' },
            gemini: { name: 'Gemini 2.5 Pro', top_value: 500000000, top_artifact: 'Nuclear Facility Decommissioning', top_artifact_id: 'nuclear_decommissioning', approach: 'Production Cost', transparency: 'Medium' },
            gemini30: { name: 'Gemini 3.0 Pro', top_value: 15000000, top_artifact: 'Nuclear Facility Decommissioning', top_artifact_id: 'nuclear_decommissioning', approach: 'Max Economic', transparency: 'High' }
        };

        // Tab switching
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.view).classList.remove('hidden');

                // Scroll to top when switching tabs
                window.scrollTo({ top: 0, behavior: 'smooth' });

                // Reset Artifact Deep Dive tab to default state when clicked directly
                if (tab.dataset.view === 'artifact') {
                    resetArtifactView();
                }
            });
        });

        // Format currency
        function formatCurrency(value) {
            if (value === null) return 'N/A';
            if (value >= 1000000000) return '$' + (value / 1000000000).toFixed(1) + 'B';
            if (value >= 1000000) return '$' + (value / 1000000).toFixed(1) + 'M';
            if (value >= 1000) return '$' + (value / 1000).toFixed(0) + 'K';
            return '$' + value;
        }

        // Navigate to Artifact Deep Dive
        function navigateToArtifact(artifactId) {
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Switch to Artifact Deep Dive tab
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));

            // Activate artifact tab
            const artifactTab = document.querySelector('.tab[data-view="artifact"]');
            artifactTab.classList.add('active');
            document.getElementById('artifact').classList.remove('hidden');

            // Fully reset all filters and state before selecting the new artifact
            // Reset industry filter
            currentIndustryFilter = 'all';
            document.getElementById('industryFilter').value = 'all';
            document.getElementById('industryOverviewPanel').style.display = 'none';

            // Reset confidence filter
            currentConfidenceFilter = 'all';
            document.getElementById('confidenceFilter').value = 'all';

            // Reset sort to A-Z
            currentArtifactSort = 'alpha';
            document.querySelectorAll('.artifact-sort-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'transparent';
                btn.style.color = '#a0a0a0';
            });
            const alphaBtn = document.querySelector('.artifact-sort-btn[data-sort="alpha"]');
            if (alphaBtn) {
                alphaBtn.classList.add('active');
                alphaBtn.style.background = '#3d3d5c';
                alphaBtn.style.color = '#fff';
            }

            // Repopulate dropdown with all artifacts
            updateArtifactDropdown();
            populateConsensusView('all');

            // Update count label
            document.getElementById('artifactCountLabel').textContent = `Showing all ${artifacts.length} artifacts`;

            // Select the artifact in the dropdown and trigger change
            const select = document.getElementById('artifactSelect');
            select.value = artifactId;
            select.dispatchEvent(new Event('change'));
        }

        // Clear artifact selection and return to default view
        function clearArtifactSelection() {
            document.getElementById('artifactSelect').value = '';
            document.getElementById('consensusDefaultView').style.display = 'block';
            document.getElementById('artifactDetailView').style.display = 'none';
            document.getElementById('clearArtifactBtn').style.display = 'none';
        }

        // Reset entire artifact view to default state
        function resetArtifactView() {
            // Clear artifact selection
            document.getElementById('artifactSelect').value = '';
            document.getElementById('consensusDefaultView').style.display = 'block';
            document.getElementById('artifactDetailView').style.display = 'none';
            document.getElementById('clearArtifactBtn').style.display = 'none';

            // Reset industry filter
            currentIndustryFilter = 'all';
            document.getElementById('industryFilter').value = 'all';
            document.getElementById('industryOverviewPanel').style.display = 'none';

            // Reset confidence filter
            currentConfidenceFilter = 'all';
            document.getElementById('confidenceFilter').value = 'all';

            // Reset sort to A-Z
            currentArtifactSort = 'alpha';
            document.querySelectorAll('.artifact-sort-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'transparent';
                btn.style.color = '#a0a0a0';
            });
            const alphaBtn = document.querySelector('.artifact-sort-btn[data-sort="alpha"]');
            if (alphaBtn) {
                alphaBtn.classList.add('active');
                alphaBtn.style.background = '#3d3d5c';
                alphaBtn.style.color = '#fff';
            }

            // Repopulate artifact dropdown with all artifacts sorted alphabetically
            updateArtifactDropdown();

            // Reset consensus view to show all industries
            populateConsensusView('all');

            // Update count label
            document.getElementById('artifactCountLabel').textContent = `Showing all ${artifacts.length} artifacts`;
        }

        // Navigate to Artifact Deep Dive with industry filter
        function navigateToIndustry(industry) {
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Switch to Artifact Deep Dive tab
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
            document.querySelector('[data-view="artifact"]').classList.add('active');
            document.getElementById('artifact').classList.remove('hidden');

            // Fully reset all filters and state before applying industry filter
            // Reset artifact selection
            document.getElementById('artifactSelect').value = '';
            document.getElementById('consensusDefaultView').style.display = 'block';
            document.getElementById('artifactDetailView').style.display = 'none';
            document.getElementById('clearArtifactBtn').style.display = 'none';

            // Reset confidence filter
            currentConfidenceFilter = 'all';
            document.getElementById('confidenceFilter').value = 'all';

            // Reset sort to A-Z
            currentArtifactSort = 'alpha';
            document.querySelectorAll('.artifact-sort-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'transparent';
                btn.style.color = '#a0a0a0';
            });
            const alphaBtn = document.querySelector('.artifact-sort-btn[data-sort="alpha"]');
            if (alphaBtn) {
                alphaBtn.classList.add('active');
                alphaBtn.style.background = '#3d3d5c';
                alphaBtn.style.color = '#fff';
            }

            // Now set the industry filter (this will update dropdown and show industry panel)
            document.getElementById('industryFilter').value = industry;
            filterByIndustry(industry);
        }

        // Initialize Overview Charts
        function initOverviewCharts() {
            // Model keys in same order as modelData (which matches modelNames)
            const modelKeys = Object.keys(modelData);

            // Top Value Chart
            const isMobileChart = window.innerWidth < 768;
            new Chart(document.getElementById('topValueChart'), {
                type: 'bar',
                data: {
                    labels: isMobileChart
                        ? Object.values(modelNames).map(n => n.length > 10 ? n.substring(0, 8) + '...' : n)
                        : Object.values(modelNames),
                    datasets: [{
                        data: modelKeys.map(k => modelData[k].top_value),
                        backgroundColor: Object.values(modelColors),
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    // Show full name in tooltip
                                    return Object.values(modelNames)[context[0].dataIndex];
                                },
                                label: function(context) {
                                    const modelKey = modelKeys[context.dataIndex];
                                    const value = context.raw;
                                    const artifact = modelData[modelKey].top_artifact;
                                    return [
                                        `Value: ${formatCurrency(value)}`,
                                        `Top Artifact: ${artifact}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'logarithmic',
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            ticks: {
                                color: '#a0a0a0',
                                callback: v => formatCurrency(v),
                                font: { size: isMobileChart ? 9 : 11 }
                            }
                        },
                        x: {
                            ticks: {
                                color: '#a0a0a0',
                                maxRotation: isMobileChart ? 45 : 0,
                                minRotation: isMobileChart ? 45 : 0,
                                font: { size: isMobileChart ? 8 : 11 }
                            },
                            grid: { display: false }
                        }
                    }
                }
            });

            // Approach Chart - dynamically computed from modelData
            const approachCounts = {};
            const approachColors = {
                'Service Billing': '#E07A5F',
                'Production Cost': '#4285F4',
                'Market Rates': '#10A37F',
                'Median Fees': '#FF6B6B',
                'Project Fees': '#9B5DE5',
                'Taxonomy Gen.': '#F9844A',
                'Max Economic': '#00BFA5'
            };
            Object.values(modelData).forEach(m => {
                approachCounts[m.approach] = (approachCounts[m.approach] || 0) + 1;
            });

            new Chart(document.getElementById('approachChart'), {
                type: 'doughnut',
                data: {
                    labels: Object.keys(approachCounts),
                    datasets: [{
                        data: Object.values(approachCounts),
                        backgroundColor: Object.keys(approachCounts).map(a => approachColors[a] || '#888888')
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#a0a0a0',
                                font: { size: isMobileChart ? 9 : 11 },
                                boxWidth: isMobileChart ? 12 : 16,
                                padding: isMobileChart ? 8 : 10
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const approach = context.label;
                                    const count = context.raw;
                                    const models = Object.entries(modelData)
                                        .filter(([k, m]) => m.approach === approach)
                                        .map(([k, m]) => m.name);
                                    return [`${count} model${count > 1 ? 's' : ''}: ${models.join(', ')}`];
                                }
                            }
                        }
                    }
                }
            });

            // Methodology Table - with artifact links (uses modelData directly for consistency)
            const table = document.getElementById('methodologyTable');

            Object.entries(modelData).forEach(([key, model]) => {
                const artifactLink = model.top_artifact_id ?
                    `<span class="clickable-artifact" onclick="navigateToArtifact('${model.top_artifact_id}')" style="color: #4fc3f7; cursor: pointer; text-decoration: underline;">${model.top_artifact}</span>` :
                    model.top_artifact;

                table.innerHTML += `
                    <tr>
                        <td><span style="color: ${modelColors[key]}">${model.name}</span></td>
                        <td>${model.approach}</td>
                        <td>${artifactLink}</td>
                        <td>${formatCurrency(model.top_value)}</td>
                    </tr>
                `;
            });

            // Industry Consensus Chart and Table
            initIndustryConsensus();
        }

        // Initialize Automation Opportunity Matrix visualization
        function initIndustryConsensus() {
            // ==================== Artifact ID Mapping ====================
            // Maps hyphen-separated IDs (master_valuations.json) to underscore IDs (artifactMarketData)
            // This fixes the ID format mismatch that causes industries to show $0 market value
            const artifactIdMapping = {
                // Legal Services - Critical mappings for zero-value fix
                'patent-litigation-complete-case-package': 'patent_litigation',
                'complex-sec-registration-statement': 'securities_litigation',
                'class-action-settlement-agreement': 'securities_class_action',
                'antitrust-competition-analysis-mega-deal': 'antitrust_filing',
                'employment-law-compliance-review': 'employment_litigation',
                'complex-patent-application-portfolio': 'patent_portfolio',
                'intellectual-property-opinion-letter': 'ip_portfolio_valuation',
                'trademark-portfolio-strategy': 'trademark_clearance',
                'large-scale-litigation-expert-report': 'litigation_expert',

                // Financial Services - High priority mappings
                'ma_advisory_large': 'ma_advisory',
                'financial-due-diligence-large-transaction': 'financial_due_diligence',
                'complex-ipo-offering': 'ipo_s1_registration',
                'bankruptcy_restructuring': 'bankruptcy_ch11',
                'fairness_opinion': 'fairness_opinion',

                // Medical/Pharma - Existing matches work, adding common variations
                'clinical_trial_phase3': 'clinical_trial_phase3',
                'clinical_trial_phase2': 'clinical_trial_phase2',
                'nda_bla_application': 'nda_application',
                'medical_device_510k': 'medical_device_510k',
                'pma_application': 'pma_application',

                // TODO: Add mappings for Real Estate, Creative/Marketing, and other zero-coverage sectors
            };

            // Calculate industry-level data for automation analysis
            const industryData = {};

            artifacts.forEach(a => {
                const sector = a.sector;
                if (!industryData[sector]) {
                    industryData[sector] = {
                        artifacts: [],
                        totalValue: 0,
                        totalMarketSize: 0,
                        totalVariance: 0,
                        modelCounts: [],
                        minValues: [],
                        maxValues: []
                    };
                }

                const values = Object.entries(a.valuations).filter(([k, v]) => v !== null);
                if (values.length >= 2) {
                    const vals = values.map(([k, v]) => v);
                    const minVal = Math.min(...vals);
                    const maxVal = Math.max(...vals);
                    const avgVal = vals.reduce((sum, v) => sum + v, 0) / vals.length;

                    industryData[sector].artifacts.push({
                        id: a.id,
                        name: a.name,
                        variance: a.variance_ratio,
                        avgValue: avgVal,
                        modelCount: values.length
                    });
                    industryData[sector].totalValue += avgVal;

                    // Add market size from research data (with ID mapping support)
                    let marketData = artifactMarketData[a.id];

                    // If not found, try mapped ID
                    if (!marketData && artifactIdMapping && artifactIdMapping[a.id]) {
                        const mappedId = artifactIdMapping[a.id];
                        marketData = artifactMarketData[mappedId];
                    }

                    if (marketData && marketData.totalMarketValue) {
                        const avgMarketValue = (marketData.totalMarketValue.low + marketData.totalMarketValue.high) / 2;
                        industryData[sector].totalMarketSize += avgMarketValue;
                    }

                    industryData[sector].totalVariance += a.variance_ratio;
                    industryData[sector].modelCounts.push(values.length);
                    industryData[sector].minValues.push(minVal);
                    industryData[sector].maxValues.push(maxVal);
                }
            });

            // Calculate automation metrics for each industry
            const rawIndustries = Object.entries(industryData)
                .filter(([sector, data]) => data.artifacts.length >= 2)
                .map(([sector, data]) => {
                    const avgVariance = data.totalVariance / data.artifacts.length;
                    const avgModelCount = data.modelCounts.reduce((a, b) => a + b, 0) / data.modelCounts.length;

                    // Automation Feasibility Score: Lower variance = more standardized = easier to automate
                    // Use logarithmic scale to spread out industries with similar low variance
                    // Also factor in model coverage for additional differentiation
                    const logVariance = Math.log10(avgVariance + 1);
                    const maxLogVariance = Math.log10(100); // Cap at variance of ~100
                    const varianceScore = Math.max(0, 10 - (logVariance / maxLogVariance * 10));

                    // Model coverage factor (higher coverage = more reliable = higher feasibility)
                    const coverageFactor = avgModelCount / MAX_MODELS;

                    // Combined raw score: variance (60%) + coverage (40%)
                    const rawFeasibilityScore = (varianceScore * 0.6) + (coverageFactor * 10 * 0.4);

                    return { sector, data, avgVariance, avgModelCount, rawFeasibilityScore };
                });

            // Normalize feasibility scores to spread across full 0-10 range
            const rawScores = rawIndustries.map(i => i.rawFeasibilityScore);
            const minRawScore = Math.min(...rawScores);
            const maxRawScore = Math.max(...rawScores);
            const scoreRange = maxRawScore - minRawScore || 1; // Avoid division by zero

            const industries = rawIndustries.map(({ sector, data, avgVariance, avgModelCount, rawFeasibilityScore }) => {
                    // Normalize to 1-9 range (with padding) for better visual spread
                    const feasibilityScore = 1 + ((rawFeasibilityScore - minRawScore) / scoreRange) * 8;

                    // Find the "Quick Win" - highest value artifact with lowest variance in this industry
                    const sortedByOpportunity = [...data.artifacts].sort((a, b) => {
                        // Score = value / variance (higher is better)
                        const scoreA = a.avgValue / Math.max(a.variance, 1);
                        const scoreB = b.avgValue / Math.max(b.variance, 1);
                        return scoreB - scoreA;
                    });
                    const quickWin = sortedByOpportunity[0];

                    // Automation Readiness classification
                    // High: Low variance AND good model coverage
                    // Medium: Moderate variance AND decent coverage
                    // Low: High variance OR poor coverage
                    let readiness, readinessColor;
                    if (avgVariance <= 5 && avgModelCount >= 4) {
                        readiness = 'High';
                        readinessColor = '#81B29A';
                    } else if (avgVariance <= 15 && avgModelCount >= 3) {
                        readiness = 'Medium';
                        readinessColor = '#F9844A';
                    } else {
                        readiness = 'Low';
                        readinessColor = '#E07A5F';
                    }

                    return {
                        sector,
                        feasibilityScore,
                        avgVariance,
                        avgModelCount,
                        artifactCount: data.artifacts.length,
                        totalValue: data.totalValue,
                        marketSize: data.totalMarketSize,
                        quickWin: quickWin.name,
                        quickWinId: quickWin.id,
                        quickWinValue: quickWin.avgValue,
                        readiness,
                        readinessColor
                    };
                })
                .filter(i => i.artifactCount >= 2);

            // Option A: Automation Opportunity Matrix (Bubble Chart)
            // X-axis: Automation Feasibility (higher = easier to automate)
            // Y-axis: Number of artifacts
            // Bubble size: Market Size (larger market = bigger bubble)
            // Store industries globally for click handling
            window.bubbleChartIndustries = industries;

            // Calculate dynamic bubble size based on market size (log scale for visual balance)
            const marketSizes = industries.map(i => i.marketSize).filter(v => v > 0);
            const minMarket = Math.min(...marketSizes);
            const maxMarket = Math.max(...marketSizes);

            // Detect mobile for smaller bubble sizes
            const isMobile = window.innerWidth < 768;
            const minBubble = isMobile ? 6 : 10;
            const maxBubble = isMobile ? 25 : 45;

            // Scale market size to bubble radius using log scale
            function marketToBubbleSize(marketSize) {
                if (!marketSize || marketSize <= 0) return minBubble;
                const logMin = Math.log10(minMarket);
                const logMax = Math.log10(maxMarket);
                const logVal = Math.log10(marketSize);
                const normalized = (logVal - logMin) / (logMax - logMin);
                return minBubble + normalized * (maxBubble - minBubble);
            }

            // Calculate Y-axis range based on artifact counts
            const artifactCounts = industries.map(i => i.artifactCount);
            const maxArtifacts = Math.max(...artifactCounts);

            window.bubbleChart = new Chart(document.getElementById('automationMatrixChart'), {
                type: 'bubble',
                data: {
                    datasets: industries.map(i => ({
                        label: i.sector,
                        data: [{
                            x: i.feasibilityScore,
                            y: i.artifactCount,
                            r: marketToBubbleSize(i.marketSize)
                        }],
                        backgroundColor: (industryColors[i.sector] || '#888888') + '99',
                        borderColor: industryColors[i.sector] || '#888888',
                        borderWidth: isMobile ? 1 : 2
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    layout: {
                        padding: {
                            top: isMobile ? 15 : 10,
                            right: isMobile ? 10 : 10,
                            bottom: isMobile ? 5 : 5,
                            left: isMobile ? 10 : 5
                        }
                    },
                    onClick: function(event, elements) {
                        if (elements.length > 0) {
                            const datasetIndex = elements[0].datasetIndex;
                            const industry = window.bubbleChartIndustries[datasetIndex];
                            // Navigate to Artifact Deep Dive with this industry selected
                            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
                            document.querySelector('[data-view="artifact"]').classList.add('active');
                            document.getElementById('artifact').classList.remove('hidden');

                            // Fully reset all filters and state before applying industry filter
                            // Reset artifact selection
                            document.getElementById('artifactSelect').value = '';
                            document.getElementById('consensusDefaultView').style.display = 'block';
                            document.getElementById('artifactDetailView').style.display = 'none';
                            document.getElementById('clearArtifactBtn').style.display = 'none';

                            // Reset confidence filter
                            currentConfidenceFilter = 'all';
                            document.getElementById('confidenceFilter').value = 'all';

                            // Reset sort to A-Z
                            currentArtifactSort = 'alpha';
                            document.querySelectorAll('.artifact-sort-btn').forEach(btn => {
                                btn.classList.remove('active');
                                btn.style.background = 'transparent';
                                btn.style.color = '#a0a0a0';
                            });
                            const alphaBtn = document.querySelector('.artifact-sort-btn[data-sort="alpha"]');
                            if (alphaBtn) {
                                alphaBtn.classList.add('active');
                                alphaBtn.style.background = '#3d3d5c';
                                alphaBtn.style.color = '#fff';
                            }

                            // Now set the industry filter (this will update dropdown and show industry panel)
                            document.getElementById('industryFilter').value = industry.sector;
                            filterByIndustry(industry.sector);
                        }
                    },
                    onHover: function(event, elements) {
                        event.native.target.style.cursor = elements.length > 0 ? 'pointer' : 'default';
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const i = industries[context.datasetIndex];
                                    return [
                                        i.sector,
                                        `Market Size: ${formatCurrency(i.marketSize)}`,
                                        `Feasibility: ${i.feasibilityScore.toFixed(1)}/10`,
                                        `Readiness: ${i.readiness}`,
                                        `Artifacts: ${i.artifactCount}`,
                                        `Quick Win: ${i.quickWin}`,
                                        '(Click to explore)'
                                    ];
                                }
                            }
                        },
                        zoom: {
                            pan: {
                                enabled: true,
                                mode: 'xy',
                                threshold: 10,
                                onPanComplete: function() {
                                    document.getElementById('resetZoomBtn').style.display = 'block';
                                }
                            },
                            zoom: {
                                wheel: {
                                    enabled: true,
                                    speed: 0.1
                                },
                                pinch: {
                                    enabled: true
                                },
                                drag: {
                                    enabled: !isMobile,
                                    backgroundColor: 'rgba(224, 122, 95, 0.15)',
                                    borderColor: 'rgba(224, 122, 95, 0.8)',
                                    borderWidth: 1,
                                    modifierKey: 'shift'
                                },
                                mode: 'xy',
                                onZoomComplete: function() {
                                    document.getElementById('resetZoomBtn').style.display = 'block';
                                }
                            },
                            limits: {
                                x: { min: -2, max: 12, minRange: 2 },
                                y: { min: -5, max: maxArtifacts + 20, minRange: 5 }
                            }
                        }
                    },
                    scales: {
                        x: {
                            min: 0,
                            max: 10,
                            title: {
                                display: !isMobile,
                                text: 'Automation Feasibility ‚Üí',
                                color: '#a0a0a0',
                                font: { size: 11 }
                            },
                            ticks: {
                                color: '#a0a0a0',
                                stepSize: isMobile ? 2 : 1,
                                font: { size: isMobile ? 9 : 11 }
                            },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: {
                            type: 'linear',
                            min: 0,
                            max: maxArtifacts + 5,
                            title: {
                                display: !isMobile,
                                text: 'Number of Artifacts ‚Üí',
                                color: '#a0a0a0',
                                font: { size: 11 }
                            },
                            ticks: {
                                color: '#a0a0a0',
                                font: { size: isMobile ? 9 : 11 },
                                stepSize: isMobile ? 10 : 5
                            },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });

            // Set device-appropriate instructions for the bubble chart
            const instructionsEl = document.getElementById('chartInstructions');
            if (isMobile) {
                instructionsEl.innerHTML = 'üëÜ Use +/‚àí buttons or pinch to zoom ‚Ä¢ Drag to pan ‚Ä¢ Tap bubble to explore';
            } else {
                instructionsEl.innerHTML = 'üîç Scroll or use +/‚àí to zoom ‚Ä¢ Drag to pan ‚Ä¢ Shift+drag to select area ‚Ä¢ Click bubble to explore';
            }

            // Add double-tap/double-click to reset zoom
            let lastTap = 0;
            const chartCanvas = document.getElementById('automationMatrixChart');
            chartCanvas.addEventListener('touchend', function(e) {
                const currentTime = new Date().getTime();
                const tapLength = currentTime - lastTap;
                if (tapLength < 300 && tapLength > 0) {
                    // Double tap detected
                    if (window.bubbleChart) {
                        window.bubbleChart.resetZoom();
                        document.getElementById('resetZoomBtn').style.display = 'none';
                    }
                    e.preventDefault();
                }
                lastTap = currentTime;
            });

            chartCanvas.addEventListener('dblclick', function(e) {
                if (window.bubbleChart) {
                    window.bubbleChart.resetZoom();
                    document.getElementById('resetZoomBtn').style.display = 'none';
                }
            });

            // Option C: Enhanced Industry Table with Actionable Columns
            // Store all industries globally for filtering
            window.allIndustriesForTable = [...industries].sort((a, b) => {
                const scoreA = a.feasibilityScore * Math.log10(a.marketSize || 1);
                const scoreB = b.feasibilityScore * Math.log10(b.marketSize || 1);
                return scoreB - scoreA;
            });

            // Initial render with High readiness industries
            renderIndustryTable('High');

            // Option B: AI Disruption Readiness by Industry - Detailed Cards
            // Build detailed industry data with top 3 automation candidates (store globally for pagination)
            // Note: artifactIdMapping is defined at top of initIndustryConsensus() function

            // Helper to get market value for an artifact
            function getArtifactMarketValue(artifactId) {
                // Try direct lookup first
                let marketData = artifactMarketData[artifactId];

                // If not found, try mapped ID
                if (!marketData && artifactIdMapping[artifactId]) {
                    const mappedId = artifactIdMapping[artifactId];
                    marketData = artifactMarketData[mappedId];
                }

                if (!marketData || !marketData.totalMarketValue) return 0;
                return (marketData.totalMarketValue.low + marketData.totalMarketValue.high) / 2;
            }

            // Helper to get confidence for an artifact
            function getArtifactConfidence(artifactId) {
                // Try direct lookup first
                let marketData = artifactMarketData[artifactId];

                // If not found, try mapped ID
                if (!marketData && artifactIdMapping[artifactId]) {
                    const mappedId = artifactIdMapping[artifactId];
                    marketData = artifactMarketData[mappedId];
                }

                return marketData ? marketData.confidence : 0;
            }

            window.allDetailedIndustries = Object.entries(industryData)
                .filter(([sector, data]) => data.artifacts.length >= 2)
                .map(([sector, data]) => {
                    const avgVariance = data.totalVariance / data.artifacts.length;
                    const avgModelCount = data.modelCounts.reduce((a, b) => a + b, 0) / data.modelCounts.length;

                    // Automation Readiness Score (0-100)
                    const varianceScore = Math.max(0, 100 - (avgVariance * 5)); // Lower variance = higher score
                    const coverageScore = (avgModelCount / MAX_MODELS) * 100;
                    const readinessScore = Math.round((varianceScore * 0.7) + (coverageScore * 0.3));

                    // Get top 3 automation candidates by market value (using research data)
                    const top3Candidates = [...data.artifacts]
                        .map(a => ({
                            ...a,
                            marketValue: getArtifactMarketValue(a.id),
                            confidence: getArtifactConfidence(a.id),
                            opportunityScore: getArtifactMarketValue(a.id) / Math.max(a.variance, 1)
                        }))
                        .filter(a => a.marketValue > 0)
                        .sort((a, b) => b.marketValue - a.marketValue)
                        .slice(0, 3);

                    // Use market research data for total market size
                    const totalMarketSize = data.totalMarketSize || 0;

                    // Estimated savings (30-50% of market size based on readiness)
                    const savingsRate = readinessScore >= 70 ? 0.50 :
                                       readinessScore >= 50 ? 0.40 :
                                       readinessScore >= 30 ? 0.35 : 0.30;
                    const estimatedSavings = {
                        low: totalMarketSize * 0.30,
                        high: totalMarketSize * savingsRate,
                        rate: savingsRate
                    };

                    return {
                        sector,
                        totalValue: totalMarketSize,
                        readinessScore,
                        avgVariance,
                        avgModelCount,
                        artifactCount: data.artifacts.length,
                        top3Candidates,
                        estimatedSavings
                    };
                })
                .sort((a, b) => b.readinessScore - a.readinessScore);

            // Initialize disruption display - start with 6 industries
            window.disruptionDisplayCount = 6;
            renderDisruptionIndustries();
        }

        // ==================== Industry Table Filtering ====================
        let currentReadinessFilter = 'High';

        // Render industry table based on filter
        function renderIndustryTable(filter) {
            const industryTable = document.getElementById('industryConsensusTable');
            const allIndustries = window.allIndustriesForTable || [];

            // Filter industries based on readiness
            let filteredIndustries;
            if (filter === 'all') {
                filteredIndustries = allIndustries; // Show all industries
            } else {
                filteredIndustries = allIndustries.filter(i => i.readiness === filter);
            }

            // Show message if no industries match the filter
            if (filteredIndustries.length === 0) {
                industryTable.innerHTML = `
                    <tr>
                        <td colspan="4" style="text-align: center; color: var(--text-secondary); padding: 20px;">
                            No industries with "${filter}" readiness found.
                        </td>
                    </tr>
                `;
                return;
            }

            industryTable.innerHTML = filteredIndustries.map(i => {
                const quickWinDisplay = i.quickWin.length > 20 ? i.quickWin.substring(0, 20) + '...' : i.quickWin;
                const quickWinLink = i.quickWinId
                    ? `<span onclick="navigateToArtifact('${i.quickWinId}')" style="color: #4fc3f7; cursor: pointer; text-decoration: underline;" title="${i.quickWin} (~${formatCurrency(i.quickWinValue)})">${quickWinDisplay}</span>`
                    : `<span title="${i.quickWin} (~${formatCurrency(i.quickWinValue)})">${quickWinDisplay}</span>`;

                return `
                <tr>
                    <td>
                        <strong style="color: ${industryColors[i.sector] || '#888'};">
                            ${i.sector}
                        </strong>
                    </td>
                    <td>
                        <span style="background: ${i.readinessColor}; color: #1a1a2e; padding: 2px 8px; border-radius: 4px; font-weight: bold; font-size: 0.85em;">
                            ${i.readiness}
                        </span>
                    </td>
                    <td style="font-size: 0.9em; font-weight: bold;">${formatCurrency(i.marketSize)}</td>
                    <td style="font-size: 0.8em;">${quickWinLink}</td>
                </tr>
            `}).join('');
        }

        // Filter industry by readiness level
        function filterIndustryByReadiness(filter) {
            currentReadinessFilter = filter;

            // Define colors for each filter type
            const filterColors = {
                'all': { bg: '#3d3d5c', border: '#3d3d5c', text: '#fff' },
                'High': { bg: '#81B29A', border: '#81B29A', text: '#1a1a2e' },
                'Medium': { bg: '#F4A261', border: '#F4A261', text: '#1a1a2e' },
                'Low': { bg: '#E07A5F', border: '#E07A5F', text: '#1a1a2e' }
            };

            // Update button states
            document.querySelectorAll('.readiness-filter-btn').forEach(btn => {
                const btnFilter = btn.dataset.filter;
                const colors = filterColors[btnFilter];

                if (btnFilter === filter) {
                    btn.style.background = colors.bg;
                    btn.style.color = colors.text;
                    btn.classList.add('active');
                } else {
                    btn.style.background = 'transparent';
                    btn.style.color = filterColors[btnFilter].border;
                    btn.classList.remove('active');
                }
            });

            // Re-render the table
            renderIndustryTable(filter);
        }

        // Render disruption industries based on current display count
        function renderDisruptionIndustries() {
            const disruptionContainer = document.getElementById('disruptionReadinessContainer');
            const allIndustries = window.allDetailedIndustries || [];
            const displayCount = window.disruptionDisplayCount || 6;
            const maxIndustries = Math.min(displayCount, allIndustries.length);
            const detailedIndustries = allIndustries.slice(0, maxIndustries);

            // Update counter text
            document.getElementById('disruptionIndustryCount').textContent =
                `Showing ${maxIndustries} of ${allIndustries.length} industries`;

            // Create industry cards
            let cardsHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 15px;">';

            detailedIndustries.forEach(ind => {
                const color = industryColors[ind.sector] || '#888888';
                const readinessColor = ind.readinessScore >= 70 ? '#81B29A' :
                                       ind.readinessScore >= 50 ? '#F9844A' : '#FF6B6B';
                const readinessLabel = ind.readinessScore >= 70 ? 'High' :
                                       ind.readinessScore >= 50 ? 'Medium' : 'Low';

                cardsHTML += `
                    <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 15px; border-left: 4px solid ${color};">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                            <div>
                                <h4
                                    onclick="navigateToIndustry('${ind.sector}')"
                                    style="margin: 0; color: ${color}; font-size: 1em; cursor: pointer; text-decoration: underline; text-decoration-style: dotted; text-underline-offset: 3px;"
                                    onmouseover="this.style.textDecoration='underline'"
                                    onmouseout="this.style.textDecoration='underline'; this.style.textDecorationStyle='dotted'"
                                    title="View all ${ind.sector} artifacts"
                                >${ind.sector}</h4>
                                <div style="font-size: 0.75em; color: var(--text-secondary); margin-top: 2px;">${ind.artifactCount} artifacts analyzed</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="background: ${readinessColor}; color: #1a1a2e; padding: 4px 10px; border-radius: 4px; font-weight: bold; font-size: 0.85em;">
                                    ${readinessLabel} Readiness
                                </div>
                                <div style="font-size: 0.75em; color: var(--text-secondary); margin-top: 2px;">Score: ${ind.readinessScore}/100</div>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                            <div style="background: rgba(255,255,255,0.05); padding: 8px; border-radius: 4px;">
                                <div style="font-size: 0.7em; color: var(--text-secondary); text-transform: uppercase;">Total Market Size (2024)</div>
                                <div style="font-size: 1.1em; font-weight: bold; color: var(--text-primary);">${formatCurrency(ind.totalValue)}</div>
                            </div>
                            <div style="background: rgba(129,178,154,0.15); padding: 8px; border-radius: 4px;">
                                <div style="font-size: 0.7em; color: var(--text-secondary); text-transform: uppercase;">Est. AI Savings (${Math.round(ind.estimatedSavings.rate * 100)}%)</div>
                                <div style="font-size: 1.1em; font-weight: bold; color: #81B29A;">${formatCurrency(ind.estimatedSavings.high)}</div>
                            </div>
                        </div>

                        <div style="margin-bottom: 8px;">
                            <div style="font-size: 0.75em; color: var(--text-secondary); text-transform: uppercase; margin-bottom: 6px;">Top 3 by Market Value</div>
                            ${ind.top3Candidates.map((c, idx) => {
                                const confColor = c.confidence >= 80 ? '#81B29A' : c.confidence >= 65 ? '#F4A261' : '#E07A5F';
                                return `
                                <div
                                    onclick="navigateToArtifact('${c.id}')"
                                    style="display: flex; justify-content: space-between; align-items: center; padding: 5px 8px; background: rgba(255,255,255,0.02); border-radius: 4px; margin-bottom: 4px; font-size: 0.85em; cursor: pointer; transition: background 0.2s;"
                                    onmouseover="this.style.background='rgba(255,255,255,0.08)'"
                                    onmouseout="this.style.background='rgba(255,255,255,0.02)'"
                                    title="Click to view detailed analysis (${c.confidence}% confidence)"
                                >
                                    <span style="color: var(--text-secondary);">
                                        <span style="color: ${color}; font-weight: bold;">${idx + 1}.</span>
                                        <span style="text-decoration: underline; text-decoration-style: dotted;">${c.name.length > 25 ? c.name.substring(0, 25) + '...' : c.name}</span>
                                    </span>
                                    <span style="display: flex; align-items: center; gap: 6px;">
                                        <span style="color: var(--text-primary); font-weight: bold;">${formatCurrency(c.marketValue)}</span>
                                        <span style="font-size: 0.75em; color: ${confColor};">${c.confidence}%</span>
                                    </span>
                                </div>
                            `}).join('')}
                        </div>

                        <div style="font-size: 0.7em; color: var(--text-secondary); display: flex; justify-content: space-between; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; margin-top: 8px;">
                            <span>Avg Variance: ${ind.avgVariance.toFixed(1)}x</span>
                            <span>Model Coverage: ${ind.avgModelCount.toFixed(1)}/${MAX_MODELS}</span>
                        </div>
                    </div>
                `;
            });

            cardsHTML += '</div>';

            // Add summary row - use ALL industries for totals, not just displayed ones
            const totalMarketValue = allIndustries.reduce((sum, i) => sum + i.totalValue, 0);
            const totalSavings = allIndustries.reduce((sum, i) => sum + i.estimatedSavings.high, 0);
            const totalReady = allIndustries.filter(i => i.readinessScore >= 50).length;

            cardsHTML += `
                <div style="margin-top: 20px; padding: 15px; background: linear-gradient(135deg, rgba(129,178,154,0.15) 0%, rgba(66,133,244,0.15) 100%); border-radius: 8px; display: flex; justify-content: space-around; text-align: center; flex-wrap: wrap; gap: 15px;">
                    <div>
                        <div style="font-size: 0.75em; color: var(--text-secondary); text-transform: uppercase;">Total Market Size 2024 (${allIndustries.length} Industries)</div>
                        <div style="font-size: 1.5em; font-weight: bold; color: var(--text-primary);">${formatCurrency(totalMarketValue)}</div>
                    </div>
                    <div style="border-left: 1px solid rgba(255,255,255,0.2); padding-left: 30px;">
                        <div style="font-size: 0.75em; color: var(--text-secondary); text-transform: uppercase;">Potential AI Savings</div>
                        <div style="font-size: 1.5em; font-weight: bold; color: #81B29A;">${formatCurrency(totalSavings)}</div>
                    </div>
                    <div style="border-left: 1px solid rgba(255,255,255,0.2); padding-left: 30px;">
                        <div style="font-size: 0.75em; color: var(--text-secondary); text-transform: uppercase;">Industries Ready for AI</div>
                        <div style="font-size: 1.5em; font-weight: bold; color: #4285F4;">${totalReady} of ${allIndustries.length}</div>
                    </div>
                </div>
            `;

            disruptionContainer.innerHTML = cardsHTML;

            // Update button state
            updateDisruptionButton();
        }

        // Update the See More / Show Less button
        function updateDisruptionButton() {
            const btn = document.getElementById('disruptionSeeMoreBtn');
            const allIndustries = window.allDetailedIndustries || [];
            const displayCount = window.disruptionDisplayCount || 6;
            const totalCount = allIndustries.length;

            if (displayCount >= totalCount) {
                // At max - show "Show Less" button
                btn.innerHTML = 'Show Less ‚ñ≤';
                btn.onclick = showLessDisruptionIndustries;
            } else if (displayCount <= 6) {
                // At minimum - show "See All"
                const remaining = totalCount - displayCount;
                btn.innerHTML = `See All ${totalCount} Industries ‚ñº`;
                btn.onclick = showAllDisruptionIndustries;
            } else {
                // In between - show remaining
                const remaining = totalCount - displayCount;
                btn.innerHTML = `See ${remaining} More Industries ‚ñº`;
                btn.onclick = showMoreDisruptionIndustries;
            }

            // Hide button if only 6 or fewer industries total
            const paginationContainer = document.getElementById('disruptionPaginationContainer');
            paginationContainer.style.display = allIndustries.length <= 6 ? 'none' : 'block';
        }

        // Show more industries (6 at a time)
        function showMoreDisruptionIndustries() {
            const allIndustries = window.allDetailedIndustries || [];
            window.disruptionDisplayCount = Math.min(
                (window.disruptionDisplayCount || 6) + 6,
                allIndustries.length
            );
            renderDisruptionIndustries();
        }

        // Show all industries
        function showAllDisruptionIndustries() {
            const allIndustries = window.allDetailedIndustries || [];
            window.disruptionDisplayCount = allIndustries.length;
            renderDisruptionIndustries();
        }

        // Show less industries (back to 6)
        function showLessDisruptionIndustries() {
            window.disruptionDisplayCount = 6;
            renderDisruptionIndustries();

            // Scroll back to the section
            document.getElementById('disruptionReadinessContainer').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Comparison Chart Pagination State
        let comparisonChart = null;
        let comparisonPage = 0;
        let comparisonSortMode = 'controversy'; // Default: controversy, value, variance, consensus, alpha
        const ARTIFACTS_PER_PAGE = 8;
        // Removed MAX_PAGES limit - now supports all 451 artifacts (57 pages)

        // Initialize Comparison Charts
        // Populate Model Characteristics Panel
        function populateModelCharacteristics() {
            const grid = document.getElementById('modelCharacteristicsGrid');
            if (!grid) return;

            // Calculate high-confidence artifacts (‚â•4 models)
            const highConfidenceArtifacts = artifacts.filter(a => {
                const modelCount = Object.values(a.valuations).filter(v => v !== null && v > 0).length;
                return modelCount >= 4;
            });

            const modelStats = {};

            // For each model, calculate metrics
            Object.keys(modelColors).forEach(modelKey => {
                const modelArtifacts = artifacts.filter(a => a.valuations[modelKey] !== null && a.valuations[modelKey] > 0);

                // 1. Coverage Score: % of high-confidence artifacts this model valued
                const highConfValued = highConfidenceArtifacts.filter(a =>
                    a.valuations[modelKey] !== null && a.valuations[modelKey] > 0
                ).length;
                const coverageScore = highConfidenceArtifacts.length > 0
                    ? (highConfValued / highConfidenceArtifacts.length * 100)
                    : 0;

                // 2. Uniqueness Score: % of this model's artifacts not valued by others
                const uniqueArtifacts = modelArtifacts.filter(a => {
                    const otherModels = Object.keys(modelColors).filter(k => k !== modelKey);
                    const valuedByOthers = otherModels.some(k => a.valuations[k] !== null && a.valuations[k] > 0);
                    return !valuedByOthers;
                }).length;
                const uniquenessScore = modelArtifacts.length > 0
                    ? (uniqueArtifacts / modelArtifacts.length * 100)
                    : 0;

                // 3. Valuation Alignment: Median % difference from ensemble mean
                const deviations = [];
                modelArtifacts.forEach(a => {
                    // Get all other model values for this artifact
                    const otherValues = Object.keys(modelColors)
                        .filter(k => k !== modelKey && a.valuations[k] !== null && a.valuations[k] > 0)
                        .map(k => a.valuations[k]);

                    if (otherValues.length > 0) {
                        const ensembleMean = otherValues.reduce((sum, v) => sum + v, 0) / otherValues.length;
                        const modelValue = a.valuations[modelKey];
                        const percentDiff = Math.abs((modelValue - ensembleMean) / ensembleMean * 100);
                        deviations.push(percentDiff);
                    }
                });

                // Calculate median deviation
                const medianDeviation = deviations.length > 0
                    ? deviations.sort((a, b) => a - b)[Math.floor(deviations.length / 2)]
                    : 0;

                modelStats[modelKey] = {
                    coverage: coverageScore,
                    uniqueness: uniquenessScore,
                    alignment: medianDeviation,
                    artifactCount: modelArtifacts.length
                };
            });

            // Generate cards for each model
            let cardsHTML = '';
            Object.keys(modelColors).forEach(modelKey => {
                const stats = modelStats[modelKey];
                const color = modelColors[modelKey];
                const name = modelNames[modelKey];

                // Determine interpretation
                let interpretation = '';
                if (stats.coverage > 70 && stats.uniqueness < 20 && stats.alignment < 30) {
                    interpretation = 'Comprehensive consensus-seeker';
                } else if (stats.coverage < 50 && stats.uniqueness > 30) {
                    interpretation = 'Distinctive perspective';
                } else if (stats.alignment > 50) {
                    interpretation = 'Alternative valuation approach';
                } else if (stats.coverage > 60 && stats.uniqueness > 25) {
                    interpretation = 'Balanced breadth & uniqueness';
                } else {
                    interpretation = 'Moderate coverage';
                }

                cardsHTML += `
                    <div style="padding: 15px; background: rgba(255,255,255,0.03); border-radius: 8px; border-left: 3px solid ${color};">
                        <div style="font-weight: bold; color: ${color}; margin-bottom: 12px; font-size: 1.05em;">${name}</div>

                        <div style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 12px;">
                            <!-- Coverage -->
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                    <span style="font-size: 0.85em; color: var(--text-secondary);">Coverage</span>
                                    <span style="font-size: 0.85em; font-weight: bold; color: ${stats.coverage > 70 ? '#4caf50' : stats.coverage > 50 ? '#ff9800' : '#f44336'};">
                                        ${stats.coverage.toFixed(0)}%
                                    </span>
                                </div>
                                <div style="width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;">
                                    <div style="width: ${stats.coverage}%; height: 100%; background: ${color}; transition: width 0.3s;"></div>
                                </div>
                            </div>

                            <!-- Uniqueness -->
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                    <span style="font-size: 0.85em; color: var(--text-secondary);">Uniqueness</span>
                                    <span style="font-size: 0.85em; font-weight: bold; color: ${stats.uniqueness > 30 ? '#2196f3' : stats.uniqueness > 15 ? '#ff9800' : '#4caf50'};">
                                        ${stats.uniqueness.toFixed(0)}%
                                    </span>
                                </div>
                                <div style="width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;">
                                    <div style="width: ${Math.min(stats.uniqueness, 100)}%; height: 100%; background: ${color}; transition: width 0.3s;"></div>
                                </div>
                            </div>

                            <!-- Alignment (lower is better) -->
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                    <span style="font-size: 0.85em; color: var(--text-secondary);">Valuation Deviation</span>
                                    <span style="font-size: 0.85em; font-weight: bold; color: ${stats.alignment < 30 ? '#4caf50' : stats.alignment < 50 ? '#ff9800' : '#f44336'};">
                                        ${stats.alignment.toFixed(0)}%
                                    </span>
                                </div>
                                <div style="width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;">
                                    <div style="width: ${Math.min(stats.alignment, 100)}%; height: 100%; background: ${color}; transition: width 0.3s;"></div>
                                </div>
                            </div>
                        </div>

                        <div style="font-size: 0.8em; color: var(--text-secondary); font-style: italic; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 8px;">
                            ${interpretation}
                        </div>
                    </div>
                `;
            });

            grid.innerHTML = cardsHTML;
        }

        function initComparisonCharts() {
            // Initialize the comparison chart with pagination
            initComparisonPagination();
            updateComparisonChart();

            // Create page dots
            createComparisonPageDots();

            // Populate Model Characteristics
            populateModelCharacteristics();

            // Sector Chart - Top 10 sectors by average artifact value
            // Calculate average valuation per sector across all models
            function calculateSectorAverages() {
                const sectorData = {};

                artifacts.forEach(a => {
                    const sector = a.sector;
                    if (!sectorData[sector]) {
                        sectorData[sector] = { total: 0, count: 0, artifacts: 0 };
                    }

                    // Calculate average across all models for this artifact
                    const vals = Object.values(a.valuations).filter(v => v !== null && v > 0);
                    if (vals.length > 0) {
                        const avgVal = vals.reduce((sum, v) => sum + v, 0) / vals.length;
                        sectorData[sector].total += avgVal;
                        sectorData[sector].artifacts++;
                    }
                });

                // Calculate average per sector and sort
                const sectorAvgs = Object.entries(sectorData)
                    .map(([sector, data]) => ({
                        sector,
                        avgValue: data.artifacts > 0 ? data.total / data.artifacts : 0,
                        artifactCount: data.artifacts
                    }))
                    .filter(s => s.avgValue > 0)
                    .sort((a, b) => b.avgValue - a.avgValue)
                    .slice(0, 10); // Top 10 sectors

                return sectorAvgs;
            }

            const sectorAvgs = calculateSectorAverages();

            new Chart(document.getElementById('sectorChart'), {
                type: 'bar',
                data: {
                    labels: sectorAvgs.map(s => s.sector),
                    datasets: [{
                        label: 'Avg. Artifact Value',
                        data: sectorAvgs.map(s => s.avgValue),
                        backgroundColor: sectorAvgs.map(s => industryColors[s.sector] || '#4285F4'),
                        borderColor: sectorAvgs.map(s => industryColors[s.sector] || '#4285F4'),
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const idx = context.dataIndex;
                                    const sectorInfo = sectorAvgs[idx];
                                    return [
                                        `Avg Value: ${formatCurrency(context.raw)}`,
                                        `Artifacts: ${sectorInfo.artifactCount}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'logarithmic',
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            ticks: { color: '#a0a0a0', callback: v => formatCurrency(v) }
                        },
                        y: {
                            ticks: { color: '#a0a0a0' },
                            grid: { display: false }
                        }
                    },
                    onClick: (event, elements) => {
                        if (elements.length > 0) {
                            const idx = elements[0].index;
                            const sector = sectorAvgs[idx].sector;
                            navigateToIndustry(sector);
                        }
                    },
                    onHover: (event, elements) => {
                        event.native.target.style.cursor = elements.length > 0 ? 'pointer' : 'default';
                    }
                }
            });

            // Initialize Agreement Zones
            initAgreementZones();
        }

        // Initialize comparison pagination button states
        function initComparisonPagination() {
            updatePaginationButtons();
        }

        // Sort comparison view artifacts based on current sort mode
        function sortComparisonArtifacts() {
            switch (comparisonSortMode) {
                case 'controversy':
                    artifacts.sort((a, b) => calculateControversyScore(b) - calculateControversyScore(a));
                    break;
                case 'variance':
                    artifacts.sort((a, b) => (b.variance_ratio || 0) - (a.variance_ratio || 0));
                    break;
                case 'value':
                    artifacts.sort((a, b) => calculateAverageValue(b) - calculateAverageValue(a));
                    break;
                case 'consensus':
                    artifacts.sort((a, b) => calculateConsensusScore(b) - calculateConsensusScore(a));
                    break;
                case 'alpha':
                    artifacts.sort((a, b) => a.name.localeCompare(b.name));
                    break;
            }
            // Reset to first page when sort changes
            comparisonPage = 0;
        }

        // Change comparison sort mode and update UI
        function changeComparisonSort(mode) {
            comparisonSortMode = mode;

            // Update button styles
            document.querySelectorAll('.comparison-sort-btn').forEach(btn => {
                const isActive = btn.dataset.sort === mode;
                btn.style.background = isActive ? '#3d3d5c' : 'transparent';
                btn.style.borderColor = isActive ? '#E07A5F' : '#3d3d5c';
                btn.style.color = isActive ? '#fff' : '#a0a0a0';
            });

            // Resort and refresh
            sortComparisonArtifacts();
            updateComparisonChart();
            createComparisonPageDots();
            updatePaginationButtons();
        }

        // Update the comparison chart with current page data
        function updateComparisonChart() {
            const startIdx = comparisonPage * ARTIFACTS_PER_PAGE;
            const endIdx = Math.min(startIdx + ARTIFACTS_PER_PAGE, artifacts.length);
            const pageArtifacts = artifacts.slice(startIdx, endIdx);

            const comparisonData = {
                labels: pageArtifacts.map(a => a.name.length > 25 ? a.name.substring(0, 22) + '...' : a.name),
                datasets: Object.keys(modelColors).map(model => ({
                    label: modelNames[model],
                    data: pageArtifacts.map(a => a.valuations[model]),
                    backgroundColor: modelColors[model],
                    borderColor: modelColors[model],
                    borderWidth: 2
                }))
            };

            // Destroy existing chart if it exists
            if (comparisonChart) {
                comparisonChart.destroy();
            }

            comparisonChart = new Chart(document.getElementById('comparisonChart'), {
                type: 'bar',
                data: comparisonData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top', labels: { color: '#a0a0a0' } },
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    // Show full artifact name in tooltip
                                    const idx = context[0].dataIndex;
                                    return pageArtifacts[idx].name;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'logarithmic',
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            ticks: { color: '#a0a0a0', callback: v => formatCurrency(v) }
                        },
                        x: { ticks: { color: '#a0a0a0', maxRotation: 45 }, grid: { display: false } }
                    },
                    onClick: (event, elements) => {
                        if (elements.length > 0) {
                            const idx = elements[0].index;
                            const artifact = pageArtifacts[idx];
                            navigateToArtifact(artifact.id);
                        }
                    },
                    onHover: (event, elements) => {
                        event.native.target.style.cursor = elements.length > 0 ? 'pointer' : 'default';
                    }
                }
            });

            updatePaginationButtons();
            updatePageDots();
        }

        // Create page indicator dots
        function createComparisonPageDots() {
            const totalPages = Math.ceil(artifacts.length / ARTIFACTS_PER_PAGE);
            const dotsContainer = document.getElementById('comparisonPageDots');

            let dotsHTML = '';
            for (let i = 0; i < totalPages; i++) {
                dotsHTML += `
                    <button onclick="goToComparisonPage(${i})"
                            class="page-dot ${i === comparisonPage ? 'active' : ''}"
                            style="width: 10px; height: 10px; border-radius: 50%; border: none;
                                   background: ${i === comparisonPage ? '#E07A5F' : '#3d3d5c'};
                                   cursor: pointer; transition: all 0.2s; padding: 0;"
                            onmouseover="if(${i} !== comparisonPage) this.style.background='#5d5d7c'"
                            onmouseout="if(${i} !== comparisonPage) this.style.background='#3d3d5c'"
                            title="Page ${i + 1}">
                    </button>
                `;
            }
            dotsContainer.innerHTML = dotsHTML;
        }

        // Update page dots to reflect current page
        function updatePageDots() {
            const dots = document.querySelectorAll('#comparisonPageDots button');
            dots.forEach((dot, i) => {
                dot.style.background = i === comparisonPage ? '#E07A5F' : '#3d3d5c';
            });
        }

        // Update pagination button states and page info
        function updatePaginationButtons() {
            const totalPages = Math.ceil(artifacts.length / ARTIFACTS_PER_PAGE);

            // Update page info text
            document.getElementById('comparisonPageInfo').textContent = `Page ${comparisonPage + 1} of ${totalPages}`;

            // Update button states
            const prevBtn = document.getElementById('comparisonPrevBtn');
            const nextBtn = document.getElementById('comparisonNextBtn');

            prevBtn.disabled = comparisonPage === 0;
            prevBtn.style.opacity = comparisonPage === 0 ? '0.4' : '1';
            prevBtn.style.cursor = comparisonPage === 0 ? 'not-allowed' : 'pointer';

            nextBtn.disabled = comparisonPage >= totalPages - 1;
            nextBtn.style.opacity = comparisonPage >= totalPages - 1 ? '0.4' : '1';
            nextBtn.style.cursor = comparisonPage >= totalPages - 1 ? 'not-allowed' : 'pointer';
        }

        // Navigate to previous page
        function prevComparisonPage() {
            if (comparisonPage > 0) {
                comparisonPage--;
                updateComparisonChart();
            }
        }

        // Navigate to next page
        function nextComparisonPage() {
            const totalPages = Math.ceil(artifacts.length / ARTIFACTS_PER_PAGE);
            if (comparisonPage < totalPages - 1) {
                comparisonPage++;
                updateComparisonChart();
            }
        }

        // Go to specific page
        function goToComparisonPage(page) {
            const totalPages = Math.ceil(artifacts.length / ARTIFACTS_PER_PAGE);
            if (page >= 0 && page < totalPages) {
                comparisonPage = page;
                updateComparisonChart();
            }
        }

        // Agreement Zones State
        let agreementExpanded = false;
        let industryExpanded = false;
        let controversyExpanded = false;

        // Initialize all agreement zone displays
        function initAgreementZones() {
            populateAgreementZones();
            populateIndustryAgreement();
            populateControversyZones();
        }

        // Populate Model Agreement Zones (low variance artifacts)
        function populateAgreementZones() {
            const multiModelArtifacts = artifacts.filter(a => {
                const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                return modelCount >= 3; // At least 3 models for meaningful consensus
            });

            const sorted = [...multiModelArtifacts].sort((a, b) => a.variance_ratio - b.variance_ratio);
            const displayCount = agreementExpanded ? 8 : 3;
            const topAgreement = sorted.slice(0, displayCount);

            const list = document.getElementById('agreementZonesList');
            list.innerHTML = topAgreement.map(a => {
                const values = Object.values(a.valuations).filter(v => v !== null);
                const modelCount = values.length;
                const avgValue = values.reduce((sum, v) => sum + v, 0) / modelCount;

                return `
                    <li style="margin-bottom: 10px; padding: 12px; background: rgba(129,178,154,0.2); border-radius: 6px; cursor: pointer; transition: background 0.2s;"
                        onclick="navigateToArtifact('${a.id}')"
                        onmouseover="this.style.background='rgba(129,178,154,0.35)'"
                        onmouseout="this.style.background='rgba(129,178,154,0.2)'"
                        title="Click to view detailed analysis">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <strong style="text-decoration: underline; text-decoration-style: dotted;">${a.name}</strong>
                            <span class="variance-low" style="font-size: 0.85em;">${a.variance_ratio.toFixed(2)}x</span>
                        </div>
                        <div style="font-size: 0.85em; color: var(--text-secondary); margin-top: 5px;">
                            ${modelCount} models agree around ${formatCurrency(avgValue)}
                        </div>
                    </li>
                `;
            }).join('');

            const btn = document.getElementById('expandAgreementBtn');
            btn.textContent = agreementExpanded ? 'Show Less ‚ñ≤' : 'Show More ‚ñº';
        }

        // Toggle Agreement Zones expansion
        function toggleAgreementZones() {
            agreementExpanded = !agreementExpanded;
            populateAgreementZones();
        }

        // Populate Industry Agreement Zones
        function populateIndustryAgreement() {
            // Calculate average variance per industry
            const industryStats = {};
            artifacts.forEach(a => {
                const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                if (modelCount < 2) return;

                const sector = a.sector;
                if (!industryStats[sector]) {
                    industryStats[sector] = { totalVariance: 0, count: 0, artifacts: [], totalValue: 0 };
                }
                industryStats[sector].totalVariance += a.variance_ratio;
                industryStats[sector].count++;
                industryStats[sector].artifacts.push(a);

                const values = Object.values(a.valuations).filter(v => v !== null);
                const avgVal = values.reduce((s, v) => s + v, 0) / values.length;
                industryStats[sector].totalValue += avgVal;
            });

            // Sort by average variance (lowest first = most agreement)
            const industries = Object.entries(industryStats)
                .filter(([_, stats]) => stats.count >= 2) // At least 2 artifacts
                .map(([sector, stats]) => ({
                    sector,
                    avgVariance: stats.totalVariance / stats.count,
                    count: stats.count,
                    avgValue: stats.totalValue / stats.count,
                    topConsensus: stats.artifacts.sort((a, b) => a.variance_ratio - b.variance_ratio)[0]
                }))
                .sort((a, b) => a.avgVariance - b.avgVariance);

            const displayCount = industryExpanded ? 8 : 3;
            const topIndustries = industries.slice(0, displayCount);

            const colors = ['#4285F4', '#81B29A', '#E07A5F', '#10A37F', '#9B5DE5', '#F9844A', '#00BFA5', '#FF6B6B'];

            const list = document.getElementById('industryAgreementList');
            list.innerHTML = topIndustries.map((ind, i) => `
                <li style="margin-bottom: 10px; padding: 12px; background: rgba(66,133,244,0.15); border-left: 3px solid ${colors[i % colors.length]}; border-radius: 0 6px 6px 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <strong>${ind.sector}</strong>
                        <span style="font-size: 0.85em; color: ${ind.avgVariance < 5 ? '#81B29A' : ind.avgVariance < 10 ? '#F3D250' : '#FF6B6B'};">
                            Avg ${ind.avgVariance.toFixed(1)}x variance
                        </span>
                    </div>
                    <div style="font-size: 0.85em; color: var(--text-secondary); margin-top: 5px;">
                        ${ind.count} artifacts ¬∑ Avg value ${formatCurrency(ind.avgValue)}
                    </div>
                    <div style="font-size: 0.8em; color: var(--text-secondary); margin-top: 4px;">
                        Top consensus:
                        <span onclick="navigateToArtifact('${ind.topConsensus.id}')"
                              style="cursor: pointer; text-decoration: underline; text-decoration-style: dotted; color: ${colors[i % colors.length]};"
                              onmouseover="this.style.color='#fff'"
                              onmouseout="this.style.color='${colors[i % colors.length]}'"
                              title="Click to view detailed analysis">
                            ${ind.topConsensus.name}
                        </span>
                    </div>
                </li>
            `).join('');

            const btn = document.getElementById('expandIndustryBtn');
            btn.textContent = industryExpanded ? 'Show Less ‚ñ≤' : 'Show More ‚ñº';
        }

        // Toggle Industry Agreement expansion
        function toggleIndustryAgreement() {
            industryExpanded = !industryExpanded;
            populateIndustryAgreement();
        }

        // Populate Controversy Zones (high variance artifacts)
        function populateControversyZones() {
            const multiModelArtifacts = artifacts.filter(a => {
                const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                return modelCount >= 2;
            });

            const sorted = [...multiModelArtifacts].sort((a, b) => b.variance_ratio - a.variance_ratio);
            const displayCount = controversyExpanded ? 8 : 3;
            const topControversy = sorted.slice(0, displayCount);

            const list = document.getElementById('controversyZonesList');
            list.innerHTML = topControversy.map(a => {
                const values = Object.entries(a.valuations).filter(([k, v]) => v !== null);
                const minEntry = values.reduce((min, curr) => curr[1] < min[1] ? curr : min);
                const maxEntry = values.reduce((max, curr) => curr[1] > max[1] ? curr : max);

                return `
                    <li style="margin-bottom: 10px; padding: 12px; background: rgba(255,107,107,0.15); border-radius: 6px; cursor: pointer; transition: background 0.2s;"
                        onclick="navigateToArtifact('${a.id}')"
                        onmouseover="this.style.background='rgba(255,107,107,0.3)'"
                        onmouseout="this.style.background='rgba(255,107,107,0.15)'"
                        title="Click to view detailed analysis">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <strong style="text-decoration: underline; text-decoration-style: dotted;">${a.name}</strong>
                            <span class="variance-high" style="font-size: 0.85em;">${a.variance_ratio.toFixed(1)}x</span>
                        </div>
                        <div style="font-size: 0.85em; color: var(--text-secondary); margin-top: 5px;">
                            <span style="color: ${modelColors[minEntry[0]]}">${modelNames[minEntry[0]]}</span>: ${formatCurrency(minEntry[1])}
                            vs
                            <span style="color: ${modelColors[maxEntry[0]]}">${modelNames[maxEntry[0]]}</span>: ${formatCurrency(maxEntry[1])}
                        </div>
                    </li>
                `;
            }).join('');

            const btn = document.getElementById('expandControversyBtn');
            btn.textContent = controversyExpanded ? 'Show Less ‚ñ≤' : 'Show More ‚ñº';
        }

        // Toggle Controversy Zones expansion
        function toggleControversyZones() {
            controversyExpanded = !controversyExpanded;
            populateControversyZones();
        }

        // ==================== Top Artifacts by Model ====================
        let currentTop25Model = 'chatgpt5';
        let currentTopCount = 25;

        // Generate model selector buttons dynamically from modelColors
        function generateModelSelectorButtons() {
            const container = document.getElementById('top25ModelSelector');
            if (!container) return;

            container.innerHTML = '';
            const modelKeys = Object.keys(modelColors);

            modelKeys.forEach(modelKey => {
                const color = modelColors[modelKey];
                const name = modelNames[modelKey];
                const isFirst = modelKey === modelKeys[0];

                const button = document.createElement('button');
                button.className = 'model-select-btn' + (isFirst ? ' active' : '');
                button.dataset.model = modelKey;
                button.onclick = () => switchTop25Model(modelKey);
                button.style.cssText = `padding: 8px 16px; border-radius: 20px; border: 2px solid ${color}; background: ${isFirst ? color : 'transparent'}; color: ${isFirst ? '#1a1a2e' : color}; font-weight: 600; cursor: pointer; transition: all 0.2s;`;
                button.textContent = name;

                container.appendChild(button);
            });
        }

        // Generate model legend dynamically from modelColors
        function generateModelLegend() {
            const container = document.getElementById('top25ModelLegend');
            if (!container) return;

            container.innerHTML = '<strong style="color: var(--text-secondary); font-size: 0.85em;">Value Bar Legend:</strong>';
            const legendItems = document.createElement('div');
            legendItems.style.cssText = 'display: flex; flex-wrap: wrap; gap: 15px; margin-top: 10px;';

            Object.keys(modelColors).forEach(modelKey => {
                const color = modelColors[modelKey];
                const name = modelNames[modelKey];

                const item = document.createElement('span');
                item.style.cssText = 'display: flex; align-items: center; gap: 5px; font-size: 0.8em;';
                item.innerHTML = `<span style="width: 12px; height: 12px; background: ${color}; border-radius: 2px;"></span> ${name}`;

                legendItems.appendChild(item);
            });

            // Add "No data" legend item
            const noDataItem = document.createElement('span');
            noDataItem.style.cssText = 'display: flex; align-items: center; gap: 5px; font-size: 0.8em; color: #888;';
            noDataItem.innerHTML = '<span style="width: 12px; height: 12px; background: #333; border-radius: 2px;"></span> No data';
            legendItems.appendChild(noDataItem);

            container.appendChild(legendItems);
        }

        // Get top N artifacts for a specific model
        function getTopNForModel(modelKey, count) {
            return artifacts
                .filter(a => a.valuations[modelKey] !== null && a.valuations[modelKey] !== undefined)
                .map(a => ({
                    ...a,
                    selectedValue: a.valuations[modelKey]
                }))
                .sort((a, b) => b.selectedValue - a.selectedValue)
                .slice(0, count);
        }

        // Switch the count (25, 50, 100)
        function switchTop25Count(count) {
            currentTopCount = count;

            // Update count button states
            document.querySelectorAll('.top-count-btn').forEach(btn => {
                const btnCount = parseInt(btn.dataset.count);
                if (btnCount === count) {
                    btn.style.background = '#3d3d5c';
                    btn.style.color = '#fff';
                    btn.classList.add('active');
                } else {
                    btn.style.background = 'transparent';
                    btn.style.color = '#a0a0a0';
                    btn.classList.remove('active');
                }
            });

            // Update the description
            updateTop25Description();

            // Re-render the table
            renderTop25Table(currentTop25Model);
        }

        // Update the description text
        function updateTop25Description() {
            const name = modelNames[currentTop25Model];
            const availableCount = artifacts.filter(a =>
                a.valuations[currentTop25Model] !== null &&
                a.valuations[currentTop25Model] !== undefined
            ).length;
            const displayCount = Math.min(currentTopCount, availableCount);

            document.getElementById('top25ModelDesc').textContent =
                `Showing top ${displayCount} artifacts ranked by ${name}'s valuations` +
                (displayCount < currentTopCount ? ` (${availableCount} total available)` : '');
        }

        // Switch the selected model for Top N display
        function switchTop25Model(modelKey) {
            currentTop25Model = modelKey;
            const color = modelColors[modelKey];
            const name = modelNames[modelKey];

            // Update button states
            document.querySelectorAll('#top25ModelSelector .model-select-btn').forEach(btn => {
                const btnModel = btn.dataset.model;
                const btnColor = modelColors[btnModel];
                if (btnModel === modelKey) {
                    btn.style.background = btnColor;
                    btn.style.color = '#1a1a2e';
                    btn.classList.add('active');
                } else {
                    btn.style.background = 'transparent';
                    btn.style.color = btnColor;
                    btn.classList.remove('active');
                }
            });

            // Update model info box
            const infoBox = document.getElementById('top25ModelInfo');
            infoBox.style.background = `${color}15`;
            infoBox.style.borderLeftColor = color;
            document.getElementById('top25ModelName').style.color = color;
            document.getElementById('top25ModelName').textContent = name;
            updateTop25Description();

            // Render the table
            renderTop25Table(modelKey);
        }

        // Render the Top N table
        function renderTop25Table(modelKey) {
            const topN = getTopNForModel(modelKey, currentTopCount);
            const tbody = document.getElementById('top25TableBody');
            const selectedColor = modelColors[modelKey];

            // Find the max value across all models for scaling
            let globalMax = 0;
            topN.forEach(artifact => {
                Object.keys(modelColors).forEach(mk => {
                    const val = artifact.valuations[mk];
                    if (val && val > globalMax) globalMax = val;
                });
            });

            tbody.innerHTML = topN.map((artifact, index) => {
                const selectedValue = artifact.selectedValue;

                // Build the comparison bars HTML
                const barsHtml = Object.keys(modelColors).map(mk => {
                    const val = artifact.valuations[mk];
                    const color = modelColors[mk];
                    const isSelected = mk === modelKey;

                    if (val === null || val === undefined) {
                        // No data - show a thin gray placeholder
                        return `<div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 2px;" title="${modelNames[mk]}: No data">
                            <div style="width: 100%; height: 24px; background: #333; border-radius: 2px; display: flex; align-items: flex-end;">
                                <div style="width: 100%; height: 2px; background: #444;"></div>
                            </div>
                            <span style="font-size: 0.65em; color: #555;">N/A</span>
                        </div>`;
                    }

                    // Use log scale for better visualization of wide ranges
                    const logMax = Math.log10(globalMax);
                    const logVal = Math.log10(val);
                    const heightPercent = Math.max(5, (logVal / logMax) * 100);

                    return `<div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 2px;" title="${modelNames[mk]}: ${formatCurrency(val)}">
                        <div style="width: 100%; height: 24px; background: #222; border-radius: 2px; display: flex; align-items: flex-end; ${isSelected ? 'box-shadow: 0 0 0 2px ' + color + ';' : ''}">
                            <div style="width: 100%; height: ${heightPercent}%; background: ${color}; border-radius: 2px; min-height: 3px;"></div>
                        </div>
                        <span style="font-size: 0.6em; color: ${color}; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100%;">${formatCurrencyShort(val)}</span>
                    </div>`;
                }).join('');

                return `<tr style="cursor: pointer;" onclick="navigateToArtifact('${artifact.id}')">
                    <td style="font-weight: bold; color: ${selectedColor};">${index + 1}</td>
                    <td>
                        <span style="color: #4fc3f7; text-decoration: underline;">${artifact.name}</span>
                    </td>
                    <td style="color: var(--text-secondary); font-size: 0.9em;">${artifact.sector}</td>
                    <td style="font-weight: bold; color: ${selectedColor};">${formatCurrency(selectedValue)}</td>
                    <td>
                        <div style="display: flex; gap: 4px; align-items: flex-end; padding: 5px 0;">
                            ${barsHtml}
                        </div>
                    </td>
                </tr>`;
            }).join('');
        }

        // Format currency in short form for bar labels
        function formatCurrencyShort(value) {
            if (value >= 1000000000) return (value / 1000000000).toFixed(0) + 'B';
            if (value >= 1000000) return (value / 1000000).toFixed(0) + 'M';
            if (value >= 1000) return (value / 1000).toFixed(0) + 'K';
            return value.toString();
        }

        // Initialize Top 25 table on page load
        function initTop25Table() {
            // Generate UI components dynamically from modelColors/modelNames
            generateModelSelectorButtons();
            generateModelLegend();

            // Initialize with first model
            switchTop25Model('chatgpt5');
        }

        // Initialize Artifact Deep Dive
        let artifactChart = null;
        let currentArtifactSort = 'alpha';
        let currentIndustryFilter = 'all';
        let currentConfidenceFilter = 'all';

        // Calculate consensus score for an artifact (higher = better consensus)
        function calculateConsensusScore(artifact) {
            const values = Object.values(artifact.valuations).filter(v => v !== null);
            const modelCount = values.length;
            if (modelCount < 2) return 0;
            // Score = model coverage * inverse variance factor (lower variance = higher score, max ~12)
            const varianceFactor = Math.max(0, 10 - Math.log10(artifact.variance_ratio + 1) * 3);
            return modelCount * varianceFactor;
        }

        // Calculate average value for an artifact
        function calculateAverageValue(artifact) {
            const values = Object.values(artifact.valuations).filter(v => v !== null);
            if (values.length === 0) return 0;
            return values.reduce((sum, v) => sum + v, 0) / values.length;
        }

        // Calculate controversy score for an artifact (variance √ó average value)
        function calculateControversyScore(artifact) {
            const avgValue = calculateAverageValue(artifact);
            const variance = artifact.variance_ratio || 1;
            return variance * avgValue;
        }

        // Get unique industries from artifacts
        function getUniqueIndustries() {
            const industries = [...new Set(artifacts.map(a => a.sector))].sort();
            return industries;
        }

        // Populate industry filter dropdown
        function populateIndustryFilter() {
            const industrySelect = document.getElementById('industryFilter');
            const industries = getUniqueIndustries();
            industries.forEach(industry => {
                const count = artifacts.filter(a => a.sector === industry).length;
                industrySelect.innerHTML += `<option value="${industry}">${industry} (${count})</option>`;
            });
        }

        // Sort and filter artifacts, then repopulate dropdown
        function updateArtifactDropdown() {
            const select = document.getElementById('artifactSelect');
            const currentValue = select.value;

            // Helper to get market value for an artifact
            function getMarketValue(artifact) {
                // Primary: Use hardcoded market research data if available
                const marketData = artifactMarketData[artifact.id];
                if (marketData && marketData.totalMarketValue) {
                    return (marketData.totalMarketValue.low + marketData.totalMarketValue.high) / 2;
                }

                // Fallback: Calculate median from model valuations
                const values = Object.values(artifact.valuations || {})
                    .filter(v => v !== null && v !== undefined && v > 0);

                if (values.length === 0) return 0;

                values.sort((a, b) => a - b);
                const mid = Math.floor(values.length / 2);
                return values.length % 2 === 0
                    ? (values[mid - 1] + values[mid]) / 2
                    : values[mid];
            }

            // Helper to get confidence for an artifact
            function getConfidence(artifact) {
                // Primary: Use hardcoded market research confidence if available
                const marketData = artifactMarketData[artifact.id];
                if (marketData && marketData.confidence) {
                    return marketData.confidence;
                }

                // Fallback: Calculate confidence from model coverage
                // Higher model coverage = higher confidence in valuation
                const values = Object.values(artifact.valuations || {})
                    .filter(v => v !== null && v !== undefined && v > 0);

                if (values.length === 0) return 0;

                // Base confidence from model coverage (more models = higher confidence)
                const coverageConfidence = (values.length / MAX_MODELS) * 100;

                // Reduce confidence if high variance (inconsistent valuations)
                if (artifact.variance_ratio && artifact.variance_ratio > 10) {
                    // High variance reduces confidence
                    const variancePenalty = Math.min(30, (artifact.variance_ratio - 10) * 2);
                    return Math.max(0, Math.round(coverageConfidence - variancePenalty));
                }

                return Math.round(coverageConfidence);
            }

            // Helper to get confidence level (high/medium/lower)
            function getConfidenceLevel(artifact) {
                const conf = getConfidence(artifact);
                if (conf >= 80) return 'high';
                if (conf >= 65) return 'medium';
                return 'lower';
            }

            // Filter by industry
            let filtered = currentIndustryFilter === 'all'
                ? [...artifacts]
                : artifacts.filter(a => a.sector === currentIndustryFilter);

            // Filter by confidence
            if (currentConfidenceFilter !== 'all') {
                filtered = filtered.filter(a => getConfidenceLevel(a) === currentConfidenceFilter);
            }

            // Sort
            switch (currentArtifactSort) {
                case 'alpha':
                    filtered.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'value':
                    filtered.sort((a, b) => calculateAverageValue(b) - calculateAverageValue(a));
                    break;
                case 'market':
                    filtered.sort((a, b) => getMarketValue(b) - getMarketValue(a));
                    break;
                case 'consensus':
                    filtered.sort((a, b) => calculateConsensusScore(b) - calculateConsensusScore(a));
                    break;
            }

            // Rebuild dropdown
            select.innerHTML = '<option value="">Select an artifact to analyze...</option>';

            // Standard list with suffix based on sort type
            filtered.forEach(a => {
                const avgVal = calculateAverageValue(a);
                const consensusScore = calculateConsensusScore(a);
                let suffix = '';
                if (currentArtifactSort === 'alpha') {
                    // A-Z: Show market value and confidence percentage
                    const mktVal = getMarketValue(a);
                    const conf = getConfidence(a);
                    suffix = ` ‚Äî ${formatCurrency(mktVal)} (${conf}%)`;
                } else if (currentArtifactSort === 'value') {
                    suffix = ` ‚Äî ${formatCurrency(avgVal)} avg`;
                } else if (currentArtifactSort === 'market') {
                    const mktVal = getMarketValue(a);
                    suffix = mktVal > 0 ? ` ‚Äî ${formatCurrency(mktVal)} market` : ' ‚Äî N/A';
                } else if (currentArtifactSort === 'consensus') {
                    const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                    suffix = ` ‚Äî ${modelCount} models, ${a.variance_ratio.toFixed(1)}x var`;
                }
                select.innerHTML += `<option value="${a.id}">${a.name}${suffix}</option>`;
            });

            // Restore selection if still in filtered list
            if (filtered.find(a => a.id === currentValue)) {
                select.value = currentValue;
            }

            // Update count label
            const countLabel = document.getElementById('artifactCountLabel');
            let labelText = `Showing ${filtered.length} artifacts`;
            if (currentIndustryFilter !== 'all') {
                labelText += ` in ${currentIndustryFilter}`;
            }
            if (currentConfidenceFilter !== 'all') {
                const confLabels = { high: 'High', medium: 'Medium', lower: 'Lower' };
                labelText += ` (${confLabels[currentConfidenceFilter]} confidence)`;
            }
            countLabel.textContent = labelText;
        }

        // Sort artifacts
        function sortArtifacts(sortType) {
            currentArtifactSort = sortType;

            // Update button styles
            document.querySelectorAll('.artifact-sort-btn').forEach(btn => {
                if (btn.dataset.sort === sortType) {
                    btn.style.background = '#3d3d5c';
                    btn.style.color = '#fff';
                    btn.classList.add('active');
                } else {
                    btn.style.background = 'transparent';
                    btn.style.color = '#a0a0a0';
                    btn.classList.remove('active');
                }
            });

            updateArtifactDropdown();
        }

        // Filter by industry
        function filterByIndustry(industry) {
            currentIndustryFilter = industry;
            updateArtifactDropdown();

            // Show/hide industry overview panel
            const panel = document.getElementById('industryOverviewPanel');
            const reportsPanel = document.getElementById('industryReportsPanel');

            if (industry === 'all') {
                panel.style.display = 'none';
                if (reportsPanel) reportsPanel.style.display = 'none';
            } else {
                panel.style.display = 'block';
                renderIndustryOverview(industry);

                // Load industry reports for this sector
                loadIndustryReports(industry);
            }

            // Update consensus view to show industry-specific results
            populateConsensusView(industry);
        }

        // Filter by market estimate confidence
        function filterByConfidence(confidence) {
            currentConfidenceFilter = confidence;

            // When filtering by confidence, also sort by market size within that confidence level
            if (confidence !== 'all') {
                currentArtifactSort = 'market';
                // Update sort button styles
                document.querySelectorAll('.artifact-sort-btn').forEach(btn => {
                    if (btn.dataset.sort === 'market') {
                        btn.style.background = '#3d3d5c';
                        btn.style.color = '#fff';
                        btn.classList.add('active');
                    } else {
                        btn.style.background = 'transparent';
                        btn.style.color = '#a0a0a0';
                        btn.classList.remove('active');
                    }
                });
            }

            updateArtifactDropdown();
        }

        // US Annual Market Spend by Industry (2024, in billions USD)
        // Sources: Grand View Research, Mordor Intelligence, Statista, Precedence Research,
        // MarketsandMarkets, Verified Market Research, IBISWorld (2024 reports)
        const industryMarketData = {
            'Medical/Pharma': { spend: 29000000000, source: 'Healthcare consulting services (MarketsandMarkets 2024)' },
            'Financial Services': { spend: 150000000000, source: 'Financial advisory & consulting (Big Four + independent, Statista 2024)' },
            'Technology': { spend: 115000000000, source: 'IT/Software consulting North America (Precedence Research 2024)' },
            'Management Consulting': { spend: 85000000000, source: 'US management consulting services (Mordor Intelligence 2024)' },
            'Legal': { spend: 350000000000, source: 'US legal services market (Grand View Research 2024)' },
            'Legal/Financial': { spend: 200000000000, source: 'Combined legal & financial advisory services' },
            'Financial/Legal': { spend: 200000000000, source: 'Combined financial & legal advisory services' },
            'Engineering': { spend: 163000000000, source: 'US engineering services (Verified Market Research 2024)' },
            'Technology/Compliance': { spend: 95000000000, source: 'IT compliance & GRC consulting (Gartner estimates)' },
            'Operations/Consulting': { spend: 70000000000, source: 'Operations management consulting (IBISWorld 2024)' },
            'Environmental/Engineering': { spend: 45000000000, source: 'Environmental consulting services (Grand View Research 2024)' },
            'Tax/International': { spend: 40000000000, source: 'Tax advisory services US (Straits Research 2024)' },
            'HR Consulting': { spend: 37000000000, source: 'US HR consulting market (Mordor Intelligence 2024)' },
            'Architecture': { spend: 45000000000, source: 'US architectural services (IBISWorld 2024)' },
            'Creative/Marketing': { spend: 81000000000, source: 'US advertising agencies (IBISWorld 2024)' },
            'Environmental': { spend: 35000000000, source: 'Environmental consulting (Precedence Research 2024)' },
            'Real Estate': { spend: 27000000000, source: 'Real estate advisory services (Business Research Insights 2024)' },
            'Legal/Compliance': { spend: 120000000000, source: 'Legal compliance & regulatory services' },
            'Marketing': { spend: 81000000000, source: 'US marketing services (Mordor Intelligence 2024)' }
        };

        // Render industry overview panel
        function renderIndustryOverview(industry) {
            const industryArtifacts = artifacts.filter(a => a.sector === industry);
            const avgModelCount = industryArtifacts.reduce((sum, a) => {
                return sum + Object.values(a.valuations).filter(v => v !== null).length;
            }, 0) / industryArtifacts.length;
            const avgVariance = industryArtifacts.reduce((sum, a) => sum + a.variance_ratio, 0) / industryArtifacts.length;

            // Get US market spend for this industry
            const marketInfo = industryMarketData[industry] || { spend: null, source: 'Data not available' };
            const usMarketSpend = marketInfo.spend;
            const marketSource = marketInfo.source;

            // Sort all artifacts by value (highest first)
            const sortedByValue = [...industryArtifacts]
                .sort((a, b) => calculateAverageValue(b) - calculateAverageValue(a));

            document.getElementById('industryOverviewTitle').textContent = `${industry} Industry Overview`;
            document.getElementById('industryOverviewContent').innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px;">
                    <div style="text-align: center; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <div style="font-size: 1.5em; font-weight: bold; color: #81B29A;">${industryArtifacts.length}</div>
                        <div style="font-size: 0.8em; color: var(--text-secondary);">Artifacts</div>
                    </div>
                    <div style="text-align: center; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px; position: relative;" title="${marketSource}">
                        <div style="font-size: 1.5em; font-weight: bold; color: #4285F4;">${usMarketSpend ? formatCurrency(usMarketSpend) : 'N/A'}</div>
                        <div style="font-size: 0.8em; color: var(--text-secondary);">US Annual Spend</div>
                        <div style="position: absolute; top: 4px; right: 6px; font-size: 0.6em; color: #4285F4; cursor: help;" title="${marketSource}">‚ìò</div>
                    </div>
                    <div style="text-align: center; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <div style="font-size: 1.5em; font-weight: bold; color: #F4A261;">${avgModelCount.toFixed(1)}</div>
                        <div style="font-size: 0.8em; color: var(--text-secondary);">Avg Model Coverage</div>
                    </div>
                    <div style="text-align: center; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <div style="font-size: 1.5em; font-weight: bold; color: ${avgVariance > 10 ? '#E07A5F' : avgVariance > 3 ? '#F4A261' : '#81B29A'};">${avgVariance.toFixed(1)}x</div>
                        <div style="font-size: 0.8em; color: var(--text-secondary);">Avg Variance</div>
                    </div>
                </div>
                <div>
                    <div style="font-weight: 600; margin-bottom: 10px; color: var(--text-primary);">All ${industry} Artifacts by Value:</div>
                    <div style="display: flex; flex-direction: column; gap: 6px; max-height: 400px; overflow-y: auto;">
                        ${sortedByValue.map((a, i) => {
                            const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                            const varianceClass = a.variance_ratio > 10 ? '#E07A5F' : a.variance_ratio > 3 ? '#F4A261' : '#81B29A';
                            return `
                            <div onclick="document.getElementById('artifactSelect').value='${a.id}'; document.getElementById('artifactSelect').dispatchEvent(new Event('change'));"
                                 style="display: flex; justify-content: space-between; align-items: center; padding: 10px 12px; background: rgba(255,255,255,0.03); border-radius: 6px; cursor: pointer; transition: background 0.2s; border-left: 3px solid ${varianceClass};"
                                 onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='rgba(255,255,255,0.03)'">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="color: #81B29A; font-weight: bold; min-width: 28px;">#${i + 1}</span>
                                    <div>
                                        <div style="color: var(--text-primary); font-weight: 500;">${a.name}</div>
                                        <div style="font-size: 0.75em; color: var(--text-secondary);">${modelCount} models ¬∑ ${a.variance_ratio.toFixed(1)}x variance</div>
                                    </div>
                                </div>
                                <span style="color: #4285F4; font-weight: 600; font-size: 0.95em;">${formatCurrency(calculateAverageValue(a))}</span>
                            </div>
                        `}).join('')}
                    </div>
                </div>
            `;
        }

        function initArtifactView() {
            const select = document.getElementById('artifactSelect');

            // Populate industry filter
            populateIndustryFilter();

            // Initial population of dropdown (sorted alphabetically by default)
            updateArtifactDropdown();

            // Populate consensus default view
            populateConsensusView();

            select.addEventListener('change', (e) => {
                const artifact = artifacts.find(a => a.id === e.target.value);

                // Toggle between default view and detail view
                const consensusView = document.getElementById('consensusDefaultView');
                const detailView = document.getElementById('artifactDetailView');
                const clearBtn = document.getElementById('clearArtifactBtn');
                const mcpPanel = document.getElementById('mcpPanel');

                if (!artifact) {
                    // Show default consensus view, hide news panel
                    consensusView.style.display = 'block';
                    detailView.style.display = 'none';
                    clearBtn.style.display = 'none';
                    const newsPanel = document.getElementById('newsPanel');
                    if (newsPanel) newsPanel.style.display = 'none';

                    // Keep industry reports visible if an industry is selected
                    const reportsPanel = document.getElementById('industryReportsPanel');
                    if (reportsPanel && currentIndustryFilter === 'all') {
                        reportsPanel.style.display = 'none';
                    }
                    return;
                }

                // Show detail view, hide consensus view, show clear button and news panel
                consensusView.style.display = 'none';
                detailView.style.display = 'block';
                clearBtn.style.display = 'inline-block';

                // Load and display You.com news results
                loadNewsResults(artifact.id);

                // Hide industry reports panel when viewing individual artifact
                const reportsPanel = document.getElementById('industryReportsPanel');
                if (reportsPanel) reportsPanel.style.display = 'none';

                // Update chart
                if (artifactChart) artifactChart.destroy();

                const values = Object.entries(artifact.valuations)
                    .filter(([k, v]) => v !== null)
                    .map(([k, v]) => ({ model: modelNames[k], value: v, color: modelColors[k], key: k }));

                artifactChart = new Chart(document.getElementById('artifactValueChart'), {
                    type: 'bar',
                    data: {
                        labels: values.map(v => v.model),
                        datasets: [{
                            data: values.map(v => v.value),
                            backgroundColor: values.map(v => v.color)
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { ticks: { color: '#a0a0a0', callback: v => formatCurrency(v) }, grid: { color: 'rgba(255,255,255,0.1)' } },
                            y: { ticks: { color: '#a0a0a0' }, grid: { display: false } }
                        }
                    }
                });

                // Update details
                const details = document.getElementById('artifactDetails');
                const minVal = Math.min(...values.map(v => v.value));
                const maxVal = Math.max(...values.map(v => v.value));

                // Get the artifact summary if available
                const summaryData = artifactSummaries[artifact.id];
                const confidenceColor = summaryData ?
                    (summaryData.confidence >= 90 ? '#81B29A' :
                     summaryData.confidence >= 80 ? '#F4A261' : '#E07A5F') : '#888';
                const confidenceLabel = summaryData ?
                    (summaryData.confidence >= 90 ? 'High' :
                     summaryData.confidence >= 80 ? 'Medium' : 'Lower') : 'N/A';

                // Helper function to render market data section
                function renderMarketData(artifactId) {
                    const marketData = artifactMarketData[artifactId];
                    if (!marketData) return '';

                    const mktConfidenceColor = marketData.confidence >= 80 ? '#81B29A' :
                                               marketData.confidence >= 65 ? '#F4A261' : '#E07A5F';
                    const mktConfidenceLabel = marketData.confidence >= 80 ? 'High' :
                                               marketData.confidence >= 65 ? 'Medium' : 'Lower';

                    const formatVolume = (num) => {
                        if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
                        if (num >= 1000) return (num / 1000).toFixed(0) + 'K';
                        return num.toLocaleString();
                    };

                    return '<div style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, rgba(66, 133, 244, 0.1), rgba(129, 178, 154, 0.1)); border-radius: 12px; border: 1px solid rgba(66, 133, 244, 0.3);">' +
                        '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">' +
                        '<strong style="font-size: 1.1em; color: #4285F4;">üìä US Market Estimates (2024)</strong>' +
                        '<span style="background: ' + mktConfidenceColor + '; color: #1a1a2e; padding: 3px 10px; border-radius: 12px; font-size: 0.75em; font-weight: 600;" title="Confidence level based on data quality and source reliability">' +
                        mktConfidenceLabel + ' Confidence (' + marketData.confidence + '%)' +
                        '</span></div>' +
                        '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">' +
                        '<div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; text-align: center;">' +
                        '<div style="font-size: 0.75em; color: #a0a0a0; margin-bottom: 5px;">Annual Volume (US)</div>' +
                        '<div style="font-size: 1.3em; font-weight: bold; color: #F4A261;">' +
                        formatVolume(marketData.annualVolume.low) + ' - ' + formatVolume(marketData.annualVolume.high) +
                        '</div>' +
                        '<div style="font-size: 0.8em; color: #888;">' + marketData.annualVolume.unit + '/year</div>' +
                        '</div>' +
                        '<div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; text-align: center;">' +
                        '<div style="font-size: 0.75em; color: #a0a0a0; margin-bottom: 5px;">Total Market Value (US)</div>' +
                        '<div style="font-size: 1.3em; font-weight: bold; color: #81B29A;">' +
                        formatCurrency(marketData.totalMarketValue.low) + ' - ' + formatCurrency(marketData.totalMarketValue.high) +
                        '</div>' +
                        '<div style="font-size: 0.8em; color: #888;">annually</div>' +
                        '</div></div>' +
                        '<div style="font-size: 0.75em; color: #888; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px;">' +
                        '<strong>Source:</strong> ' + marketData.source +
                        '</div></div>';
                }

                details.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <strong>Sector:</strong> <a href="#" onclick="navigateToIndustry('${artifact.sector}'); return false;" style="color: ${industryColors[artifact.sector] || '#4285F4'}; text-decoration: underline; text-decoration-style: dotted; text-underline-offset: 3px; cursor: pointer;" title="View all ${artifact.sector} artifacts">${artifact.sector}</a>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>Variance Ratio:</strong>
                        <span class="${artifact.variance_ratio > 10 ? 'variance-high' : artifact.variance_ratio > 3 ? 'variance-medium' : 'variance-low'}">
                            ${artifact.variance_ratio.toFixed(2)}x
                        </span>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>Value Range:</strong> ${formatCurrency(minVal)} - ${formatCurrency(maxVal)}
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>Models with Data:</strong> ${values.length} / ${MAX_MODELS}
                    </div>
                    ${summaryData ? `
                    <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                            <strong style="font-size: 1.1em;">About This Artifact</strong>
                            <span style="background: ${confidenceColor}; color: #1a1a2e; padding: 3px 10px; border-radius: 12px; font-size: 0.8em; font-weight: 600;">
                                Confidence: ${confidenceLabel} (${summaryData.confidence}%)
                            </span>
                        </div>
                        <div style="color: #c0c0c0; line-height: 1.7; margin-bottom: 18px; text-align: justify;">
                            ${summaryData.summary.split(/\n\n/).map(para => `<p style="margin-bottom: 12px;">${para}</p>`).join('')}
                        </div>
                        <div style="margin-bottom: 15px;">
                            <strong style="color: #4285F4;">Key Contributors:</strong>
                            <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px;">
                                ${summaryData.contributors.map(c => `<span style="background: rgba(66, 133, 244, 0.2); color: #90caf9; padding: 4px 10px; border-radius: 15px; font-size: 0.85em;">${c}</span>`).join('')}
                            </div>
                        </div>
                        <div>
                            <strong style="color: #81B29A;">Typical Firms:</strong>
                            <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px;">
                                ${summaryData.firms.map(f => `<span style="background: rgba(129, 178, 154, 0.2); color: #a5d6a7; padding: 4px 10px; border-radius: 15px; font-size: 0.85em;">${f}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                    ` : `
                    <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
                        <p style="color: #888; font-style: italic;">Summary information not available for this artifact.</p>
                    </div>
                    `}
                    ${renderMarketData(artifact.id)}
                `;

            });
        }

        // Populate the consensus default view
        function populateConsensusView(industry = 'all') {
            // Update title and description based on industry filter
            const titleEl = document.getElementById('consensusTitle');
            const descEl = document.getElementById('consensusDescription');

            if (industry === 'all') {
                titleEl.textContent = 'Strongest Model Consensus';
                descEl.textContent = 'These artifacts show the highest agreement across multiple AI models, indicating reliable valuation benchmarks.';
            } else {
                titleEl.textContent = `Strongest Model Consensus: ${industry}`;
                descEl.textContent = `These ${industry} artifacts show the highest agreement across multiple AI models, indicating reliable valuation benchmarks for this sector.`;
            }

            // Get artifacts, optionally filtered by industry
            const sourceArtifacts = industry === 'all'
                ? artifacts
                : artifacts.filter(a => a.sector === industry);

            // Get artifacts with multiple models, sorted by model count (desc) then variance (asc)
            const consensusArtifacts = sourceArtifacts
                .map(a => {
                    const values = Object.entries(a.valuations).filter(([k, v]) => v !== null);
                    const modelCount = values.length;
                    const vals = values.map(([k, v]) => v);
                    const minVal = Math.min(...vals);
                    const maxVal = Math.max(...vals);
                    const avgVal = vals.reduce((sum, v) => sum + v, 0) / vals.length;
                    const medianVal = vals.sort((a, b) => a - b)[Math.floor(vals.length / 2)];
                    return { ...a, modelCount, minVal, maxVal, avgVal, medianVal, values };
                })
                .filter(a => a.modelCount >= 3)
                .sort((a, b) => {
                    // First by low variance, then by high model count
                    if (a.variance_ratio !== b.variance_ratio) {
                        return a.variance_ratio - b.variance_ratio;
                    }
                    return b.modelCount - a.modelCount;
                })
                .slice(0, 15);

            // Populate consensus table
            const table = document.getElementById('consensusTable');
            table.innerHTML = '';

            consensusArtifacts.forEach(a => {
                // Determine consensus cluster description
                let clusterDesc;
                if (a.avgVal >= 10000000) {
                    clusterDesc = `~${formatCurrency(Math.round(a.avgVal / 1000000) * 1000000)} range`;
                } else if (a.avgVal >= 1000000) {
                    clusterDesc = `~${formatCurrency(Math.round(a.avgVal / 500000) * 500000)} range`;
                } else if (a.avgVal >= 100000) {
                    clusterDesc = `~${formatCurrency(Math.round(a.avgVal / 50000) * 50000)} range`;
                } else {
                    clusterDesc = `~${formatCurrency(Math.round(a.avgVal / 10000) * 10000)} range`;
                }

                const varianceClass = a.variance_ratio > 10 ? 'variance-high' :
                                      a.variance_ratio > 3 ? 'variance-medium' : 'variance-low';

                table.innerHTML += `
                    <tr style="cursor: pointer;" onclick="document.getElementById('artifactSelect').value='${a.id}'; document.getElementById('artifactSelect').dispatchEvent(new Event('change'));">
                        <td>${a.name}</td>
                        <td><span style="background: rgba(129,178,154,0.3); padding: 2px 8px; border-radius: 4px;">${a.modelCount} models</span></td>
                        <td>${formatCurrency(a.minVal)} - ${formatCurrency(a.maxVal)}</td>
                        <td class="${varianceClass}">${a.variance_ratio.toFixed(2)}x</td>
                        <td><strong style="color: #81B29A;">${clusterDesc}</strong></td>
                    </tr>
                `;
            });

            // Handle empty results
            if (consensusArtifacts.length === 0) {
                table.innerHTML = `
                    <tr>
                        <td colspan="5" style="text-align: center; color: var(--text-secondary); padding: 30px;">
                            No artifacts with 3+ model coverage found${industry !== 'all' ? ` in ${industry}` : ''}.
                            Try selecting a different industry or view all artifacts.
                        </td>
                    </tr>
                `;
            }

            // Populate sector consensus panel
            const sectorConsensus = document.getElementById('sectorConsensus');
            const sectorTitle = sectorConsensus.parentElement.querySelector('.card-title');

            if (industry === 'all') {
                // Show breakdown by sector for all industries
                sectorTitle.textContent = 'Consensus by Sector';
                const sectorData = {};

                consensusArtifacts.forEach(a => {
                    const sector = a.sector;
                    if (!sectorData[sector]) {
                        sectorData[sector] = { count: 0, totalVariance: 0, artifacts: [] };
                    }
                    sectorData[sector].count++;
                    sectorData[sector].totalVariance += a.variance_ratio;
                    sectorData[sector].artifacts.push(a.name);
                });

                const sortedSectors = Object.entries(sectorData)
                    .map(([sector, data]) => ({
                        sector,
                        count: data.count,
                        avgVariance: data.totalVariance / data.count,
                        artifacts: data.artifacts
                    }))
                    .sort((a, b) => b.count - a.count)
                    .slice(0, 6);

                sectorConsensus.innerHTML = sortedSectors.map(s => `
                    <div style="margin-bottom: 12px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 6px; cursor: pointer; transition: background 0.2s;"
                         onmouseover="this.style.background='rgba(255,255,255,0.08)'"
                         onmouseout="this.style.background='rgba(255,255,255,0.05)'"
                         onclick="filterByIndustry('${s.sector}'); document.getElementById('industryFilter').value='${s.sector}';">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <strong style="color: var(--text-primary);">${s.sector}</strong>
                            <span style="color: #81B29A; font-size: 0.85em;">${s.count} high-consensus artifacts</span>
                        </div>
                        <div style="font-size: 0.85em; color: var(--text-secondary); margin-top: 5px;">
                            Avg variance: ${s.avgVariance.toFixed(2)}x
                        </div>
                    </div>
                `).join('');
            } else {
                // Show industry-specific insights
                sectorTitle.textContent = `${industry} Insights`;

                const totalInIndustry = sourceArtifacts.length;
                const highConsensusCount = consensusArtifacts.length;
                const avgVariance = consensusArtifacts.length > 0
                    ? consensusArtifacts.reduce((sum, a) => sum + a.variance_ratio, 0) / consensusArtifacts.length
                    : 0;
                const totalValue = consensusArtifacts.reduce((sum, a) => sum + a.avgVal, 0);

                // Find best and worst consensus artifacts
                const bestConsensus = consensusArtifacts[0];
                const worstConsensus = consensusArtifacts[consensusArtifacts.length - 1];

                sectorConsensus.innerHTML = `
                    <div style="display: grid; gap: 10px;">
                        <div style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 6px;">
                            <div style="font-size: 0.8em; color: var(--text-secondary);">Total ${industry} Artifacts</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #4285F4;">${totalInIndustry}</div>
                        </div>
                        <div style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 6px;">
                            <div style="font-size: 0.8em; color: var(--text-secondary);">With High Consensus (3+ models)</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: #81B29A;">${highConsensusCount}</div>
                        </div>
                        <div style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 6px;">
                            <div style="font-size: 0.8em; color: var(--text-secondary);">Avg Variance (High Consensus)</div>
                            <div style="font-size: 1.3em; font-weight: bold; color: ${avgVariance > 10 ? '#E07A5F' : avgVariance > 3 ? '#F4A261' : '#81B29A'};">${avgVariance.toFixed(2)}x</div>
                        </div>
                        ${bestConsensus ? `
                        <div style="padding: 10px; background: rgba(129,178,154,0.1); border-radius: 6px; border-left: 3px solid #81B29A;">
                            <div style="font-size: 0.75em; color: #81B29A; font-weight: 600;">BEST CONSENSUS</div>
                            <div style="font-size: 0.9em; color: var(--text-primary);">${bestConsensus.name}</div>
                            <div style="font-size: 0.8em; color: var(--text-secondary);">${bestConsensus.variance_ratio.toFixed(2)}x variance ¬∑ ${bestConsensus.modelCount} models</div>
                        </div>
                        ` : ''}
                    </div>
                `;
            }
        }

        // Global variance chart reference
        let varianceChart = null;

        // Initialize Variance Analysis
        function initVarianceCharts() {
            // Initialize with high variance view
            showHighVariance();
        }

        // Update variance chart with given artifacts
        function updateVarianceChart(artifactList, varianceType) {
            const ctx = document.getElementById('varianceChart');
            const isMobileVariance = window.innerWidth < 768;

            // Destroy existing chart if it exists
            if (varianceChart) {
                varianceChart.destroy();
            }

            // Get min and max values for each artifact
            const chartData = artifactList.map(a => {
                const values = Object.entries(a.valuations).filter(([k, v]) => v !== null);
                const minVal = Math.min(...values.map(([k, v]) => v));
                const maxVal = Math.max(...values.map(([k, v]) => v));
                const minModel = values.find(([k, v]) => v === minVal)[0];
                const maxModel = values.find(([k, v]) => v === maxVal)[0];
                return {
                    id: a.id,
                    name: a.name,
                    min: minVal,
                    max: maxVal,
                    ratio: a.variance_ratio,
                    minModel,
                    maxModel
                };
            });

            // Store chart data globally for click handling
            window.varianceChartData = chartData;

            // Truncate labels for mobile
            const maxLabelLength = isMobileVariance ? 18 : 30;
            const truncatedLabels = chartData.map(d =>
                d.name.length > maxLabelLength ? d.name.substring(0, maxLabelLength - 2) + '...' : d.name
            );

            // Create floating bar chart showing min-max ranges
            varianceChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: truncatedLabels,
                    datasets: [{
                        label: 'Value Range',
                        data: chartData.map(d => [d.min, d.max]),
                        backgroundColor: chartData.map(d =>
                            d.ratio > 10 ? 'rgba(255, 107, 107, 0.7)' :
                            d.ratio > 3 ? 'rgba(249, 132, 74, 0.7)' : 'rgba(129, 178, 154, 0.7)'
                        ),
                        borderColor: chartData.map(d =>
                            d.ratio > 10 ? '#FF6B6B' :
                            d.ratio > 3 ? '#F9844A' : '#81B29A'
                        ),
                        borderWidth: 2,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    onClick: function(event, elements) {
                        if (elements.length > 0) {
                            const idx = elements[0].index;
                            const artifact = window.varianceChartData[idx];
                            if (artifact && artifact.id) {
                                navigateToArtifact(artifact.id);
                            }
                        }
                    },
                    onHover: function(event, elements) {
                        event.native.target.style.cursor = elements.length > 0 ? 'pointer' : 'default';
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const idx = context.dataIndex;
                                    const d = chartData[idx];
                                    return [
                                        `Range: ${formatCurrency(d.min)} - ${formatCurrency(d.max)}`,
                                        `Low: ${modelNames[d.minModel]}`,
                                        `High: ${modelNames[d.maxModel]}`,
                                        `Variance: ${d.ratio.toFixed(2)}x`,
                                        '(Click to view details)'
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: isMobileVariance ? 'Value (USD)' : 'Value Range (USD, log scale)',
                                color: '#a0a0a0',
                                font: { size: isMobileVariance ? 10 : 12 }
                            },
                            ticks: {
                                color: '#a0a0a0',
                                font: { size: isMobileVariance ? 9 : 11 },
                                maxTicksLimit: isMobileVariance ? 5 : 10,
                                callback: function(value) {
                                    if (value >= 1000000000) return '$' + (value/1000000000) + 'B';
                                    if (value >= 1000000) return '$' + (value/1000000) + 'M';
                                    if (value >= 1000) return '$' + (value/1000) + 'K';
                                    return '$' + value;
                                }
                            },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: {
                            ticks: {
                                color: '#a0a0a0',
                                font: { size: isMobileVariance ? 9 : 11 }
                            },
                            grid: { display: false }
                        }
                    }
                }
            });

            // Update chart title based on variance type
            const chartTitles = {
                'high': 'Highest Variance: Value Range Comparison (>10x)',
                'mid': 'Mid-Range Variance: Value Range Comparison (3x-10x)',
                'low': 'Lowest Variance: Value Range Comparison (<3x)'
            };
            document.getElementById('varianceChartTitle').textContent = chartTitles[varianceType] || chartTitles['high'];
        }

        // Populate variance table with given artifacts
        function populateVarianceTable(artifactList, varianceType) {
            const table = document.getElementById('varianceTable');
            table.innerHTML = '';

            artifactList.forEach(a => {
                const values = Object.entries(a.valuations).filter(([k, v]) => v !== null);
                if (values.length < 2) return; // Skip artifacts with only one model

                const minEntry = values.reduce((min, curr) => curr[1] < min[1] ? curr : min);
                const maxEntry = values.reduce((max, curr) => curr[1] > max[1] ? curr : max);

                const varianceClass = a.variance_ratio > 10 ? 'variance-high' :
                                      a.variance_ratio > 3 ? 'variance-medium' : 'variance-low';

                // Generate contextual explanations based on artifact and variance type
                let explanation;
                if (varianceType === 'low') {
                    // For low variance, show consensus details
                    const modelCount = values.length;
                    const avgValue = values.reduce((sum, [k, v]) => sum + v, 0) / modelCount;
                    const percentSpread = ((maxEntry[1] - minEntry[1]) / avgValue * 100).toFixed(0);

                    explanation = `${modelCount} models, tight cluster (${percentSpread}% spread)`;
                } else if (varianceType === 'mid') {
                    // For mid-range variance, show model coverage and mean/median comparison
                    const modelCount = values.length;
                    const sortedValues = values.map(([k, v]) => v).sort((a, b) => a - b);
                    const mean = sortedValues.reduce((sum, v) => sum + v, 0) / sortedValues.length;
                    const median = sortedValues.length % 2 === 0
                        ? (sortedValues[sortedValues.length / 2 - 1] + sortedValues[sortedValues.length / 2]) / 2
                        : sortedValues[Math.floor(sortedValues.length / 2)];

                    const meanMedianDiff = Math.abs((mean - median) / median * 100).toFixed(0);

                    if (meanMedianDiff > 15) {
                        explanation = `${modelCount}/${MAX_MODELS} models, skewed distribution (${meanMedianDiff}% mean/median gap)`;
                    } else {
                        explanation = `${modelCount}/${MAX_MODELS} models, balanced distribution (${meanMedianDiff}% mean/median gap)`;
                    }
                } else if (a.id === 'infrastructure_engineering') explanation = 'IT vs Nuclear scope';
                else if (a.id === 'nda_bla_application') explanation = 'Fee vs R&D cost';
                else if (a.id === 'erp_implementation') explanation = 'Mid vs Enterprise scope';
                else if (a.id === 'environmental_impact_statement') explanation = 'Basic vs Nuclear EIS';
                else if (a.id === 'securities_class_action') explanation = 'Case complexity varies';
                else if (a.id === 'smart_grid_design') explanation = 'Regional vs national scale';
                else if (a.id === 'water_treatment_plant') explanation = 'Capacity-dependent';
                else if (a.id === 'saas_platform_architecture') explanation = 'Complexity varies';
                else if (a.id === 'microservices_migration') explanation = 'Legacy system dependent';
                else if (varianceType === 'high') explanation = 'Methodology difference';
                else explanation = 'Strong consensus';

                table.innerHTML += `
                    <tr>
                        <td>
                            <span
                                onclick="navigateToArtifact('${a.id}')"
                                style="cursor: pointer; text-decoration: underline; text-decoration-style: dotted; transition: color 0.2s;"
                                onmouseover="this.style.color='#E07A5F'"
                                onmouseout="this.style.color='inherit'"
                                title="Click to view detailed analysis"
                            >${a.name}</span>
                        </td>
                        <td class="${varianceClass}">${a.variance_ratio.toFixed(2)}x</td>
                        <td>${formatCurrency(minEntry[1])} (<span style="color: ${modelColors[minEntry[0]]}">${modelNames[minEntry[0]]}</span>)</td>
                        <td>${formatCurrency(maxEntry[1])} (<span style="color: ${modelColors[maxEntry[0]]}">${modelNames[maxEntry[0]]}</span>)</td>
                        <td>${explanation}</td>
                    </tr>
                `;
            });
        }

        // Helper to clear all variance toggle buttons
        function clearVarianceToggles() {
            document.getElementById('highVarianceBtn').classList.remove('active');
            document.getElementById('midVarianceBtn').classList.remove('active');
            document.getElementById('lowVarianceBtn').classList.remove('active');
        }

        // Show highest variance artifacts
        function showHighVariance() {
            document.getElementById('varianceTableTitle').textContent = 'Highest Variance Artifacts (>10x disagreement)';
            clearVarianceToggles();
            document.getElementById('highVarianceBtn').classList.add('active');

            // Restore "Explanation" header
            const headerCells = document.querySelectorAll('#variance table thead th');
            if (headerCells.length >= 5) {
                headerCells[4].textContent = 'Explanation';
            }

            // Filter artifacts with at least 2 models and sort by highest variance
            const multiModelArtifacts = artifacts.filter(a => {
                const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                return modelCount >= 2;
            });
            const sorted = [...multiModelArtifacts].sort((a, b) => b.variance_ratio - a.variance_ratio);
            const top15 = sorted.slice(0, 15);
            populateVarianceTable(top15, 'high');
            updateVarianceChart(top15, 'high');
        }

        // Show mid-range variance artifacts
        function showMidVariance() {
            document.getElementById('varianceTableTitle').textContent = 'Mid-Range Variance Artifacts (3x-10x disagreement)';
            clearVarianceToggles();
            document.getElementById('midVarianceBtn').classList.add('active');

            // Change table header to "Notes"
            const headerCells = document.querySelectorAll('#variance table thead th');
            if (headerCells.length >= 5) {
                headerCells[4].textContent = 'Notes';
            }

            // Filter artifacts with at least 2 models and sort by variance
            const multiModelArtifacts = artifacts.filter(a => {
                const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                return modelCount >= 2;
            });
            const sorted = [...multiModelArtifacts].sort((a, b) => b.variance_ratio - a.variance_ratio);

            // Find mid-range: skip highest variance items and take the next set
            const highCount = sorted.filter(a => a.variance_ratio > 10).length;
            const midStart = Math.min(highCount, Math.floor(sorted.length / 3));
            const mid15 = sorted.slice(midStart, midStart + 15);
            populateVarianceTable(mid15, 'mid');
            updateVarianceChart(mid15, 'mid');
        }

        // Show lowest variance artifacts
        function showLowVariance() {
            document.getElementById('varianceTableTitle').textContent = 'Lowest Variance Artifacts (<3x strong consensus)';
            clearVarianceToggles();
            document.getElementById('lowVarianceBtn').classList.add('active');

            // Change table header from "Explanation" to "Notes"
            const headerCells = document.querySelectorAll('#variance table thead th');
            if (headerCells.length >= 5) {
                headerCells[4].textContent = 'Notes';
            }

            // Filter artifacts with at least 2 models and sort by lowest variance
            const multiModelArtifacts = artifacts.filter(a => {
                const modelCount = Object.values(a.valuations).filter(v => v !== null).length;
                return modelCount >= 2;
            });
            const sorted = [...multiModelArtifacts].sort((a, b) => a.variance_ratio - b.variance_ratio);
            const top15 = sorted.slice(0, 15);
            populateVarianceTable(top15, 'low');
            updateVarianceChart(top15, 'low');
        }

        // Initialize all charts
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                await loadData();
                initOverviewCharts();
                initComparisonCharts();
                initTop25Table();
                initArtifactView();
                initVarianceCharts();
            } catch (error) {
                console.error('Failed to initialize dashboard:', error);
            }
        });
    </script>
</body>
</html>
